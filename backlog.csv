ID,Severity(S0-S3),Area,Component/Page,Steps to Reproduce,Expected,Actual,Root Cause,Fix,Owner,Effort
Q-002,S0,Maintainability,admin/product_manager/content_manager.py,"Launch content_manager.py on a machine where C:\Users\corte\VS Code Projects\Tienda Ebano\data does not exist","App derives data_dir from the repo root or user config and starts normally","Initialization raises ProductRepositoryError because the default data_dir points to the maintainer's absolute Windows path","DEFAULT_CONFIG hard-codes a user-specific absolute path","Compute data_dir/log_dir relative to project root (Path(__file__).parents[2]/'data') or require explicit CLI override","Engineering Lead","1-2d"
Q-003,S1,Tooling,.eslintrc.json,"Run npx eslint .","Lint should execute and enforce repo style rules","Command aborts with 'ESLint couldn't find an eslint.config' (v9 migration)","ESLint 9 defaults require eslint.config.js but repo still ships .eslintrc.json with no pinned version","Add local eslint devDependency pinned to v8 or migrate config into eslint.config.js","Front-end Lead","≤2h"
Q-004,S1,Maintainability,src/js/script.mjs,"Inspect cart helpers after building or run npm test to observe dual definitions","Single cart module exported and reused across runtime and tests","File contains duplicated addToCart/saveCart/updateCartIcon implementations (lines 1036-1126 vs 1810-1918) with diverging analytics logic","Refactors added local closures without extracting shared module, leaving two code paths to maintain","Extract cart store/helpers into dedicated module and import in both initApp and test exports","Front-end Lead","1-2d"
Q-005,S1,UX & Accessibility,templates/category.ejs,"Open /pages/<category>.html while offline or throttle network to 'Slow 3G'","Pre-rendered markup or inline payload keeps category usable without network","Product grid stays empty; initApp falls back to error banner because no inline data exists","build-pages renders shell only and relies on live fetch for all products","Emit category-specific markup/inline JSON during build and keep offline fallback list","Front-end Lead","1-2d"
Q-006,S1,Performance,src/js/utils/cfimg.mjs,"Run npm run lighthouse:audit or load the site locally without Cloudflare in front","Images load without console errors in all environments","Lighthouse flags multiple 404s for /cdn-cgi/image/... URLs and Best Practices score drops to 0","cfimg() always rewrites to Cloudflare CDN endpoints even when running locally/GitHub Pages without that service","Gate the rewrite behind config and use raw asset paths for non-Cloudflare builds","Front-end Lead","1-2d"
Q-007,S1,Performance,index.html,"Review reports/lighthouse/lighthouse-mobile-2025-10-14T00-06-32-561Z.json","Mobile LCP ≤ 2.5 s per budget","LargestContentfulPaint ~3.0 s and INP proxy (maxPotentialFID) at 91 ms","Hero image and multiple font preloads delay above-the-fold paint despite inline data","Oversized hero asset and aggressive preloads compete for bandwidth on mobile","Reduce hero image size/priority and defer non-critical font hints; consider skeleton to shift LCP to lightweight element","Front-end Lead","1-2d"
Q-008,S1,Tooling,.nvmrc,"Execute node -v in repo root","Node version matches pinned 22.20.0 / .nvmrc","Environment reports v25.0.0, diverging from CI runtime and Volta pin","Local Volta/nvm guardrails not enforced; contributors may install unsupported majors","Document Volta usage in setup script and add CI preflight to fail when node -v >=25","Repo Cartographer","≤2h"
Q-009,S2,Maintainability,admin/product_manager/gui.py,"Open the GUI module (≈2.3k lines)","UI layer split into view components/controllers for testability","Single Tkinter file mixes state, network sync, image IO, and threading logic (>2k LOC)","Incremental features accumulated without layering or presenter abstraction","Break GUI into packages (views, services, image loaders) and add unit coverage around controllers","Engineering Lead","1-2w"
Q-010,S2,Testing,.github/workflows/ci.yml,"Inspect CI workflow or observe PR builds","Python domain tests run alongside JS suites","CI only runs npm build/test/lighthouse; admin/product_manager pytest suite never executes","Workflow lacks python tooling stage","Add Python setup (pip install) and run pytest admin/product_manager/tests","QA / Test Lead","1-2d"
Q-011,S1,Resilience,service-worker.js,"Build the site, go offline, then open /index.html; inspect SW cache contents","All JS entrypoints and chunks are precached so offline navigation works","Chunks under /dist/js/chunks/ are missing from the static cache, causing offline JS failures when splitting","Static asset list is hardcoded and ignores esbuild chunk outputs","Generate an asset manifest during build and precache all JS/CSS artifacts via the service worker","Front-end Lead","1-2d"
Q-012,S1,Maintainability,src/js/script.mjs,"Inspect cart helpers or run npm test to see duplicate implementations","Cart logic lives in a single module reused across runtime and tests","Two divergent cart implementations exist (lines ~950–1127 vs ~1797–1903), risking drift","Refactors duplicated add/remove/update helpers instead of extracting a shared module","Extract cart/store helpers into a dedicated module consumed by both init paths","Front-end Lead","1-2d"
Q-013,S1,UX & Accessibility,templates/category.ejs,"Open /pages/<category>.html offline or with JS disabled","Category pages render products or show offline-ready fallback","Grid stays empty because pages rely solely on runtime fetches","Build-time render omits inline product payload for category pages","Emit category-specific markup/inline JSON during build for offline/JS-disabled paths","Front-end Lead","1-2d"
Q-014,S1,Performance,tools/build-index.js / src/js/utils/cfimg.mjs,"Serve site locally or on GitHub Pages and check network panel","Images load without /cdn-cgi/image errors when Cloudflare is absent","Image requests 404 via /cdn-cgi/image/... rewriting even when CF proxy is unavailable","cfimg() unconditionally rewrites URLs to Cloudflare CDN","Gate rewriting by environment and fall back to raw asset paths when CF is unavailable","Front-end Lead","1-2d"
Q-015,S2,Performance,src/js/modules/seo.js,"Profile initial load; structured data injects after inline payload is present","No extra fetch when product data is already embedded","injectStructuredData triggers a second fetch with cache 'no-store' despite inline data","Fallback path always refetches product_data.json","Prefer inline payload and cache-friendly fetch; avoid redundant network on first paint","Front-end Lead","≤2h"
Q-016,S2,Performance,templates/index.ejs,"Inspect font preload URLs after rebuilding assets","Font preloads stay in sync with hashed outputs","Preload hrefs are hardcoded to old hash names; rebuilds can 404 and hurt LCP","Preloads are not sourced from build outputs","Generate font preload links from the asset manifest instead of hardcoding hashes","Front-end Lead","≤2h"
Q-017,S2,Security,templates/index.ejs,"Review external CSS includes","External assets use SRI or are self-hosted","Bootstrap Icons CSS is fetched from CDN without integrity/crossorigin","Missing SRI/self-hosting for third-party icon font","Add integrity/crossorigin or self-host the icon font to comply with CSP and avoid CDN drift","Security / Supply Chain Agent","≤2h"
Q-018,S2,Accessibility,src/js/script.mjs,"Submit cart without selecting payment method","Error feedback announced in-page with focusable region","An alert() is shown ('Por favor seleccione un método de pago'), which is not accessible","Legacy alert-based validation","Render inline error message tied to the radio group and move focus there for WCAG compliance","Front-end Lead","≤2h"
Q-019,S2,Testing,package.json / CI,"Inspect test tooling and CI gates","Coverage instrumentation exists and is enforced","No coverage collection (c8) or coverage gate is configured","Coverage requirement noted in docs but not implemented","Add c8-based coverage script and wire into CI to track thresholds","QA / Test Lead","1-2d"
