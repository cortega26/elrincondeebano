(()=>{var Rr=Object.create;var vn=Object.defineProperty;var Br=Object.getOwnPropertyDescriptor;var jr=Object.getOwnPropertyNames;var Vr=Object.getPrototypeOf,Wr=Object.prototype.hasOwnProperty;var he=(e,t)=>()=>(e&&(t=e(e=0)),t);var ee=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Fr=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jr(t))!Wr.call(e,o)&&o!==n&&vn(e,o,{get:()=>t[o],enumerable:!(r=Br(t,o))||r.enumerable});return e};var ht=(e,t,n)=>(n=e!=null?Rr(Vr(e)):{},Fr(t||!e||!e.__esModule?vn(n,"default",{value:e,enumerable:!0}):n,e));function En(){try{let e=document.createElement("style");window&&window.__CSP_NONCE__&&e.setAttribute("nonce",window.__CSP_NONCE__),e.textContent=`
      /* Miniatura del carrito (mantener consistente con base/enhanced CSS) */
      .cart-item-thumb { width: 100px; height: 100px; flex-shrink: 0; }
      .cart-item-thumb img, .cart-item-thumb-img { width: 100%; height: 100%; object-fit: cover; border-radius: 0.25rem; }

      /* Contornos de enfoque claros para accesibilidad */
      .navbar .nav-link:focus,
      .navbar .dropdown-item:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
      }

      /* Espaciado entre botones en el offcanvas del carrito */
      #cartOffcanvas .offcanvas-body > .btn + .btn { margin-top: 0.5rem !important; }
    `,document.head.appendChild(e)}catch(e){console.warn("[modules/enhancements] injectEnhancementStyles error:",e)}}var bn=he(()=>{});function wn(){try{document.addEventListener("keydown",t=>{t.key==="Tab"&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")});let e=document.createElement("style");window&&window.__CSP_NONCE__&&e.setAttribute("nonce",window.__CSP_NONCE__),e.textContent=".keyboard-navigation *:focus { outline: 2px solid var(--primary-color); outline-offset: 2px; }",document.head.appendChild(e)}catch(e){console.warn("[modules/a11y] setupNavigationAccessibility error:",e)}}var _n=he(()=>{});function An(){try{"loading"in HTMLImageElement.prototype&&document.querySelectorAll("img:not([loading])").forEach(e=>{e.loading="lazy"})}catch(e){console.warn("[modules/perf] setupPerformanceOptimizations error:",e)}}var Cn=he(()=>{});function zr(){try{if(typeof window>"u")return null;let e=window[We];if(e&&Array.isArray(e.products))return e.products}catch(e){console.warn("[modules/seo] Unable to read shared product data:",e)}return null}function Kr(e,t={}){if(typeof window>"u"||!Array.isArray(e))return;let n=window[We]||{};window[We]={...n,products:e,version:t.version??n.version??null,updatedAt:t.updatedAt||Date.now(),source:t.source||n.source||"seo"}}function Sn(e=[]){let t={};return e.forEach(n=>{let r=n.id||String(n.name)+"-"+String(n.category);t[r]=n}),t}function Tn(){if(typeof window>"u")return;let e=window[We]||{};e.structuredDataInjected||(window[We]={...e,structuredDataInjected:!0})}async function Ur(){try{let e=zr();if(e)return Sn(e);let t=localStorage.getItem("productDataVersion"),n=t?`/data/product_data.json?v=${encodeURIComponent(t)}`:"/data/product_data.json",r=await fetch(n,{cache:"no-store",headers:{Accept:"application/json"}});if(!r.ok)return null;let o=await r.json(),i=Array.isArray(o?.products)?o.products:Array.isArray(o)?o:[];return Kr(i,{version:o?.version||t||null,source:"seo-fallback"}),Sn(i)}catch(e){return console.error("[modules/seo] Error loading product data:",e),null}}async function On(){try{if(document.querySelector('script[type="application/ld+json"]')){Tn();return}if((typeof window<"u"?window[We]:null)?.structuredDataInjected)return;let t=await Ur();if(!t)return;let r=Object.values(t).slice(0,20).map(u=>({"@type":"Product",name:u.name,image:u.image_path,description:u.description,brand:u.brand||"Gen\xE9rico",offers:{"@type":"Offer",price:u.price,priceCurrency:"CLP",availability:u.stock?"https://schema.org/InStock":"https://schema.org/OutOfStock"}})),o={"@context":"https://schema.org","@graph":[{"@type":"Store",name:"El Rinc\xF3n de \xC9bano",image:"https://elrincondeebano.com/assets/images/web/logo.webp",description:"Un minimarket en la puerta de tu departamento",address:{"@type":"PostalAddress",addressCountry:"CL"},telephone:"+56951118901",url:"http://www.elrincondeebano.com/",contactPoint:{"@type":"ContactPoint",telephone:"+56-951118901",contactType:"customer service"}},...r]},i=document.createElement("script");i.type="application/ld+json",window&&window.__CSP_NONCE__&&i.setAttribute("nonce",window.__CSP_NONCE__),i.textContent=JSON.stringify(o),document.head.appendChild(i),Tn()}catch(e){console.error("[modules/seo] Error generating structured data:",e)}}function Ln(){try{if(!document.querySelector('link[rel="canonical"]')){let e=document.createElement("link");e.rel="canonical",e.href=location.origin+location.pathname,document.head.appendChild(e)}if(!document.querySelector('meta[name="description"]')){let e=document.createElement("meta");e.name="description",e.content="El Rinc\xF3n de \xC9bano - Minimarket con delivery instant\xE1neo.",document.head.appendChild(e)}}catch(e){console.warn("[modules/seo] injectSeoMetadata error:",e)}}var We,Dn=he(()=>{We="__PRODUCT_DATA__"});function Pn(){try{if(!document.querySelector('link[rel="manifest"]')){let e=document.createElement("link");e.rel="manifest",e.href="/app.webmanifest",document.head.appendChild(e)}}catch(e){console.warn("[modules/pwa] injectPwaManifest error:",e)}}var Nn=he(()=>{});function In(){try{window?.console?.debug&&console.debug("[modules/checkout] setupCheckoutProgress: no-op")}catch{}}var xn=he(()=>{});var kn=ee((mt,gt)=>{(function(e,t){typeof mt=="object"&&typeof gt<"u"?gt.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Data=t())})(mt,function(){"use strict";let e=new Map;return{set(n,r,o){e.has(n)||e.set(n,new Map);let i=e.get(n);if(!i.has(r)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(r,o)},get(n,r){return e.has(n)&&e.get(n).get(r)||null},remove(n,r){if(!e.has(n))return;let o=e.get(n);o.delete(r),o.size===0&&e.delete(n)}}})});var me=ee((rt,Mn)=>{(function(e,t){typeof rt=="object"&&typeof Mn<"u"?t(rt):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.Index={}))})(rt,function(e){"use strict";let r="transitionend",o=l=>(l&&window.CSS&&window.CSS.escape&&(l=l.replace(/#([^\s"#']+)/g,(v,E)=>`#${CSS.escape(E)}`)),l),i=l=>l==null?`${l}`:Object.prototype.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase(),u=l=>{do l+=Math.floor(Math.random()*1e6);while(document.getElementById(l));return l},a=l=>{if(!l)return 0;let{transitionDuration:v,transitionDelay:E}=window.getComputedStyle(l),_=Number.parseFloat(v),N=Number.parseFloat(E);return!_&&!N?0:(v=v.split(",")[0],E=E.split(",")[0],(Number.parseFloat(v)+Number.parseFloat(E))*1e3)},c=l=>{l.dispatchEvent(new Event(r))},f=l=>!l||typeof l!="object"?!1:(typeof l.jquery<"u"&&(l=l[0]),typeof l.nodeType<"u"),s=l=>f(l)?l.jquery?l[0]:l:typeof l=="string"&&l.length>0?document.querySelector(o(l)):null,g=l=>{if(!f(l)||l.getClientRects().length===0)return!1;let v=getComputedStyle(l).getPropertyValue("visibility")==="visible",E=l.closest("details:not([open])");if(!E)return v;if(E!==l){let _=l.closest("summary");if(_&&_.parentNode!==E||_===null)return!1}return v},O=l=>!l||l.nodeType!==Node.ELEMENT_NODE||l.classList.contains("disabled")?!0:typeof l.disabled<"u"?l.disabled:l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false",S=l=>{if(!document.documentElement.attachShadow)return null;if(typeof l.getRootNode=="function"){let v=l.getRootNode();return v instanceof ShadowRoot?v:null}return l instanceof ShadowRoot?l:l.parentNode?S(l.parentNode):null},k=()=>{},T=l=>{l.offsetHeight},x=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,q=[],B=l=>{document.readyState==="loading"?(q.length||document.addEventListener("DOMContentLoaded",()=>{for(let v of q)v()}),q.push(l)):l()},R=()=>document.documentElement.dir==="rtl",p=l=>{B(()=>{let v=x();if(v){let E=l.NAME,_=v.fn[E];v.fn[E]=l.jQueryInterface,v.fn[E].Constructor=l,v.fn[E].noConflict=()=>(v.fn[E]=_,l.jQueryInterface)}})},y=(l,v=[],E=l)=>typeof l=="function"?l.call(...v):E,w=(l,v,E=!0)=>{if(!E){y(l);return}let N=a(v)+5,D=!1,M=({target:z})=>{z===v&&(D=!0,v.removeEventListener(r,M),y(l))};v.addEventListener(r,M),setTimeout(()=>{D||c(v)},N)},L=(l,v,E,_)=>{let N=l.length,D=l.indexOf(v);return D===-1?!E&&_?l[N-1]:l[0]:(D+=E?1:-1,_&&(D=(D+N)%N),l[Math.max(0,Math.min(D,N-1))])};e.defineJQueryPlugin=p,e.execute=y,e.executeAfterTransition=w,e.findShadowRoot=S,e.getElement=s,e.getNextActiveElement=L,e.getTransitionDurationFromElement=a,e.getUID=u,e.getjQuery=x,e.isDisabled=O,e.isElement=f,e.isRTL=R,e.isVisible=g,e.noop=k,e.onDOMContentLoaded=B,e.parseSelector=o,e.reflow=T,e.toType=i,e.triggerTransitionEnd=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})});var Ie=ee((yt,vt)=>{(function(e,t){typeof yt=="object"&&typeof vt<"u"?vt.exports=t(me()):typeof define=="function"&&define.amd?define(["../util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.EventHandler=t(e.Index))})(yt,function(e){"use strict";let t=/[^.]*(?=\..*)\.|.*/,n=/\..*/,r=/::\d+$/,o={},i=1,u={mouseenter:"mouseover",mouseleave:"mouseout"},a=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function c(p,y){return y&&`${y}::${i++}`||p.uidEvent||i++}function f(p){let y=c(p);return p.uidEvent=y,o[y]=o[y]||{},o[y]}function s(p,y){return function w(L){return R(L,{delegateTarget:p}),w.oneOff&&B.off(p,L.type,y),y.apply(p,[L])}}function g(p,y,w){return function L(l){let v=p.querySelectorAll(y);for(let{target:E}=l;E&&E!==this;E=E.parentNode)for(let _ of v)if(_===E)return R(l,{delegateTarget:E}),L.oneOff&&B.off(p,l.type,y,w),w.apply(E,[l])}}function O(p,y,w=null){return Object.values(p).find(L=>L.callable===y&&L.delegationSelector===w)}function S(p,y,w){let L=typeof y=="string",l=L?w:y||w,v=q(p);return a.has(v)||(v=p),[L,l,v]}function k(p,y,w,L,l){if(typeof y!="string"||!p)return;let[v,E,_]=S(y,w,L);y in u&&(E=(ie=>function(Q){if(!Q.relatedTarget||Q.relatedTarget!==Q.delegateTarget&&!Q.delegateTarget.contains(Q.relatedTarget))return ie.call(this,Q)})(E));let N=f(p),D=N[_]||(N[_]={}),M=O(D,E,v?w:null);if(M){M.oneOff=M.oneOff&&l;return}let z=c(E,y.replace(t,"")),P=v?g(p,w,E):s(p,E);P.delegationSelector=v?w:null,P.callable=E,P.oneOff=l,P.uidEvent=z,D[z]=P,p.addEventListener(_,P,v)}function T(p,y,w,L,l){let v=O(y[w],L,l);v&&(p.removeEventListener(w,v,!!l),delete y[w][v.uidEvent])}function x(p,y,w,L){let l=y[w]||{};for(let[v,E]of Object.entries(l))v.includes(L)&&T(p,y,w,E.callable,E.delegationSelector)}function q(p){return p=p.replace(n,""),u[p]||p}let B={on(p,y,w,L){k(p,y,w,L,!1)},one(p,y,w,L){k(p,y,w,L,!0)},off(p,y,w,L){if(typeof y!="string"||!p)return;let[l,v,E]=S(y,w,L),_=E!==y,N=f(p),D=N[E]||{},M=y.startsWith(".");if(typeof v<"u"){if(!Object.keys(D).length)return;T(p,N,E,v,l?w:null);return}if(M)for(let z of Object.keys(N))x(p,N,z,y.slice(1));for(let[z,P]of Object.entries(D)){let $=z.replace(r,"");(!_||y.includes($))&&T(p,N,E,P.callable,P.delegationSelector)}},trigger(p,y,w){if(typeof y!="string"||!p)return null;let L=e.getjQuery(),l=q(y),v=y!==l,E=null,_=!0,N=!0,D=!1;v&&L&&(E=L.Event(y,w),L(p).trigger(E),_=!E.isPropagationStopped(),N=!E.isImmediatePropagationStopped(),D=E.isDefaultPrevented());let M=R(new Event(y,{bubbles:_,cancelable:!0}),w);return D&&M.preventDefault(),N&&p.dispatchEvent(M),M.defaultPrevented&&E&&E.preventDefault(),M}};function R(p,y={}){for(let[w,L]of Object.entries(y))try{p[w]=L}catch{Object.defineProperty(p,w,{configurable:!0,get(){return L}})}return p}return B})});var ot=ee((Et,bt)=>{(function(e,t){typeof Et=="object"&&typeof bt<"u"?bt.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Manipulator=t())})(Et,function(){"use strict";function e(r){if(r==="true")return!0;if(r==="false")return!1;if(r===Number(r).toString())return Number(r);if(r===""||r==="null")return null;if(typeof r!="string")return r;try{return JSON.parse(decodeURIComponent(r))}catch{return r}}function t(r){return r.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}return{setDataAttribute(r,o,i){r.setAttribute(`data-bs-${t(o)}`,i)},removeDataAttribute(r,o){r.removeAttribute(`data-bs-${t(o)}`)},getDataAttributes(r){if(!r)return{};let o={},i=Object.keys(r.dataset).filter(u=>u.startsWith("bs")&&!u.startsWith("bsConfig"));for(let u of i){let a=u.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1),o[a]=e(r.dataset[u])}return o},getDataAttribute(r,o){return e(r.getAttribute(`data-bs-${t(o)}`))}}})});var it=ee((wt,_t)=>{(function(e,t){typeof wt=="object"&&typeof _t<"u"?_t.exports=t(ot(),me()):typeof define=="function"&&define.amd?define(["../dom/manipulator","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Config=t(e.Manipulator,e.Index))})(wt,function(e,t){"use strict";class n{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(o){return o=this._mergeConfigObj(o),o=this._configAfterMerge(o),this._typeCheckConfig(o),o}_configAfterMerge(o){return o}_mergeConfigObj(o,i){let u=t.isElement(i)?e.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof u=="object"?u:{},...t.isElement(i)?e.getDataAttributes(i):{},...typeof o=="object"?o:{}}}_typeCheckConfig(o,i=this.constructor.DefaultType){for(let[u,a]of Object.entries(i)){let c=o[u],f=t.isElement(c)?"element":t.toType(c);if(!new RegExp(a).test(f))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${u}" provided type "${f}" but expected type "${a}".`)}}}return n})});var at=ee((At,Ct)=>{(function(e,t){typeof At=="object"&&typeof Ct<"u"?Ct.exports=t(kn(),Ie(),it(),me()):typeof define=="function"&&define.amd?define(["./dom/data","./dom/event-handler","./util/config","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.BaseComponent=t(e.Data,e.EventHandler,e.Config,e.Index))})(At,function(e,t,n,r){"use strict";let o="5.3.8";class i extends n{constructor(a,c){super(),a=r.getElement(a),a&&(this._element=a,this._config=this._getConfig(c),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),t.off(this._element,this.constructor.EVENT_KEY);for(let a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,c,f=!0){r.executeAfterTransition(a,c,f)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return e.get(r.getElement(a),this.DATA_KEY)}static getOrCreateInstance(a,c={}){return this.getInstance(a)||new this(a,typeof c=="object"?c:null)}static get VERSION(){return o}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}return i})});var $e=ee((St,Tt)=>{(function(e,t){typeof St=="object"&&typeof Tt<"u"?Tt.exports=t(me()):typeof define=="function"&&define.amd?define(["../util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.SelectorEngine=t(e.Index))})(St,function(e){"use strict";let t=r=>{let o=r.getAttribute("data-bs-target");if(!o||o==="#"){let i=r.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),o=i&&i!=="#"?i.trim():null}return o?o.split(",").map(i=>e.parseSelector(i)).join(","):null},n={find(r,o=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(o,r))},findOne(r,o=document.documentElement){return Element.prototype.querySelector.call(o,r)},children(r,o){return[].concat(...r.children).filter(i=>i.matches(o))},parents(r,o){let i=[],u=r.parentNode.closest(o);for(;u;)i.push(u),u=u.parentNode.closest(o);return i},prev(r,o){let i=r.previousElementSibling;for(;i;){if(i.matches(o))return[i];i=i.previousElementSibling}return[]},next(r,o){let i=r.nextElementSibling;for(;i;){if(i.matches(o))return[i];i=i.nextElementSibling}return[]},focusableChildren(r){let o=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(o,r).filter(i=>!e.isDisabled(i)&&e.isVisible(i))},getSelectorFromElement(r){let o=t(r);return o&&n.findOne(o)?o:null},getElementFromSelector(r){let o=t(r);return o?n.findOne(o):null},getMultipleElementsFromSelector(r){let o=t(r);return o?n.find(o):[]}};return n})});var $n=ee((Ot,Lt)=>{(function(e,t){typeof Ot=="object"&&typeof Lt<"u"?Lt.exports=t(at(),Ie(),$e(),me()):typeof define=="function"&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Collapse=t(e.BaseComponent,e.EventHandler,e.SelectorEngine,e.Index))})(Ot,function(e,t,n,r){"use strict";let o="collapse",u=".bs.collapse",a=".data-api",c=`show${u}`,f=`shown${u}`,s=`hide${u}`,g=`hidden${u}`,O=`click${u}${a}`,S="show",k="collapse",T="collapsing",x="collapsed",q=`:scope .${k} .${k}`,B="collapse-horizontal",R="width",p="height",y=".collapse.show, .collapse.collapsing",w='[data-bs-toggle="collapse"]',L={parent:null,toggle:!0},l={parent:"(null|element)",toggle:"boolean"};class v extends e{constructor(_,N){super(_,N),this._isTransitioning=!1,this._triggerArray=[];let D=n.find(w);for(let M of D){let z=n.getSelectorFromElement(M),P=n.find(z).filter($=>$===this._element);z!==null&&P.length&&this._triggerArray.push(M)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return L}static get DefaultType(){return l}static get NAME(){return o}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let _=[];if(this._config.parent&&(_=this._getFirstLevelChildren(y).filter($=>$!==this._element).map($=>v.getOrCreateInstance($,{toggle:!1}))),_.length&&_[0]._isTransitioning||t.trigger(this._element,c).defaultPrevented)return;for(let $ of _)$.hide();let D=this._getDimension();this._element.classList.remove(k),this._element.classList.add(T),this._element.style[D]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let M=()=>{this._isTransitioning=!1,this._element.classList.remove(T),this._element.classList.add(k,S),this._element.style[D]="",t.trigger(this._element,f)},P=`scroll${D[0].toUpperCase()+D.slice(1)}`;this._queueCallback(M,this._element,!0),this._element.style[D]=`${this._element[P]}px`}hide(){if(this._isTransitioning||!this._isShown()||t.trigger(this._element,s).defaultPrevented)return;let N=this._getDimension();this._element.style[N]=`${this._element.getBoundingClientRect()[N]}px`,r.reflow(this._element),this._element.classList.add(T),this._element.classList.remove(k,S);for(let M of this._triggerArray){let z=n.getElementFromSelector(M);z&&!this._isShown(z)&&this._addAriaAndCollapsedClass([M],!1)}this._isTransitioning=!0;let D=()=>{this._isTransitioning=!1,this._element.classList.remove(T),this._element.classList.add(k),t.trigger(this._element,g)};this._element.style[N]="",this._queueCallback(D,this._element,!0)}_isShown(_=this._element){return _.classList.contains(S)}_configAfterMerge(_){return _.toggle=!!_.toggle,_.parent=r.getElement(_.parent),_}_getDimension(){return this._element.classList.contains(B)?R:p}_initializeChildren(){if(!this._config.parent)return;let _=this._getFirstLevelChildren(w);for(let N of _){let D=n.getElementFromSelector(N);D&&this._addAriaAndCollapsedClass([N],this._isShown(D))}}_getFirstLevelChildren(_){let N=n.find(q,this._config.parent);return n.find(_,this._config.parent).filter(D=>!N.includes(D))}_addAriaAndCollapsedClass(_,N){if(_.length)for(let D of _)D.classList.toggle(x,!N),D.setAttribute("aria-expanded",N)}static jQueryInterface(_){let N={};return typeof _=="string"&&/show|hide/.test(_)&&(N.toggle=!1),this.each(function(){let D=v.getOrCreateInstance(this,N);if(typeof _=="string"){if(typeof D[_]>"u")throw new TypeError(`No method named "${_}"`);D[_]()}})}}return t.on(document,O,w,function(E){(E.target.tagName==="A"||E.delegateTarget&&E.delegateTarget.tagName==="A")&&E.preventDefault();for(let _ of n.getMultipleElementsFromSelector(this))v.getOrCreateInstance(_,{toggle:!1}).toggle()}),r.defineJQueryPlugin(v),v})});var sr=ee(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});function se(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Re(e){var t=se(e).Element;return e instanceof t||e instanceof Element}function de(e){var t=se(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Nt(e){if(typeof ShadowRoot>"u")return!1;var t=se(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var qe=Math.max,lt=Math.min,Fe=Math.round;function Dt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Un(){return!/^((?!chrome|android).)*safari/i.test(Dt())}function ze(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&de(e)&&(o=e.offsetWidth>0&&Fe(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Fe(r.height)/e.offsetHeight||1);var u=Re(e)?se(e):window,a=u.visualViewport,c=!Un()&&n,f=(r.left+(c&&a?a.offsetLeft:0))/o,s=(r.top+(c&&a?a.offsetTop:0))/i,g=r.width/o,O=r.height/i;return{width:g,height:O,top:s,right:f+g,bottom:s+O,left:f,x:f,y:s}}function It(e){var t=se(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Hr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Yr(e){return e===se(e)||!de(e)?It(e):Hr(e)}function _e(e){return e?(e.nodeName||"").toLowerCase():null}function xe(e){return((Re(e)?e.ownerDocument:e.document)||window.document).documentElement}function xt(e){return ze(xe(e)).left+It(e).scrollLeft}function Se(e){return se(e).getComputedStyle(e)}function kt(e){var t=Se(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Gr(e){var t=e.getBoundingClientRect(),n=Fe(t.width)/e.offsetWidth||1,r=Fe(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Qr(e,t,n){n===void 0&&(n=!1);var r=de(t),o=de(t)&&Gr(t),i=xe(t),u=ze(e,o,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((_e(t)!=="body"||kt(i))&&(a=Yr(t)),de(t)?(c=ze(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=xt(i))),{x:u.left+a.scrollLeft-c.x,y:u.top+a.scrollTop-c.y,width:u.width,height:u.height}}function Mt(e){var t=ze(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ut(e){return _e(e)==="html"?e:e.assignedSlot||e.parentNode||(Nt(e)?e.host:null)||xe(e)}function Hn(e){return["html","body","#document"].indexOf(_e(e))>=0?e.ownerDocument.body:de(e)&&kt(e)?e:Hn(ut(e))}function Ge(e,t){var n;t===void 0&&(t=[]);var r=Hn(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=se(r),u=o?[i].concat(i.visualViewport||[],kt(r)?r:[]):r,a=t.concat(u);return o?a:a.concat(Ge(ut(u)))}function Jr(e){return["table","td","th"].indexOf(_e(e))>=0}function qn(e){return!de(e)||Se(e).position==="fixed"?null:e.offsetParent}function Xr(e){var t=/firefox/i.test(Dt()),n=/Trident/i.test(Dt());if(n&&de(e)){var r=Se(e);if(r.position==="fixed")return null}var o=ut(e);for(Nt(o)&&(o=o.host);de(o)&&["html","body"].indexOf(_e(o))<0;){var i=Se(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Xe(e){for(var t=se(e),n=qn(e);n&&Jr(n)&&Se(n).position==="static";)n=qn(n);return n&&(_e(n)==="html"||_e(n)==="body"&&Se(n).position==="static")?t:n||Xr(e)||t}var re="top",fe="bottom",pe="right",oe="left",$t="auto",Ze=[re,fe,pe,oe],Ke="start",Je="end",Zr="clippingParents",Yn="viewport",Ye="popper",eo="reference",Rn=Ze.reduce(function(e,t){return e.concat([t+"-"+Ke,t+"-"+Je])},[]),Gn=[].concat(Ze,[$t]).reduce(function(e,t){return e.concat([t,t+"-"+Ke,t+"-"+Je])},[]),to="beforeRead",no="read",ro="afterRead",oo="beforeMain",io="main",ao="afterMain",so="beforeWrite",co="write",lo="afterWrite",uo=[to,no,ro,oo,io,ao,so,co,lo];function fo(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var u=[].concat(i.requires||[],i.requiresIfExists||[]);u.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&o(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function po(e){var t=fo(e);return uo.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function ho(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function mo(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}function go(e,t){var n=se(e),r=xe(e),o=n.visualViewport,i=r.clientWidth,u=r.clientHeight,a=0,c=0;if(o){i=o.width,u=o.height;var f=Un();(f||!f&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:u,x:a+xt(e),y:c}}function yo(e){var t,n=xe(e),r=It(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=qe(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),u=qe(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+xt(e),c=-r.scrollTop;return Se(o||n).direction==="rtl"&&(a+=qe(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:u,x:a,y:c}}function Qn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Nt(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Pt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function vo(e,t){var n=ze(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Bn(e,t,n){return t===Yn?Pt(go(e,n)):Re(t)?vo(t,n):Pt(yo(xe(e)))}function Eo(e){var t=Ge(ut(e)),n=["absolute","fixed"].indexOf(Se(e).position)>=0,r=n&&de(e)?Xe(e):e;return Re(r)?t.filter(function(o){return Re(o)&&Qn(o,r)&&_e(o)!=="body"}):[]}function bo(e,t,n,r){var o=t==="clippingParents"?Eo(e):[].concat(t),i=[].concat(o,[n]),u=i[0],a=i.reduce(function(c,f){var s=Bn(e,f,r);return c.top=qe(s.top,c.top),c.right=lt(s.right,c.right),c.bottom=lt(s.bottom,c.bottom),c.left=qe(s.left,c.left),c},Bn(e,u,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function we(e){return e.split("-")[0]}function Ue(e){return e.split("-")[1]}function qt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Jn(e){var t=e.reference,n=e.element,r=e.placement,o=r?we(r):null,i=r?Ue(r):null,u=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(o){case re:c={x:u,y:t.y-n.height};break;case fe:c={x:u,y:t.y+t.height};break;case pe:c={x:t.x+t.width,y:a};break;case oe:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var f=o?qt(o):null;if(f!=null){var s=f==="y"?"height":"width";switch(i){case Ke:c[f]=c[f]-(t[s]/2-n[s]/2);break;case Je:c[f]=c[f]+(t[s]/2-n[s]/2);break}}return c}function Xn(){return{top:0,right:0,bottom:0,left:0}}function Zn(e){return Object.assign({},Xn(),e)}function er(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}function He(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,u=i===void 0?e.strategy:i,a=n.boundary,c=a===void 0?Zr:a,f=n.rootBoundary,s=f===void 0?Yn:f,g=n.elementContext,O=g===void 0?Ye:g,S=n.altBoundary,k=S===void 0?!1:S,T=n.padding,x=T===void 0?0:T,q=Zn(typeof x!="number"?x:er(x,Ze)),B=O===Ye?eo:Ye,R=e.rects.popper,p=e.elements[k?B:O],y=bo(Re(p)?p:p.contextElement||xe(e.elements.popper),c,s,u),w=ze(e.elements.reference),L=Jn({reference:w,element:R,strategy:"absolute",placement:o}),l=Pt(Object.assign({},R,L)),v=O===Ye?l:w,E={top:y.top-v.top+q.top,bottom:v.bottom-y.bottom+q.bottom,left:y.left-v.left+q.left,right:v.right-y.right+q.right},_=e.modifiersData.offset;if(O===Ye&&_){var N=_[o];Object.keys(E).forEach(function(D){var M=[pe,fe].indexOf(D)>=0?1:-1,z=[re,fe].indexOf(D)>=0?"y":"x";E[D]+=N[z]*M})}return E}var jn={placement:"bottom",modifiers:[],strategy:"absolute"};function Vn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Rt(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?jn:o;return function(a,c,f){f===void 0&&(f=i);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},jn,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},g=[],O=!1,S={state:s,setOptions:function(q){var B=typeof q=="function"?q(s.options):q;T(),s.options=Object.assign({},i,s.options,B),s.scrollParents={reference:Re(a)?Ge(a):a.contextElement?Ge(a.contextElement):[],popper:Ge(c)};var R=po(mo([].concat(r,s.options.modifiers)));return s.orderedModifiers=R.filter(function(p){return p.enabled}),k(),S.update()},forceUpdate:function(){if(!O){var q=s.elements,B=q.reference,R=q.popper;if(Vn(B,R)){s.rects={reference:Qr(B,Xe(R),s.options.strategy==="fixed"),popper:Mt(R)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(E){return s.modifiersData[E.name]=Object.assign({},E.data)});for(var p=0;p<s.orderedModifiers.length;p++){if(s.reset===!0){s.reset=!1,p=-1;continue}var y=s.orderedModifiers[p],w=y.fn,L=y.options,l=L===void 0?{}:L,v=y.name;typeof w=="function"&&(s=w({state:s,options:l,name:v,instance:S})||s)}}}},update:ho(function(){return new Promise(function(x){S.forceUpdate(),x(s)})}),destroy:function(){T(),O=!0}};if(!Vn(a,c))return S;S.setOptions(f).then(function(x){!O&&f.onFirstUpdate&&f.onFirstUpdate(x)});function k(){s.orderedModifiers.forEach(function(x){var q=x.name,B=x.options,R=B===void 0?{}:B,p=x.effect;if(typeof p=="function"){var y=p({state:s,name:q,instance:S,options:R}),w=function(){};g.push(y||w)}})}function T(){g.forEach(function(x){return x()}),g=[]}return S}}var st={passive:!0};function wo(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,u=r.resize,a=u===void 0?!0:u,c=se(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&f.forEach(function(s){s.addEventListener("scroll",n.update,st)}),a&&c.addEventListener("resize",n.update,st),function(){i&&f.forEach(function(s){s.removeEventListener("scroll",n.update,st)}),a&&c.removeEventListener("resize",n.update,st)}}var Bt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wo,data:{}};function _o(e){var t=e.state,n=e.name;t.modifiersData[n]=Jn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var jt={name:"popperOffsets",enabled:!0,phase:"read",fn:_o,data:{}},Ao={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Co(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Fe(n*o)/o||0,y:Fe(r*o)/o||0}}function Wn(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,u=e.offsets,a=e.position,c=e.gpuAcceleration,f=e.adaptive,s=e.roundOffsets,g=e.isFixed,O=u.x,S=O===void 0?0:O,k=u.y,T=k===void 0?0:k,x=typeof s=="function"?s({x:S,y:T}):{x:S,y:T};S=x.x,T=x.y;var q=u.hasOwnProperty("x"),B=u.hasOwnProperty("y"),R=oe,p=re,y=window;if(f){var w=Xe(n),L="clientHeight",l="clientWidth";if(w===se(n)&&(w=xe(n),Se(w).position!=="static"&&a==="absolute"&&(L="scrollHeight",l="scrollWidth")),w=w,o===re||(o===oe||o===pe)&&i===Je){p=fe;var v=g&&w===y&&y.visualViewport?y.visualViewport.height:w[L];T-=v-r.height,T*=c?1:-1}if(o===oe||(o===re||o===fe)&&i===Je){R=pe;var E=g&&w===y&&y.visualViewport?y.visualViewport.width:w[l];S-=E-r.width,S*=c?1:-1}}var _=Object.assign({position:a},f&&Ao),N=s===!0?Co({x:S,y:T},se(n)):{x:S,y:T};if(S=N.x,T=N.y,c){var D;return Object.assign({},_,(D={},D[p]=B?"0":"",D[R]=q?"0":"",D.transform=(y.devicePixelRatio||1)<=1?"translate("+S+"px, "+T+"px)":"translate3d("+S+"px, "+T+"px, 0)",D))}return Object.assign({},_,(t={},t[p]=B?T+"px":"",t[R]=q?S+"px":"",t.transform="",t))}function So(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,u=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,f={placement:we(t.placement),variation:Ue(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Wn(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:u,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Wn(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Vt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:So,data:{}};function To(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!de(i)||!_e(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(u){var a=o[u];a===!1?i.removeAttribute(u):i.setAttribute(u,a===!0?"":a)}))})}function Oo(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},u=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=u.reduce(function(c,f){return c[f]="",c},{});!de(o)||!_e(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(c){o.removeAttribute(c)}))})}}var Wt={name:"applyStyles",enabled:!0,phase:"write",fn:To,effect:Oo,requires:["computeStyles"]};function Lo(e,t,n){var r=we(e),o=[oe,re].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,u=i[0],a=i[1];return u=u||0,a=(a||0)*o,[oe,pe].indexOf(r)>=0?{x:a,y:u}:{x:u,y:a}}function Do(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,u=Gn.reduce(function(s,g){return s[g]=Lo(g,t.rects,i),s},{}),a=u[t.placement],c=a.x,f=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=f),t.modifiersData[r]=u}var tr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Do},Po={left:"right",right:"left",bottom:"top",top:"bottom"};function ct(e){return e.replace(/left|right|bottom|top/g,function(t){return Po[t]})}var No={start:"end",end:"start"};function Fn(e){return e.replace(/start|end/g,function(t){return No[t]})}function Io(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,u=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,f=c===void 0?Gn:c,s=Ue(r),g=s?a?Rn:Rn.filter(function(k){return Ue(k)===s}):Ze,O=g.filter(function(k){return f.indexOf(k)>=0});O.length===0&&(O=g);var S=O.reduce(function(k,T){return k[T]=He(e,{placement:T,boundary:o,rootBoundary:i,padding:u})[we(T)],k},{});return Object.keys(S).sort(function(k,T){return S[k]-S[T]})}function xo(e){if(we(e)===$t)return[];var t=ct(e);return[Fn(e),t,Fn(t)]}function ko(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,u=n.altAxis,a=u===void 0?!0:u,c=n.fallbackPlacements,f=n.padding,s=n.boundary,g=n.rootBoundary,O=n.altBoundary,S=n.flipVariations,k=S===void 0?!0:S,T=n.allowedAutoPlacements,x=t.options.placement,q=we(x),B=q===x,R=c||(B||!k?[ct(x)]:xo(x)),p=[x].concat(R).reduce(function(ye,le){return ye.concat(we(le)===$t?Io(t,{placement:le,boundary:s,rootBoundary:g,padding:f,flipVariations:k,allowedAutoPlacements:T}):le)},[]),y=t.rects.reference,w=t.rects.popper,L=new Map,l=!0,v=p[0],E=0;E<p.length;E++){var _=p[E],N=we(_),D=Ue(_)===Ke,M=[re,fe].indexOf(N)>=0,z=M?"width":"height",P=He(t,{placement:_,boundary:s,rootBoundary:g,altBoundary:O,padding:f}),$=M?D?pe:oe:D?fe:re;y[z]>w[z]&&($=ct($));var ie=ct($),Q=[];if(i&&Q.push(P[N]<=0),a&&Q.push(P[$]<=0,P[ie]<=0),Q.every(function(ye){return ye})){v=_,l=!1;break}L.set(_,Q)}if(l)for(var Oe=k?3:1,ke=function(le){var ve=p.find(function(Ee){var ne=L.get(Ee);if(ne)return ne.slice(0,le).every(function(De){return De})});if(ve)return v=ve,"break"},Ae=Oe;Ae>0;Ae--){var Le=ke(Ae);if(Le==="break")break}t.placement!==v&&(t.modifiersData[r]._skip=!0,t.placement=v,t.reset=!0)}}var nr={name:"flip",enabled:!0,phase:"main",fn:ko,requiresIfExists:["offset"],data:{_skip:!1}};function Mo(e){return e==="x"?"y":"x"}function Qe(e,t,n){return qe(e,lt(t,n))}function $o(e,t,n){var r=Qe(e,t,n);return r>n?n:r}function qo(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,u=n.altAxis,a=u===void 0?!1:u,c=n.boundary,f=n.rootBoundary,s=n.altBoundary,g=n.padding,O=n.tether,S=O===void 0?!0:O,k=n.tetherOffset,T=k===void 0?0:k,x=He(t,{boundary:c,rootBoundary:f,padding:g,altBoundary:s}),q=we(t.placement),B=Ue(t.placement),R=!B,p=qt(q),y=Mo(p),w=t.modifiersData.popperOffsets,L=t.rects.reference,l=t.rects.popper,v=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,E=typeof v=="number"?{mainAxis:v,altAxis:v}:Object.assign({mainAxis:0,altAxis:0},v),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(w){if(i){var D,M=p==="y"?re:oe,z=p==="y"?fe:pe,P=p==="y"?"height":"width",$=w[p],ie=$+x[M],Q=$-x[z],Oe=S?-l[P]/2:0,ke=B===Ke?L[P]:l[P],Ae=B===Ke?-l[P]:-L[P],Le=t.elements.arrow,ye=S&&Le?Mt(Le):{width:0,height:0},le=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Xn(),ve=le[M],Ee=le[z],ne=Qe(0,L[P],ye[P]),De=R?L[P]/2-Oe-ne-ve-E.mainAxis:ke-ne-ve-E.mainAxis,Z=R?-L[P]/2+Oe+ne+Ee+E.mainAxis:Ae+ne+Ee+E.mainAxis,J=t.elements.arrow&&Xe(t.elements.arrow),C=J?p==="y"?J.clientTop||0:J.clientLeft||0:0,K=(D=_?.[p])!=null?D:0,H=$+De-K-C,Y=$+Z-K,be=Qe(S?lt(ie,H):ie,$,S?qe(Q,Y):Q);w[p]=be,N[p]=be-$}if(a){var d,m=p==="x"?re:oe,A=p==="x"?fe:pe,b=w[y],h=y==="y"?"height":"width",I=b+x[m],j=b-x[A],F=[re,oe].indexOf(q)!==-1,X=(d=_?.[y])!=null?d:0,G=F?I:b-L[h]-l[h]-X+E.altAxis,U=F?b+L[h]+l[h]-X-E.altAxis:j,V=S&&F?$o(G,b,U):Qe(S?G:I,b,S?U:j);w[y]=V,N[y]=V-b}t.modifiersData[r]=N}}var rr={name:"preventOverflow",enabled:!0,phase:"main",fn:qo,requiresIfExists:["offset"]},Ro=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Zn(typeof t!="number"?t:er(t,Ze))};function Bo(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,u=n.modifiersData.popperOffsets,a=we(n.placement),c=qt(a),f=[oe,pe].indexOf(a)>=0,s=f?"height":"width";if(!(!i||!u)){var g=Ro(o.padding,n),O=Mt(i),S=c==="y"?re:oe,k=c==="y"?fe:pe,T=n.rects.reference[s]+n.rects.reference[c]-u[c]-n.rects.popper[s],x=u[c]-n.rects.reference[c],q=Xe(i),B=q?c==="y"?q.clientHeight||0:q.clientWidth||0:0,R=T/2-x/2,p=g[S],y=B-O[s]-g[k],w=B/2-O[s]/2+R,L=Qe(p,w,y),l=c;n.modifiersData[r]=(t={},t[l]=L,t.centerOffset=L-w,t)}}function jo(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Qn(t.elements.popper,o)&&(t.elements.arrow=o))}var or={name:"arrow",enabled:!0,phase:"main",fn:Bo,effect:jo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zn(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Kn(e){return[re,pe,fe,oe].some(function(t){return e[t]>=0})}function Vo(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,u=He(t,{elementContext:"reference"}),a=He(t,{altBoundary:!0}),c=zn(u,r),f=zn(a,o,i),s=Kn(c),g=Kn(f);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:s,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":s,"data-popper-escaped":g})}var ir={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Vo},Wo=[Bt,jt,Vt,Wt],Fo=Rt({defaultModifiers:Wo}),ar=[Bt,jt,Vt,Wt,tr,nr,rr,or,ir],zo=Rt({defaultModifiers:ar});te.applyStyles=Wt;te.arrow=or;te.computeStyles=Vt;te.createPopper=zo;te.createPopperLite=Fo;te.defaultModifiers=ar;te.detectOverflow=He;te.eventListeners=Bt;te.flip=nr;te.hide=ir;te.offset=tr;te.popperGenerator=Rt;te.popperOffsets=jt;te.preventOverflow=rr});var cr=ee((Ft,zt)=>{(function(e,t){typeof Ft=="object"&&typeof zt<"u"?zt.exports=t(sr(),at(),Ie(),ot(),$e(),me()):typeof define=="function"&&define.amd?define(["@popperjs/core","./base-component","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Dropdown=t(e["@popperjs/core"],e.BaseComponent,e.EventHandler,e.Manipulator,e.SelectorEngine,e.Index))})(Ft,function(e,t,n,r,o,i){"use strict";function u(J){let C=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(J){for(let K in J)if(K!=="default"){let H=Object.getOwnPropertyDescriptor(J,K);Object.defineProperty(C,K,H.get?H:{enumerable:!0,get:()=>J[K]})}}return C.default=J,Object.freeze(C)}let a=u(e),c="dropdown",s=".bs.dropdown",g=".data-api",O="Escape",S="Tab",k="ArrowUp",T="ArrowDown",x=2,q=`hide${s}`,B=`hidden${s}`,R=`show${s}`,p=`shown${s}`,y=`click${s}${g}`,w=`keydown${s}${g}`,L=`keyup${s}${g}`,l="show",v="dropup",E="dropend",_="dropstart",N="dropup-center",D="dropdown-center",M='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',z=`${M}.${l}`,P=".dropdown-menu",$=".navbar",ie=".navbar-nav",Q=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Oe=i.isRTL()?"top-end":"top-start",ke=i.isRTL()?"top-start":"top-end",Ae=i.isRTL()?"bottom-end":"bottom-start",Le=i.isRTL()?"bottom-start":"bottom-end",ye=i.isRTL()?"left-start":"right-start",le=i.isRTL()?"right-start":"left-start",ve="top",Ee="bottom",ne={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},De={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Z extends t{constructor(C,K){super(C,K),this._popper=null,this._parent=this._element.parentNode,this._menu=o.next(this._element,P)[0]||o.prev(this._element,P)[0]||o.findOne(P,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ne}static get DefaultType(){return De}static get NAME(){return c}toggle(){return this._isShown()?this.hide():this.show()}show(){if(i.isDisabled(this._element)||this._isShown())return;let C={relatedTarget:this._element};if(!n.trigger(this._element,R,C).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ie))for(let H of[].concat(...document.body.children))n.on(H,"mouseover",i.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(l),this._element.classList.add(l),n.trigger(this._element,p,C)}}hide(){if(i.isDisabled(this._element)||!this._isShown())return;let C={relatedTarget:this._element};this._completeHide(C)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(C){if(!n.trigger(this._element,q,C).defaultPrevented){if("ontouchstart"in document.documentElement)for(let H of[].concat(...document.body.children))n.off(H,"mouseover",i.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(l),this._element.classList.remove(l),this._element.setAttribute("aria-expanded","false"),r.removeDataAttribute(this._menu,"popper"),n.trigger(this._element,B,C)}}_getConfig(C){if(C=super._getConfig(C),typeof C.reference=="object"&&!i.isElement(C.reference)&&typeof C.reference.getBoundingClientRect!="function")throw new TypeError(`${c.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return C}_createPopper(){if(typeof a>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let C=this._element;this._config.reference==="parent"?C=this._parent:i.isElement(this._config.reference)?C=i.getElement(this._config.reference):typeof this._config.reference=="object"&&(C=this._config.reference);let K=this._getPopperConfig();this._popper=a.createPopper(C,this._menu,K)}_isShown(){return this._menu.classList.contains(l)}_getPlacement(){let C=this._parent;if(C.classList.contains(E))return ye;if(C.classList.contains(_))return le;if(C.classList.contains(N))return ve;if(C.classList.contains(D))return Ee;let K=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return C.classList.contains(v)?K?ke:Oe:K?Le:Ae}_detectNavbar(){return this._element.closest($)!==null}_getOffset(){let{offset:C}=this._config;return typeof C=="string"?C.split(",").map(K=>Number.parseInt(K,10)):typeof C=="function"?K=>C(K,this._element):C}_getPopperConfig(){let C={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(r.setDataAttribute(this._menu,"popper","static"),C.modifiers=[{name:"applyStyles",enabled:!1}]),{...C,...i.execute(this._config.popperConfig,[void 0,C])}}_selectMenuItem({key:C,target:K}){let H=o.find(Q,this._menu).filter(Y=>i.isVisible(Y));H.length&&i.getNextActiveElement(H,K,C===T,!H.includes(K)).focus()}static jQueryInterface(C){return this.each(function(){let K=Z.getOrCreateInstance(this,C);if(typeof C=="string"){if(typeof K[C]>"u")throw new TypeError(`No method named "${C}"`);K[C]()}})}static clearMenus(C){if(C.button===x||C.type==="keyup"&&C.key!==S)return;let K=o.find(z);for(let H of K){let Y=Z.getInstance(H);if(!Y||Y._config.autoClose===!1)continue;let be=C.composedPath(),d=be.includes(Y._menu);if(be.includes(Y._element)||Y._config.autoClose==="inside"&&!d||Y._config.autoClose==="outside"&&d||Y._menu.contains(C.target)&&(C.type==="keyup"&&C.key===S||/input|select|option|textarea|form/i.test(C.target.tagName)))continue;let m={relatedTarget:Y._element};C.type==="click"&&(m.clickEvent=C),Y._completeHide(m)}}static dataApiKeydownHandler(C){let K=/input|textarea/i.test(C.target.tagName),H=C.key===O,Y=[k,T].includes(C.key);if(!Y&&!H||K&&!H)return;C.preventDefault();let be=this.matches(M)?this:o.prev(this,M)[0]||o.next(this,M)[0]||o.findOne(M,C.delegateTarget.parentNode),d=Z.getOrCreateInstance(be);if(Y){C.stopPropagation(),d.show(),d._selectMenuItem(C);return}d._isShown()&&(C.stopPropagation(),d.hide(),be.focus())}}return n.on(document,w,M,Z.dataApiKeydownHandler),n.on(document,w,P,Z.dataApiKeydownHandler),n.on(document,y,Z.clearMenus),n.on(document,L,Z.clearMenus),n.on(document,y,M,function(J){J.preventDefault(),Z.getOrCreateInstance(this).toggle()}),i.defineJQueryPlugin(Z),Z})});var lr=ee((Kt,Ut)=>{(function(e,t){typeof Kt=="object"&&typeof Ut<"u"?Ut.exports=t(Ie(),it(),me()):typeof define=="function"&&define.amd?define(["../dom/event-handler","./config","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Backdrop=t(e.EventHandler,e.Config,e.Index))})(Kt,function(e,t,n){"use strict";let r="backdrop",o="fade",i="show",u=`mousedown.bs.${r}`,a={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},c={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class f extends t{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return a}static get DefaultType(){return c}static get NAME(){return r}show(g){if(!this._config.isVisible){n.execute(g);return}this._append();let O=this._getElement();this._config.isAnimated&&n.reflow(O),O.classList.add(i),this._emulateAnimation(()=>{n.execute(g)})}hide(g){if(!this._config.isVisible){n.execute(g);return}this._getElement().classList.remove(i),this._emulateAnimation(()=>{this.dispose(),n.execute(g)})}dispose(){this._isAppended&&(e.off(this._element,u),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add(o),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=n.getElement(g.rootElement),g}_append(){if(this._isAppended)return;let g=this._getElement();this._config.rootElement.append(g),e.on(g,u,()=>{n.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){n.executeAfterTransition(g,this._getElement(),this._config.isAnimated)}}return f})});var dr=ee((dt,ur)=>{(function(e,t){typeof dt=="object"&&typeof ur<"u"?t(dt,Ie(),$e(),me()):typeof define=="function"&&define.amd?define(["exports","../dom/event-handler","../dom/selector-engine","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.ComponentFunctions={},e.EventHandler,e.SelectorEngine,e.Index))})(dt,function(e,t,n,r){"use strict";let o=(i,u="hide")=>{let a=`click.dismiss${i.EVENT_KEY}`,c=i.NAME;t.on(document,a,`[data-bs-dismiss="${c}"]`,function(f){if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),r.isDisabled(this))return;let s=n.getElementFromSelector(this)||this.closest(`.${c}`);i.getOrCreateInstance(s)[u]()})};e.enableDismissTrigger=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})});var fr=ee((Ht,Yt)=>{(function(e,t){typeof Ht=="object"&&typeof Yt<"u"?Yt.exports=t(Ie(),$e(),it()):typeof define=="function"&&define.amd?define(["../dom/event-handler","../dom/selector-engine","./config"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Focustrap=t(e.EventHandler,e.SelectorEngine,e.Config))})(Ht,function(e,t,n){"use strict";let r="focustrap",i=".bs.focustrap",u=`focusin${i}`,a=`keydown.tab${i}`,c="Tab",f="forward",s="backward",g={autofocus:!0,trapElement:null},O={autofocus:"boolean",trapElement:"element"};class S extends n{constructor(T){super(),this._config=this._getConfig(T),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return g}static get DefaultType(){return O}static get NAME(){return r}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),e.off(document,i),e.on(document,u,T=>this._handleFocusin(T)),e.on(document,a,T=>this._handleKeydown(T)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,e.off(document,i))}_handleFocusin(T){let{trapElement:x}=this._config;if(T.target===document||T.target===x||x.contains(T.target))return;let q=t.focusableChildren(x);q.length===0?x.focus():this._lastTabNavDirection===s?q[q.length-1].focus():q[0].focus()}_handleKeydown(T){T.key===c&&(this._lastTabNavDirection=T.shiftKey?s:f)}}return S})});var pr=ee((Gt,Qt)=>{(function(e,t){typeof Gt=="object"&&typeof Qt<"u"?Qt.exports=t(ot(),$e(),me()):typeof define=="function"&&define.amd?define(["../dom/manipulator","../dom/selector-engine","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Scrollbar=t(e.Manipulator,e.SelectorEngine,e.Index))})(Gt,function(e,t,n){"use strict";let r=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",o=".sticky-top",i="padding-right",u="margin-right";class a{constructor(){this._element=document.body}getWidth(){let f=document.documentElement.clientWidth;return Math.abs(window.innerWidth-f)}hide(){let f=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,i,s=>s+f),this._setElementAttributes(r,i,s=>s+f),this._setElementAttributes(o,u,s=>s-f)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,i),this._resetElementAttributes(r,i),this._resetElementAttributes(o,u)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(f,s,g){let O=this.getWidth(),S=k=>{if(k!==this._element&&window.innerWidth>k.clientWidth+O)return;this._saveInitialAttribute(k,s);let T=window.getComputedStyle(k).getPropertyValue(s);k.style.setProperty(s,`${g(Number.parseFloat(T))}px`)};this._applyManipulationCallback(f,S)}_saveInitialAttribute(f,s){let g=f.style.getPropertyValue(s);g&&e.setDataAttribute(f,s,g)}_resetElementAttributes(f,s){let g=O=>{let S=e.getDataAttribute(O,s);if(S===null){O.style.removeProperty(s);return}e.removeDataAttribute(O,s),O.style.setProperty(s,S)};this._applyManipulationCallback(f,g)}_applyManipulationCallback(f,s){if(n.isElement(f)){s(f);return}for(let g of t.find(f,this._element))s(g)}}return a})});var hr=ee((Jt,Xt)=>{(function(e,t){typeof Jt=="object"&&typeof Xt<"u"?Xt.exports=t(at(),Ie(),$e(),lr(),dr(),fr(),me(),pr()):typeof define=="function"&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/backdrop","./util/component-functions","./util/focustrap","./util/index","./util/scrollbar"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Offcanvas=t(e.BaseComponent,e.EventHandler,e.SelectorEngine,e.Backdrop,e.ComponentFunctions,e.Focustrap,e.Index,e.Scrollbar))})(Jt,function(e,t,n,r,o,i,u,a){"use strict";let c="offcanvas",s=".bs.offcanvas",g=".data-api",O=`load${s}${g}`,S="Escape",k="show",T="showing",x="hiding",q="offcanvas-backdrop",B=".offcanvas.show",R=`show${s}`,p=`shown${s}`,y=`hide${s}`,w=`hidePrevented${s}`,L=`hidden${s}`,l=`resize${s}`,v=`click${s}${g}`,E=`keydown.dismiss${s}`,_='[data-bs-toggle="offcanvas"]',N={backdrop:!0,keyboard:!0,scroll:!1},D={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class M extends e{constructor(P,$){super(P,$),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return N}static get DefaultType(){return D}static get NAME(){return c}toggle(P){return this._isShown?this.hide():this.show(P)}show(P){if(this._isShown||t.trigger(this._element,R,{relatedTarget:P}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new a().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(T);let ie=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(k),this._element.classList.remove(T),t.trigger(this._element,p,{relatedTarget:P})};this._queueCallback(ie,this._element,!0)}hide(){if(!this._isShown||t.trigger(this._element,y).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(x),this._backdrop.hide();let $=()=>{this._element.classList.remove(k,x),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new a().reset(),t.trigger(this._element,L)};this._queueCallback($,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let P=()=>{if(this._config.backdrop==="static"){t.trigger(this._element,w);return}this.hide()},$=!!this._config.backdrop;return new r({className:q,isVisible:$,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:$?P:null})}_initializeFocusTrap(){return new i({trapElement:this._element})}_addEventListeners(){t.on(this._element,E,P=>{if(P.key===S){if(this._config.keyboard){this.hide();return}t.trigger(this._element,w)}})}static jQueryInterface(P){return this.each(function(){let $=M.getOrCreateInstance(this,P);if(typeof P=="string"){if($[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);$[P](this)}})}}return t.on(document,v,_,function(z){let P=n.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&z.preventDefault(),u.isDisabled(this))return;t.one(P,L,()=>{u.isVisible(this)&&this.focus()});let $=n.findOne(B);$&&$!==P&&M.getInstance($).hide(),M.getOrCreateInstance(P).toggle(this)}),t.on(window,O,()=>{for(let z of n.find(B))M.getOrCreateInstance(z).show()}),t.on(window,l,()=>{for(let z of n.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(z).position!=="fixed"&&M.getOrCreateInstance(z).hide()}),o.enableDismissTrigger(M),u.defineJQueryPlugin(M),M})});function nn(e){if(e&&typeof e=="object"){if(e.default)return e.default;let t=Object.keys(e);if(t.length===1)return e[t[0]]}return e}function rn(e,t){return!e||!t?null:typeof e.getOrCreateInstance=="function"?e.getOrCreateInstance(t):new e(t)}function Ko(e){return e?typeof e=="string"?document.querySelector(e):e:null}function on(e,t){return gr.has(e)?gr.get(e)():t()}async function Uo(){Zt||(Zt=on("collapse",()=>Promise.resolve().then(()=>ht($n(),1))));let e=await Zt;return nn(e)}async function Ho(){en||(en=on("dropdown",()=>Promise.resolve().then(()=>ht(cr(),1))));let e=await en;return nn(e)}async function Yo(){tn||(tn=on("offcanvas",()=>Promise.resolve().then(()=>ht(hr(),1))));let e=await tn;return nn(e)}function Go(){document.querySelectorAll('[data-bs-toggle="collapse"][data-bs-target]').forEach(t=>{t.addEventListener("click",()=>{Qo(t)})})}async function Qo(e){try{let t=e.getAttribute("data-bs-target");if(!t)return;let n=document.querySelector(t);if(!n)return;let r=await Uo();rn(r,n)?.toggle?.()}catch(t){console.error("No se pudo inicializar el Collapse de Bootstrap",t)}}function Jo(){document.querySelectorAll('[data-bs-toggle="dropdown"]').forEach(t=>{t.addEventListener("click",n=>{n.preventDefault(),Xo(t)})})}async function Xo(e){try{let t=await Ho();rn(t,e)?.toggle?.()}catch(t){console.error("No se pudo inicializar el Dropdown de Bootstrap",t)}}function yr(){mr||(mr=!0,!(typeof document>"u")&&(Go(),Jo()))}async function vr(e){if(typeof document>"u")throw new Error("Offcanvas no disponible en este entorno");let t=Ko(e);if(!t)throw new Error("No se encontr\xF3 el elemento de Offcanvas");let n=await Yo(),r=rn(n,t);if(!r||typeof r.show!="function")throw new Error("Instancia de Offcanvas inv\xE1lida");return r.show(),r}var mr,gr,Zt,en,tn,an=he(()=>{mr=!1,gr=new Map,Zt=null,en=null,tn=null});function Zo(e){let t=e.dataLayer||[];if(e.dataLayer=t,typeof e.gtag!="function"){let n=function(){t.push(arguments)};e.gtag=n}return e.gtag}function ei(e){let{document:t}=e;if(!t)return null;let n=t.querySelector(`script[src^="${Er}"]`);if(n)return n;let r=t.createElement("script");return r.async=!0,r.src=Er,r.dataset.analytics="gtag",e.__CSP_NONCE__&&r.setAttribute("nonce",e.__CSP_NONCE__),t.head.appendChild(r),r}function ti(e){e("js",new Date),e("config",wr)}function _r(){if(typeof window>"u"||br)return;br=!0;let e=window,t=Zo(e),n=ei(e),r=!1,o=()=>{if(!r){r=!0;try{ti(t)}catch(i){e?.console?.error&&console.error("Error inicializando Google\xA0Analytics",i)}}};n&&(n.addEventListener("load",o,{once:!0}),n.addEventListener("error",i=>{e?.console?.error&&console.error("Error cargando gtag.js",i)},{once:!0})),o()}var wr,Er,br,Ar=he(()=>{wr="G-H0YG3RTJVM",Er=`https://www.googletagmanager.com/gtag/js?id=${wr}`,br=!1});function et(e,t={}){let n=e.startsWith("/")?e:"/"+e,r=Object.entries(t).map(([i,u])=>`${i}=${u}`).join(","),o=n.split("/").map(encodeURIComponent).join("/");return`/cdn-cgi/image/${r}${o}`}var tt,Cr=he(()=>{tt={fit:"cover",quality:82,format:"auto"}});function Sr(){return`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`}function Te(e,t,n={}){let r={level:e,message:t,...n},o=JSON.stringify(r);typeof console[e]=="function"?console[e](o):console.log(o)}var Tr=he(()=>{});function fn(){if(typeof window<"u"){let e=window[Nr];if(e&&Array.isArray(e.products))return e}return ft&&Array.isArray(ft.products)?ft:null}function Ir(e,t={},{force:n=!1}={}){if(!Array.isArray(e))return null;let r={products:e,version:t.version||null,source:t.source||null,updatedAt:t.updatedAt||Date.now(),isPartial:!!t.isPartial,total:typeof t.total=="number"?t.total:null},o=fn();if(o&&!n){let i=o.version||null,u=r.version||null;if(!u&&i||!u&&!i||u&&i===u)return o}return ft=r,typeof window<"u"&&(window[Nr]={...r}),r}function ln(e,t={}){return Ir(e,t,{force:!1})}function ni(e,t={}){return Ir(e,t,{force:!0})}function xr(){if(!("serviceWorker"in navigator)){console.warn("Service workers are not supported in this browser");return}if(Or)return;Or=!0;let e=async()=>{if(document.readyState==="complete"){window.removeEventListener("load",e);try{await ri()}catch(t){console.error("Service Worker initialization failed:",t),li("Failed to initialize service worker. Some features may not work offline.")}}};window.addEventListener("load",e),e()}async function ri(){try{let e=await navigator.serviceWorker.register(un.path,{scope:un.scope});console.log("ServiceWorker registered successfully:",e.scope),oi(e),ii(e),ai(),si()}catch(e){throw console.error("ServiceWorker registration failed:",e),e}}function oi(e){e.addEventListener("updatefound",()=>{let t=e.installing;t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&t.postMessage({type:"SKIP_WAITING"})})})}function ii(e){Lr(e),setInterval(()=>{Lr(e)},un.updateCheckInterval)}async function Lr(e){try{await e.update();let t=await fetch("/data/product_data.json",{cache:"no-store",headers:{Accept:"application/json"}});if(t.ok){let r=(await t.json()).version,o=localStorage.getItem("productDataVersion");r!==o&&(e.active?.postMessage({type:"INVALIDATE_PRODUCT_CACHE"}),localStorage.setItem("productDataVersion",r),ci(null,"New product data available"))}}catch(t){console.warn("Update check failed:",t)}}function ai(){let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(e=!0,window.location.reload())})}function si(){let e=document.getElementById("offline-indicator");if(!e)return;let t=()=>{let n=navigator.onLine;e.classList.toggle(ce.hidden,n),e.classList.toggle(ce.block,!n),n||ui("You are currently offline. Some features may be limited.")};window.addEventListener("online",t),window.addEventListener("offline",t),navigator.onLine||t()}function ci(e,t="Una versi\xF3n est\xE1 disponible"){let n=pn(t,"Actualizar ahora","Despu\xE9s",()=>{e?e.postMessage({type:"SKIP_WAITING"}):window.location.reload()});hn(n)}function li(e){let t=pn(e,"Reload","Dismiss",()=>window.location.reload());hn(t)}function ui(e){let t=pn(e,"Retry","Dismiss",()=>window.location.reload());hn(t)}function pn(e,t,n,r){let o=document.createElement("div");return o.className="notification-toast",o.setAttribute("role","alert"),o.setAttribute("aria-live","polite"),o.innerHTML=`
        <div class="notification-content">
            <p>${e}</p>
            <div class="notification-actions">
                <button class="primary-action">${t}</button>
                <button class="secondary-action">${n}</button>
            </div>
        </div>
    `,o.querySelector(".primary-action").addEventListener("click",()=>{try{r()}catch(i){console.error("Primary action failed:",i)}o.remove()}),o.querySelector(".secondary-action").addEventListener("click",()=>{o.remove()}),o}function hn(e){let t=document.querySelector(".notification-toast");t&&t.remove(),document.body.appendChild(e),setTimeout(()=>{document.body.contains(e)&&e.remove()},300*1e3)}function vi(){let e=fn();if(e)return e;let t=kr();if(!t||!Array.isArray(t.initialProducts))return null;let n=dn(t.initialProducts);return ln(n,{version:t.version||null,source:"inline",isPartial:!0,total:typeof t.totalProducts=="number"?t.totalProducts:n.length})}var Nr,ft,ce,un,Or,di,sn,fi,pi,Be,hi,cn,mi,gi,Dr,kr,yi,dn,nt,Ei,bi,W,ge,Pr,Mr,$r=he(()=>{Cr();Tr();an();Nr="__PRODUCT_DATA__",ft=null,ce=Object.freeze({hidden:"is-hidden",flex:"is-flex",block:"is-block",contentVisible:"has-content-visibility",containIntrinsic:"has-contain-intrinsic"});un={path:"/service-worker.js",scope:"/",updateCheckInterval:300*1e3},Or=!1;typeof navigator<"u"&&"serviceWorker"in navigator&&xr();di=e=>typeof e=="object"&&e!==null||typeof e=="function",sn=()=>({map:new Map,weakMap:new WeakMap,hasValue:!1,value:void 0}),fi=(e,t=100)=>{if(typeof e!="function")throw new TypeError("Expected a function to memoize");(!Number.isFinite(t)||t<0)&&(t=0);let n=sn(),r=[],o=a=>{let c=r.indexOf(a);c!==-1&&r.splice(c,1),t>0&&r.push(a)},i=()=>{if(t!==0)for(;r.length>t;){let a=r.shift();a&&(a.hasValue=!1,a.value=void 0)}},u=(a,c)=>{if(di(c)){let s=a.weakMap.get(c);return s||(s=sn(),a.weakMap.set(c,s)),s}return a.map.has(c)||a.map.set(c,sn()),a.map.get(c)};return(...a)=>{if(t===0)return e(...a);let c=n;for(let s=0;s<a.length;s+=1)c=u(c,a[s]);if(c.hasValue)return o(c),c.value;let f=e(...a);return c.value=f,c.hasValue=!0,o(c),i(),f}},pi=(e,t)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e(...r),t)}},Be=e=>{if(!e)return"";try{return String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}catch{return String(e).toLowerCase()}},hi=e=>{let t=`${e.name}-${e.category}`.toLowerCase(),n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);n=(n<<5)-n+o,n=n&n}return`pid-${Math.abs(n)}`},cn=e=>{let t=document.createElement("div");return t.textContent=e,t.innerHTML},mi="product-data",gi=()=>{try{return typeof localStorage>"u"?null:localStorage.getItem("productDataVersion")}catch(e){return console.warn("Unable to read stored product data version:",e),null}},Dr=e=>{if(e)try{if(typeof localStorage>"u")return;localStorage.setItem("productDataVersion",e)}catch(t){console.warn("Unable to persist product data version:",t)}},kr=()=>{if(typeof document>"u")return null;try{let e=document.getElementById(mi);if(!e||!e.textContent)return null;let t=e.textContent.trim();if(!t)return null;let n=JSON.parse(t);return n?Array.isArray(n.initialProducts)?n:Array.isArray(n.products)?{...n,initialProducts:n.products}:null:null}catch(e){return Te("warn","inline_product_parse_failure",{error:e.message}),null}},yi=(e,t)=>{let n=e.id||hi(e),r=typeof e.originalIndex=="number"?e.originalIndex:typeof e.order=="number"?e.order:t;return{...e,id:n,name:cn(e.name),description:cn(e.description),category:cn(e.category),categoryKey:e.categoryKey||Be(e.category),originalIndex:r}},dn=(e=[])=>e.map((t,n)=>yi(t,n));vi();nt=class extends Error{constructor(t,{cause:n,correlationId:r}){super(t),this.name="ProductDataError",this.correlationId=r,n&&(this.cause=n)}},Ei=async(e,t,n,r,o)=>{let i=new URL(e,window.location.origin);if(i.origin!==window.location.origin||i.protocol!=="https:")throw new Error("Invalid request URL: only same-origin HTTPS requests are allowed");let u=i.toString(),a=0,c;for(;a<=n;)try{let f=Date.now(),s=await fetch(u,t),g=Date.now()-f;if(Te("info","fetch_products_attempt",{correlationId:o,attempt:a+1,durationMs:g}),!s.ok)throw new Error(`HTTP error. Status: ${s.status}`);return s}catch(f){if(c=f,a++,a>n)break;Te("warn","fetch_products_retry",{correlationId:o,attempt:a,error:f.message,runbook:"RUNBOOK.md#product-data"}),await new Promise(s=>setTimeout(s,r*a))}throw new nt(`Failed to fetch products: ${c.message}`,{cause:c,correlationId:o})},bi=async()=>{let e=Sr(),t=kr(),n=t?.initialProducts||null,r=t?.version||null,o=typeof t?.totalProducts=="number"?t.totalProducts:null,i=Array.isArray(n)?dn(n):null,u=Array.isArray(i),a=gi();u&&(r&&Dr(r),ln(i,{version:r||null,source:"inline",isPartial:!0,total:o??i.length}),Te("info","fetch_products_inline_bootstrap",{correlationId:e,count:i.length}));let c=a||r||null,f=c?`/data/product_data.json?v=${encodeURIComponent(c)}`:"/data/product_data.json";try{let g=await(await Ei(f,{cache:"no-store",headers:{Accept:"application/json"}},2,300,e)).json(),O=dn(g.products||[]);return ni(O,{version:g.version||null,source:"network",isPartial:!1,total:O.length}),g.version&&Dr(g.version),Te("info","fetch_products_success",{correlationId:e,count:O.length,source:"network"}),O}catch(s){if(u)return ln(i,{version:r||null,source:"inline-fallback",isPartial:!0,total:o??i.length}),Te("warn","fetch_products_network_fallback_inline",{correlationId:e,error:s.message,runbook:"RUNBOOK.md#product-data"}),i;throw Te("error","fetch_products_failure",{correlationId:e,error:s.message,runbook:"RUNBOOK.md#product-data"}),ge(`Error al cargar los productos. Por favor, verifique su conexi\xF3n a internet e int\xE9ntelo de nuevo. (Error: ${s.message})`),s instanceof nt?s:new nt(s.message,{cause:s,correlationId:e})}},W=(e,t={},n=[])=>{let r=document.createElement(e);return Object.entries(t).forEach(([o,i])=>{o==="text"?r.textContent=i:r.setAttribute(o,i)}),n.forEach(o=>{typeof o=="string"?r.appendChild(document.createTextNode(o)):r.appendChild(o)}),r},ge=e=>{let t=W("div",{class:"error-message",role:"alert"},[W("p",{},[e]),W("button",{class:"retry-button"},["Intentar nuevamente"])]),n=document.getElementById("product-container");n?(n.innerHTML="",n.appendChild(t),t.querySelector(".retry-button").addEventListener("click",Mr)):console.error("Contenedor de productos no encontrado")},Pr=[];try{Pr=JSON.parse(globalThis.localStorage?.getItem("cart"))||[]}catch{Pr=[]}typeof window<"u"&&(window.__APP_READY__=!1,window.addEventListener("error",e=>{let t=e.target||e.srcElement,n=!!(t&&(t.tagName==="IMG"||t.tagName==="SCRIPT"||t.tagName==="LINK")),r=!!e.error;if(n||!r){console.warn("Ignored non-fatal error:",{tag:t&&t.tagName,src:t&&(t.src||t.href||t.currentSrc)});return}if(!window.__APP_READY__){console.error("Runtime error before app ready:",e.error);return}console.error("Unhandled JS error:",e.error),ge("Ocurri\xF3 un error inesperado. Por favor, recarga la p\xE1gina.")}),window.addEventListener("securitypolicyviolation",e=>{console.warn("CSP violation (logged only):",{blockedURI:e.blockedURI,violatedDirective:e.violatedDirective,sourceFile:e.sourceFile})}));Mr=async()=>{console.log("Initializing app...");let e=document.getElementById("product-container"),t=document.getElementById("sort-options"),n=document.getElementById("filter-keyword"),r=document.getElementById("cart-count"),o=document.getElementById("cart-items"),i=document.getElementById("cart-total"),a=Object.entries({"#product-container":e,"#sort-options":t,"#filter-keyword":n,"#cart-count":r,"#cart-items":o,"#cart-total":i}).filter(([,d])=>!d).map(([d])=>d);if(a.length){Te("warn","init_app_missing_dom",{missingSelectors:a,location:typeof window<"u"?window.location?.pathname:"unknown"});return}let c=()=>{let d=document.getElementById("filter-discount");if(d)return d;let m=document.querySelector('section[aria-label*="filtrado"], section[aria-label*="Opciones de filtrado"]'),A=m?m.querySelector(".row"):null;if(!A)return null;let b=W("div",{class:"col-12 mt-2"}),h=W("div",{class:"form-check form-switch"}),I=W("input",{class:"form-check-input",type:"checkbox",id:"filter-discount","aria-label":"Mostrar solo productos con descuento"}),j=W("label",{class:"form-check-label",for:"filter-discount"},["Solo productos con descuento"]);return h.appendChild(I),h.appendChild(j),b.appendChild(h),A.appendChild(b),I},f=12,s=12,g=[],O=[],S=0,k=f,T=null,x=null,q=null,B=!1,R=JSON.parse(localStorage.getItem("cart"))||[],p=()=>{let d=document.getElementById("offline-indicator");if(d){let m=navigator.onLine;d.classList.toggle(ce.hidden,m),d.classList.toggle(ce.block,!m)}navigator.onLine||console.log("App is offline. Using cached data if available.")};function y(){let d=document.getElementById("current-year");d&&(d.textContent=new Date().getFullYear())}let w=(d,m,A="CLP")=>{let b=new Intl.NumberFormat("es-CL",{style:"currency",currency:A,minimumFractionDigits:0}),h=b.format(d);if(m){let I=d-m,j=b.format(I);return W("div",{class:"precio-container"},[W("span",{class:"precio-descuento","aria-label":"Precio con descuento"},[j]),W("span",{class:"precio-original","aria-label":"Precio original"},[W("span",{class:"tachado"},[h])])])}return W("div",{class:"precio-container"},[W("span",{class:"precio","aria-label":"Precio"},[h])])},L=d=>{let m=W("div",{class:`quantity-control ${ce.hidden}`}),A=W("button",{class:"quantity-btn","data-action":"decrease","aria-label":"Decrease quantity"},["-"]),b=W("button",{class:"quantity-btn","data-action":"increase","aria-label":"Increase quantity"},["+"]),h=W("input",{type:"number",class:"quantity-input",value:Math.max(v(d.id),1),min:"1",max:"50","aria-label":"Quantity","data-id":d.id});return m.appendChild(A),m.appendChild(h),m.appendChild(b),m};function l(d,m){if(!d)return;let A=d.querySelector(".add-to-cart-btn"),b=d.querySelector(".quantity-control"),h=b?.querySelector(".quantity-input"),I=b?.querySelector('.quantity-btn[data-action="decrease"]')||b?.querySelector(".quantity-btn"),j=b?.querySelector('.quantity-btn[data-action="increase"]')||b?.querySelectorAll(".quantity-btn")?.[1],F=(G,U,V)=>{G&&G.dataset.listenerAttached!=="true"&&(G.addEventListener(U,V),G.dataset.listenerAttached="true")};F(A,"click",()=>{De(m,1),K(A,b,!0)}),F(I,"click",()=>J(m,-1)),F(j,"click",()=>J(m,1)),F(h,"change",G=>{let U=parseInt(G.target.value,10);if(!Number.isFinite(U)){G.target.value=Math.max(v(m.id),1);return}let V=v(m.id);J(m,U-V)});let X=v(m.id);h&&(h.value=X>0?X:1),K(A,b,X>0)}let v=d=>{let m=R.find(A=>A.id===d);return m?m.quantity:0},E=(d,{reset:m=!1}={})=>{if(!e)return 0;m&&(e.innerHTML="");let A=document.createDocumentFragment();return d.forEach(b=>{let{id:h,name:I,description:j,image_path:F,price:X,discount:G,stock:U}=b,V=["producto","col-12","col-sm-6","col-md-4","col-lg-3","mb-4",U?"":"agotado",ce.contentVisible,ce.containIntrinsic].filter(Boolean).join(" "),ae=W("div",{class:V,"aria-label":`Product: ${I}`,"data-product-id":h}),je=W("div",{class:"card"});if(G&&Number(G)>0){let ue=Math.round(Number(G)/Number(X)*100),mn=W("span",{class:"discount-badge badge bg-danger","aria-label":"Producto en oferta"},[`-${isFinite(ue)?ue:0}%`]);je.appendChild(mn)}let Pe=`/${F.replace(/^\//,"")}`,Me=W("img",{src:et(Pe,{...tt,width:400}),srcset:[`${et(Pe,{...tt,width:200})} 200w`,`${et(Pe,{...tt,width:400})} 400w`,`${et(Pe,{...tt,width:800})} 800w`].join(", "),sizes:"200px",alt:I,class:"card-img-top product-thumb",loading:"lazy",fetchpriority:"auto",decoding:"async",width:"400",height:"400"});je.appendChild(Me);let Ve=W("div",{class:"card-body"});Ve.appendChild(W("h3",{class:"card-title"},[I])),Ve.appendChild(W("p",{class:"card-text"},[j])),Ve.appendChild(w(X,G));let Ne=W("div",{class:"action-area","data-pid":h}),pt=W("button",{class:"btn btn-primary add-to-cart-btn mt-2","data-id":h,"aria-label":`Add ${I} to cart`},["Agregar al carrito"]),Ce=L(b);Ne.appendChild(pt),Ne.appendChild(Ce),Ve.appendChild(Ne),l(Ne,b),je.appendChild(Ve),ae.appendChild(je),A.appendChild(ae)}),e.appendChild(A),Q(),d.length},_=d=>{if(!e)return 0;let m=e.querySelectorAll("[data-product-id]");if(!m.length)return 0;let A=new Map(d.map(h=>[h.id,h])),b=0;return m.forEach(h=>{let I=h.getAttribute("data-product-id");if(!I||!A.has(I))return;let j=A.get(I);h.classList.add(ce.contentVisible,ce.containIntrinsic);let F=h.querySelector(".action-area");l(F,j),b+=1}),b},N=()=>{e&&(e.innerHTML=""),S=0},D=()=>{let d=t?.value||"original",m=n?.value?.trim?.()||"",A=document.getElementById("filter-discount")?.checked||!1;O=le(g,m,d,A)},M=d=>{if(!Array.isArray(O)||O.length===0)return $(),!1;let m=S;if(m>=O.length)return $(),!1;let A=O.slice(m,m+d);return A.length?(E(A),S+=A.length,$(),!0):($(),!1)},z=()=>M(k||f),P=()=>M(s),$=()=>{let d=S<O.length;T&&(T.classList.toggle("d-none",!d),T.disabled=!d),q&&x&&(q.disconnect(),d&&q.observe(x))},ie=()=>{T=document.getElementById("catalog-load-more"),x=document.getElementById("catalog-sentinel"),T&&T.addEventListener("click",()=>{P()}),x&&(q=new IntersectionObserver(d=>{d.forEach(m=>{m.isIntersecting&&P()})},{rootMargin:"200px"})),$()},Q=()=>{let d=new IntersectionObserver((m,A)=>{m.forEach(b=>{if(b.isIntersecting){let h=b.target;h.src=h.dataset.src,h.dataset.srcset&&(h.srcset=h.dataset.srcset),h.dataset.sizes&&(h.sizes=h.dataset.sizes),h.classList.remove("lazyload"),A.unobserve(h)}})},{rootMargin:"100px"});document.querySelectorAll("img.lazyload").forEach(m=>d.observe(m))};function Oe(d,m){if(!d||!m||d.length<3)return!1;let A=I=>I.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),b=A(d),h=A(m);return h.includes(b)?!0:b.length>=4?ke(b,h):!1}function ke(d,m){return m.split(/\s+/).some(b=>{if(Math.abs(b.length-d.length)>1)return!1;let h=0,I=Math.max(b.length,d.length);if(Math.min(b.length,d.length)<4)return!1;if(b.length===d.length){for(let F=0;F<b.length;F++)if(b[F]!==d[F]&&h++,h>1)return!1;return h===1}else return Ae(d,b)})}function Ae(d,m){let A=d.length>m.length?d:m,b=d.length>m.length?m:d;if(A.length-b.length!==1)return!1;let h=0,I=0,j=0;for(;I<b.length&&j<A.length;)if(b[I]===A[j])I++,j++;else{if(h++,h>1)return!1;j++}return!0}let Le=(d,m,A,b=!1)=>{let h=m.trim();return d.filter(I=>!I.stock||b&&!(I.discount&&Number(I.discount)>0)?!1:!h||I.name.toLowerCase().includes(h.toLowerCase())||I.description.toLowerCase().includes(h.toLowerCase())?!0:h.length>=4?Oe(h,I.name):!1).sort((I,j)=>ye(I,j,A))},ye=(d,m,A)=>{if(!A||A==="original")return d.originalIndex-m.originalIndex;let[b,h]=A.split("-"),I=b==="price"?d.price-(d.discount||0):d.name.toLowerCase(),j=b==="price"?m.price-(m.discount||0):m.name.toLowerCase();return h==="asc"?I<j?-1:I>j?1:0:j<I?-1:j>I?1:0},le=fi(Le),ve=()=>{try{if(D(),N(),!O.length){$();return}z()}catch(d){console.error("Error al actualizar visualizaci\xF3n de productos:",d),ge("Error al actualizar la visualizaci\xF3n de productos. Por favor, intenta m\xE1s tarde.")}},Ee=pi(ve,300),ne=()=>{let d=document.getElementById("cart-count"),m=R.reduce((A,b)=>A+b.quantity,0);d.textContent=m,d.setAttribute("aria-label",`${m} items in cart`)},De=(d,m)=>{try{let A=R.find(h=>h.id===d.id);A?A.quantity=Math.min(A.quantity+m,50):R.push({id:d.id,name:d.name,description:d.description,price:d.price,discount:d.discount,image_path:d.image_path,quantity:Math.min(m,50),category:d.category,stock:d.stock}),H(),ne(),Y();let b=document.querySelector(`[data-id="${d.id}"].quantity-input`);b&&(b.value=Math.max(v(d.id),1))}catch(A){console.error("Error al agregar al carrito:",A),ge("Error al agregar el art\xEDculo al carrito. Por favor, intenta nuevamente.")}},Z=d=>{try{R=R.filter(A=>A.id!==d),H(),ne(),Y();let m=document.querySelector(`.action-area[data-pid="${d}"]`);if(m){let A=m.querySelector(".add-to-cart-btn"),b=m.querySelector(".quantity-control");K(A,b,!1)}}catch(m){console.error("Error al eliminar del carrito:",m),ge("Error al eliminar el art\xEDculo del carrito. Por favor, intenta nuevamente.")}},J=(d,m)=>{try{let A=R.find(F=>F.id===d.id),b=A?A.quantity+m:1,h=document.querySelector(`.action-area[data-pid="${d.id}"]`),I=h?.querySelector(".add-to-cart-btn"),j=h?.querySelector(".quantity-control");if(b<=0)Z(d.id),K(I,j,!1);else if(b<=50){A?A.quantity=b:(De(d,1),K(I,j,!0)),H(),ne(),Y();let F=document.querySelector(`[data-id="${d.id}"].quantity-input`);F&&(F.value=b,F.classList.add("quantity-changed"),setTimeout(()=>F.classList.remove("quantity-changed"),300))}}catch(A){console.error("Error al actualizar cantidad:",A),ge("Error al actualizar la cantidad. Por favor, intenta nuevamente.")}},C=()=>{try{R=[],H(),ne(),Y(),ve()}catch(d){console.error("Error al vaciar el carrito:",d),ge("Error al vaciar el carrito. Por favor, int\xE9ntelo de nuevo.")}},K=(d,m,A)=>{if(!d||!m)return;let b=!A;d.classList.toggle(ce.hidden,!b),d.classList.toggle(ce.flex,b),m.classList.toggle(ce.hidden,!A),m.classList.toggle(ce.flex,A)},H=()=>{try{localStorage.setItem("cart",JSON.stringify(R))}catch(d){console.error("Error al guardar el carrito:",d),ge("Error al guardar el carrito. Tus cambios podr\xEDan no persistir.")}},Y=()=>{let d=document.getElementById("cart-items"),m=document.getElementById("cart-total");d.innerHTML="";let A=0;R.forEach(h=>{let I=h.price-(h.discount||0),j=W("div",{class:"cart-item mb-3 d-flex align-items-start","aria-label":`Cart item: ${h.name}`}),F=W("div",{class:"cart-item-content flex-grow-1"});F.appendChild(W("div",{class:"fw-bold mb-1"},[h.name]));let X=W("div",{class:"mb-2"}),G=W("button",{class:"btn btn-sm btn-secondary decrease-quantity","data-id":h.id,"aria-label":`Disminuir cantidad de ${h.name}`},["-"]),U=W("button",{class:"btn btn-sm btn-secondary increase-quantity","data-id":h.id,"aria-label":`Aumentar cantidad de ${h.name}`},["+"]),V=W("span",{class:"mx-2 item-quantity","aria-label":`Cantidad de ${h.name}`},[h.quantity.toString()]);X.appendChild(G),X.appendChild(V),X.appendChild(U),F.appendChild(X),F.appendChild(W("div",{class:"text-muted small"},[`Precio: $${I.toLocaleString("es-CL")}`])),F.appendChild(W("div",{class:"fw-bold"},[`Subtotal: $${(I*h.quantity).toLocaleString("es-CL")}`]));let ae=W("button",{class:"btn btn-sm btn-danger remove-item mt-2","data-id":h.id,"aria-label":`Eliminar ${h.name} del carrito`},["Eliminar"]);F.appendChild(ae);let je=window.location.pathname.includes("/pages/"),Pe;je?Pe=`../${h.image_path.replace(/^\//,"")}`:Pe=h.image_path;let Me=W("div",{class:"cart-item-thumb ms-3 flex-shrink-0"}),Ne={src:h.thumbnail_path||Pe,alt:h.name,class:"cart-item-thumb-img",loading:"lazy",decoding:"async",width:"100",height:"100"};if(Array.isArray(h.thumbnail_variants)){let Ce=h.thumbnail_variants.filter(ue=>ue&&ue.url&&ue.width).map(ue=>`${ue.url} ${ue.width}w`);Ce.length&&(Ne.srcset=Ce.join(", "),Ne.sizes="100px")}let pt=W("img",Ne);if(Me.appendChild(pt),j.appendChild(F),j.appendChild(Me),d.appendChild(j),window.__DEBUG_CART__)try{let Ce=window.getComputedStyle(j),ue=window.getComputedStyle(Me),mn=window.getComputedStyle(F),gn=Me.getBoundingClientRect(),yn=F.getBoundingClientRect();console.debug("[cart] item",{name:h.name,order:{firstIsContent:j.firstChild===F,lastIsThumb:j.lastChild===Me},container:{display:Ce.display,flexDirection:Ce.flexDirection,flexWrap:Ce.flexWrap},thumb:{width:ue.width,height:ue.height,rect:{w:gn.width,h:gn.height}},content:{rect:{w:yn.width,h:yn.height}}})}catch{}A+=I*h.quantity}),m.textContent=`Total: $${A.toLocaleString("es-CL")}`,m.setAttribute("aria-label",`Total: $${A.toLocaleString("es-CL")}`);let b=document.getElementById("payment-credit-container");if(b)if(A>=3e4)b.classList.remove("d-none");else{b.classList.add("d-none");let h=b.querySelector("input");h&&(h.checked=!1)}},be=()=>{let d=document.querySelector('input[name="paymentMethod"]:checked');if(!d){alert("Por favor seleccione un m\xE9todo de pago");return}let m=`Mi pedido:

`;R.forEach(h=>{let I=h.price-(h.discount||0);m+=`${h.name}
`,m+=`Cantidad: ${h.quantity}
`,m+=`Precio unitario: $${I.toLocaleString("es-CL")}
`,m+=`Subtotal: $${(I*h.quantity).toLocaleString("es-CL")}

`});let A=R.reduce((h,I)=>h+(I.price-(I.discount||0))*I.quantity,0);m+=`Total: $${A.toLocaleString("es-CL")}
`,m+=`M\xE9todo de pago: ${d.value}`;let b=encodeURIComponent(m);window.open(`https://wa.me/56951118901?text=${b}`,"_blank")};try{y();let d=fn();d?.products?.length&&(g=d.products.map((U,V)=>({...U,originalIndex:typeof U.originalIndex=="number"?U.originalIndex:V,categoryKey:U.categoryKey||Be(U.category)})));let A=document.querySelector("main")?.dataset?.category||"";if(A){let U=Be(A);g=g.filter(V=>(V.categoryKey||Be(V.category))===U).map((V,ae)=>({...V,originalIndex:typeof V.originalIndex=="number"?V.originalIndex:ae}))}let b=_(g);b>0?(S=b,k=b):S=0,ie(),D(),$(),S===0&&O.length&&z();let h=bi();t.addEventListener("change",()=>{B=!0,Ee()}),n.addEventListener("input",()=>{B=!0,Ee()});let I=c();I&&I.addEventListener("change",()=>{B=!0,Ee()});let j=await h;if(!Array.isArray(j)||j.length===0){if(!g.length){ge("No hay productos disponibles. Por favor, intenta m\xE1s tarde.");return}}else if(g=j.map((U,V)=>({...U,originalIndex:typeof U.originalIndex=="number"?U.originalIndex:V,categoryKey:U.categoryKey||Be(U.category)})),A){let U=Be(A);g=g.filter(V=>(V.categoryKey||Be(V.category))===U).map((V,ae)=>({...V,originalIndex:typeof V.originalIndex=="number"?V.originalIndex:ae}))}D(),B||S===0?(N(),O.length?z():$()):$(),typeof window<"u"&&(window.__APP_READY__=!0),window.addEventListener("online",p),window.addEventListener("offline",p),p();let F=document.getElementById("cart-icon"),X=document.getElementById("empty-cart"),G=document.getElementById("submit-cart");F&&F.addEventListener("click",async()=>{Y();try{await vr("#cartOffcanvas")}catch(U){console.error("Bootstrap Offcanvas no est\xE1 disponible",U);let V=document.getElementById("cartOffcanvas");V&&V.classList.add("show")}}),X&&X.addEventListener("click",C),G&&G.addEventListener("click",be),o&&o.addEventListener("click",U=>{let V=U.target,ae=V.closest("[data-id]")?.dataset.id;ae&&(V.classList.contains("decrease-quantity")?J({id:ae},-1):V.classList.contains("increase-quantity")?J({id:ae},1):V.classList.contains("remove-item")&&Z(ae))}),ne(),"performance"in window&&window.addEventListener("load",()=>{let U=performance.getEntriesByType("paint"),V=performance.getEntriesByType("navigation")[0];console.log("First Contentful Paint:",U[0].startTime),console.log("DOM Content Loaded:",V.domContentLoadedEventEnd),console.log("Load Time:",V.loadEventEnd)})}catch(d){console.error("Error al inicializar productos:",d),ge("Error al cargar productos. Por favor, int\xE9ntelo m\xE1s tarde.")}};typeof document<"u"&&document.addEventListener("DOMContentLoaded",function(){xr(),Mr().catch(e=>{console.error("Error al inicializar la aplicaci\xF3n:",e),ge("Error al inicializar la aplicaci\xF3n. Por favor, actualice la p\xE1gina.")})})});var wi=ee(()=>{bn();_n();Cn();Dn();Nn();xn();an();Ar();$r();_r();function qr(){let e=document.documentElement;try{document.querySelectorAll('link[rel="stylesheet"][media="print"][data-defer]').forEach(t=>{t.media="all",t.removeAttribute("data-defer")})}catch{}e.dataset.enhancementsInit!=="1"&&(e.dataset.enhancementsInit="1",En(),In(),wn(),An(),Ln(),On(),Pn(),yr())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",qr):qr()});wi();})();
/*! Bundled license information:

bootstrap/js/dist/dom/data.js:
  (*!
    * Bootstrap data.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/index.js:
  (*!
    * Bootstrap index.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/event-handler.js:
  (*!
    * Bootstrap event-handler.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/manipulator.js:
  (*!
    * Bootstrap manipulator.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/config.js:
  (*!
    * Bootstrap config.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/base-component.js:
  (*!
    * Bootstrap base-component.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/selector-engine.js:
  (*!
    * Bootstrap selector-engine.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/collapse.js:
  (*!
    * Bootstrap collapse.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dropdown.js:
  (*!
    * Bootstrap dropdown.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/backdrop.js:
  (*!
    * Bootstrap backdrop.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/component-functions.js:
  (*!
    * Bootstrap component-functions.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/focustrap.js:
  (*!
    * Bootstrap focustrap.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/scrollbar.js:
  (*!
    * Bootstrap scrollbar.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/offcanvas.js:
  (*!
    * Bootstrap offcanvas.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)
*/
