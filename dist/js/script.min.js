(()=>{var Sr=Object.create;var un=Object.defineProperty;var Tr=Object.getOwnPropertyDescriptor;var Or=Object.getOwnPropertyNames;var Dr=Object.getPrototypeOf,Pr=Object.prototype.hasOwnProperty;var ve=(e,t)=>()=>(e&&(t=e(e=0)),t);var G=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Lr=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Or(t))!Pr.call(e,r)&&r!==n&&un(e,r,{get:()=>t[r],enumerable:!(o=Tr(t,r))||o.enumerable});return e};var ct=(e,t,n)=>(n=e!=null?Sr(Dr(e)):{},Lr(t||!e||!e.__esModule?un(n,"default",{value:e,enumerable:!0}):n,e));function dn(){try{let e=document.createElement("style");window&&window.__CSP_NONCE__&&e.setAttribute("nonce",window.__CSP_NONCE__),e.textContent=`
      /* Miniatura del carrito (mantener consistente con base/enhanced CSS) */
      .cart-item-thumb { width: 100px; height: 100px; flex-shrink: 0; }
      .cart-item-thumb img, .cart-item-thumb-img { width: 100%; height: 100%; object-fit: cover; border-radius: 0.25rem; }

      /* Contornos de enfoque claros para accesibilidad */
      .navbar .nav-link:focus,
      .navbar .dropdown-item:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
      }

      /* Espaciado entre botones en el offcanvas del carrito */
      #cartOffcanvas .offcanvas-body > .btn + .btn { margin-top: 0.5rem !important; }
    `,document.head.appendChild(e)}catch(e){console.warn("[modules/enhancements] injectEnhancementStyles error:",e)}}var fn=ve(()=>{});function pn(){try{document.addEventListener("keydown",t=>{t.key==="Tab"&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")});let e=document.createElement("style");window&&window.__CSP_NONCE__&&e.setAttribute("nonce",window.__CSP_NONCE__),e.textContent=".keyboard-navigation *:focus { outline: 2px solid var(--primary-color); outline-offset: 2px; }",document.head.appendChild(e)}catch(e){console.warn("[modules/a11y] setupNavigationAccessibility error:",e)}}var hn=ve(()=>{});function mn(){try{"loading"in HTMLImageElement.prototype&&document.querySelectorAll("img:not([loading])").forEach(e=>{e.loading="lazy"})}catch(e){console.warn("[modules/perf] setupPerformanceOptimizations error:",e)}}var gn=ve(()=>{});function Nr(){try{if(typeof window>"u")return null;let e=window[Me];if(e&&Array.isArray(e.products))return e.products}catch(e){console.warn("[modules/seo] Unable to read shared product data:",e)}return null}function Ir(e,t={}){if(typeof window>"u"||!Array.isArray(e))return;let n=window[Me]||{};window[Me]={...n,products:e,version:t.version??n.version??null,updatedAt:t.updatedAt||Date.now(),source:t.source||n.source||"seo"}}function yn(e=[]){let t={};return e.forEach(n=>{let o=n.id||String(n.name)+"-"+String(n.category);t[o]=n}),t}function vn(){if(typeof window>"u")return;let e=window[Me]||{};e.structuredDataInjected||(window[Me]={...e,structuredDataInjected:!0})}async function xr(){try{let e=Nr();if(e)return yn(e);let t=localStorage.getItem("productDataVersion"),n=t?`/data/product_data.json?v=${encodeURIComponent(t)}`:"/data/product_data.json",o=await fetch(n,{cache:"no-store",headers:{Accept:"application/json"}});if(!o.ok)return null;let r=await o.json(),i=Array.isArray(r?.products)?r.products:Array.isArray(r)?r:[];return Ir(i,{version:r?.version||t||null,source:"seo-fallback"}),yn(i)}catch(e){return console.error("[modules/seo] Error loading product data:",e),null}}async function bn(){try{if(document.querySelector('script[type="application/ld+json"]')){vn();return}if((typeof window<"u"?window[Me]:null)?.structuredDataInjected)return;let t=await xr();if(!t)return;let o=Object.values(t).slice(0,20).map(l=>({"@type":"Product",name:l.name,image:l.image_path,description:l.description,brand:l.brand||"Gen\xE9rico",offers:{"@type":"Offer",price:l.price,priceCurrency:"CLP",availability:l.stock?"https://schema.org/InStock":"https://schema.org/OutOfStock"}})),r={"@context":"https://schema.org","@graph":[{"@type":"Store",name:"El Rinc\xF3n de \xC9bano",image:"https://elrincondeebano.com/assets/images/web/logo.webp",description:"Un minimarket en la puerta de tu departamento",address:{"@type":"PostalAddress",addressCountry:"CL"},telephone:"+56951118901",url:"http://www.elrincondeebano.com/",contactPoint:{"@type":"ContactPoint",telephone:"+56-951118901",contactType:"customer service"}},...o]},i=document.createElement("script");i.type="application/ld+json",window&&window.__CSP_NONCE__&&i.setAttribute("nonce",window.__CSP_NONCE__),i.textContent=JSON.stringify(r),document.head.appendChild(i),vn()}catch(e){console.error("[modules/seo] Error generating structured data:",e)}}function En(){try{if(!document.querySelector('link[rel="canonical"]')){let e=document.createElement("link");e.rel="canonical",e.href=location.origin+location.pathname,document.head.appendChild(e)}if(!document.querySelector('meta[name="description"]')){let e=document.createElement("meta");e.name="description",e.content="El Rinc\xF3n de \xC9bano - Minimarket con delivery instant\xE1neo.",document.head.appendChild(e)}}catch(e){console.warn("[modules/seo] injectSeoMetadata error:",e)}}var Me,wn=ve(()=>{Me="__PRODUCT_DATA__"});function _n(){try{if(!document.querySelector('link[rel="manifest"]')){let e=document.createElement("link");e.rel="manifest",e.href="/app.webmanifest",document.head.appendChild(e)}}catch(e){console.warn("[modules/pwa] injectPwaManifest error:",e)}}var An=ve(()=>{});function Cn(){try{window?.console?.debug&&console.debug("[modules/checkout] setupCheckoutProgress: no-op")}catch{}}var Sn=ve(()=>{});var Tn=G((lt,ut)=>{(function(e,t){typeof lt=="object"&&typeof ut<"u"?ut.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Data=t())})(lt,function(){"use strict";let e=new Map;return{set(n,o,r){e.has(n)||e.set(n,new Map);let i=e.get(n);if(!i.has(o)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(o,r)},get(n,o){return e.has(n)&&e.get(n).get(o)||null},remove(n,o){if(!e.has(n))return;let r=e.get(n);r.delete(o),r.size===0&&e.delete(n)}}})});var he=G((Je,On)=>{(function(e,t){typeof Je=="object"&&typeof On<"u"?t(Je):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.Index={}))})(Je,function(e){"use strict";let o="transitionend",r=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(w,v)=>`#${CSS.escape(v)}`)),u),i=u=>u==null?`${u}`:Object.prototype.toString.call(u).match(/\s([a-z]+)/i)[1].toLowerCase(),l=u=>{do u+=Math.floor(Math.random()*1e6);while(document.getElementById(u));return u},s=u=>{if(!u)return 0;let{transitionDuration:w,transitionDelay:v}=window.getComputedStyle(u),_=Number.parseFloat(w),O=Number.parseFloat(v);return!_&&!O?0:(w=w.split(",")[0],v=v.split(",")[0],(Number.parseFloat(w)+Number.parseFloat(v))*1e3)},d=u=>{u.dispatchEvent(new Event(o))},m=u=>!u||typeof u!="object"?!1:(typeof u.jquery<"u"&&(u=u[0]),typeof u.nodeType<"u"),c=u=>m(u)?u.jquery?u[0]:u:typeof u=="string"&&u.length>0?document.querySelector(r(u)):null,b=u=>{if(!m(u)||u.getClientRects().length===0)return!1;let w=getComputedStyle(u).getPropertyValue("visibility")==="visible",v=u.closest("details:not([open])");if(!v)return w;if(v!==u){let _=u.closest("summary");if(_&&_.parentNode!==v||_===null)return!1}return w},N=u=>!u||u.nodeType!==Node.ELEMENT_NODE||u.classList.contains("disabled")?!0:typeof u.disabled<"u"?u.disabled:u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false",S=u=>{if(!document.documentElement.attachShadow)return null;if(typeof u.getRootNode=="function"){let w=u.getRootNode();return w instanceof ShadowRoot?w:null}return u instanceof ShadowRoot?u:u.parentNode?S(u.parentNode):null},P=()=>{},C=u=>{u.offsetHeight},x=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,M=[],j=u=>{document.readyState==="loading"?(M.length||document.addEventListener("DOMContentLoaded",()=>{for(let w of M)w()}),M.push(u)):u()},V=()=>document.documentElement.dir==="rtl",h=u=>{j(()=>{let w=x();if(w){let v=u.NAME,_=w.fn[v];w.fn[v]=u.jQueryInterface,w.fn[v].Constructor=u,w.fn[v].noConflict=()=>(w.fn[v]=_,u.jQueryInterface)}})},y=(u,w=[],v=u)=>typeof u=="function"?u.call(...w):v,A=(u,w,v=!0)=>{if(!v){y(u);return}let O=s(w)+5,L=!1,k=({target:W})=>{W===w&&(L=!0,w.removeEventListener(o,k),y(u))};w.addEventListener(o,k),setTimeout(()=>{L||d(w)},O)},T=(u,w,v,_)=>{let O=u.length,L=u.indexOf(w);return L===-1?!v&&_?u[O-1]:u[0]:(L+=v?1:-1,_&&(L=(L+O)%O),u[Math.max(0,Math.min(L,O-1))])};e.defineJQueryPlugin=h,e.execute=y,e.executeAfterTransition=A,e.findShadowRoot=S,e.getElement=c,e.getNextActiveElement=T,e.getTransitionDurationFromElement=s,e.getUID=l,e.getjQuery=x,e.isDisabled=N,e.isElement=m,e.isRTL=V,e.isVisible=b,e.noop=P,e.onDOMContentLoaded=j,e.parseSelector=r,e.reflow=C,e.toType=i,e.triggerTransitionEnd=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})});var De=G((dt,ft)=>{(function(e,t){typeof dt=="object"&&typeof ft<"u"?ft.exports=t(he()):typeof define=="function"&&define.amd?define(["../util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.EventHandler=t(e.Index))})(dt,function(e){"use strict";let t=/[^.]*(?=\..*)\.|.*/,n=/\..*/,o=/::\d+$/,r={},i=1,l={mouseenter:"mouseover",mouseleave:"mouseout"},s=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function d(h,y){return y&&`${y}::${i++}`||h.uidEvent||i++}function m(h){let y=d(h);return h.uidEvent=y,r[y]=r[y]||{},r[y]}function c(h,y){return function A(T){return V(T,{delegateTarget:h}),A.oneOff&&j.off(h,T.type,y),y.apply(h,[T])}}function b(h,y,A){return function T(u){let w=h.querySelectorAll(y);for(let{target:v}=u;v&&v!==this;v=v.parentNode)for(let _ of w)if(_===v)return V(u,{delegateTarget:v}),T.oneOff&&j.off(h,u.type,y,A),A.apply(v,[u])}}function N(h,y,A=null){return Object.values(h).find(T=>T.callable===y&&T.delegationSelector===A)}function S(h,y,A){let T=typeof y=="string",u=T?A:y||A,w=M(h);return s.has(w)||(w=h),[T,u,w]}function P(h,y,A,T,u){if(typeof y!="string"||!h)return;let[w,v,_]=S(y,A,T);y in l&&(v=(ne=>function(Q){if(!Q.relatedTarget||Q.relatedTarget!==Q.delegateTarget&&!Q.delegateTarget.contains(Q.relatedTarget))return ne.call(this,Q)})(v));let O=m(h),L=O[_]||(O[_]={}),k=N(L,v,w?A:null);if(k){k.oneOff=k.oneOff&&u;return}let W=d(v,y.replace(t,"")),I=w?b(h,A,v):c(h,v);I.delegationSelector=w?A:null,I.callable=v,I.oneOff=u,I.uidEvent=W,L[W]=I,h.addEventListener(_,I,w)}function C(h,y,A,T,u){let w=N(y[A],T,u);w&&(h.removeEventListener(A,w,!!u),delete y[A][w.uidEvent])}function x(h,y,A,T){let u=y[A]||{};for(let[w,v]of Object.entries(u))w.includes(T)&&C(h,y,A,v.callable,v.delegationSelector)}function M(h){return h=h.replace(n,""),l[h]||h}let j={on(h,y,A,T){P(h,y,A,T,!1)},one(h,y,A,T){P(h,y,A,T,!0)},off(h,y,A,T){if(typeof y!="string"||!h)return;let[u,w,v]=S(y,A,T),_=v!==y,O=m(h),L=O[v]||{},k=y.startsWith(".");if(typeof w<"u"){if(!Object.keys(L).length)return;C(h,O,v,w,u?A:null);return}if(k)for(let W of Object.keys(O))x(h,O,W,y.slice(1));for(let[W,I]of Object.entries(L)){let R=W.replace(o,"");(!_||y.includes(R))&&C(h,O,v,I.callable,I.delegationSelector)}},trigger(h,y,A){if(typeof y!="string"||!h)return null;let T=e.getjQuery(),u=M(y),w=y!==u,v=null,_=!0,O=!0,L=!1;w&&T&&(v=T.Event(y,A),T(h).trigger(v),_=!v.isPropagationStopped(),O=!v.isImmediatePropagationStopped(),L=v.isDefaultPrevented());let k=V(new Event(y,{bubbles:_,cancelable:!0}),A);return L&&k.preventDefault(),O&&h.dispatchEvent(k),k.defaultPrevented&&v&&v.preventDefault(),k}};function V(h,y={}){for(let[A,T]of Object.entries(y))try{h[A]=T}catch{Object.defineProperty(h,A,{configurable:!0,get(){return T}})}return h}return j})});var Xe=G((pt,ht)=>{(function(e,t){typeof pt=="object"&&typeof ht<"u"?ht.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Manipulator=t())})(pt,function(){"use strict";function e(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function t(o){return o.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}return{setDataAttribute(o,r,i){o.setAttribute(`data-bs-${t(r)}`,i)},removeDataAttribute(o,r){o.removeAttribute(`data-bs-${t(r)}`)},getDataAttributes(o){if(!o)return{};let r={},i=Object.keys(o.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(let l of i){let s=l.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1),r[s]=e(o.dataset[l])}return r},getDataAttribute(o,r){return e(o.getAttribute(`data-bs-${t(r)}`))}}})});var Ze=G((mt,gt)=>{(function(e,t){typeof mt=="object"&&typeof gt<"u"?gt.exports=t(Xe(),he()):typeof define=="function"&&define.amd?define(["../dom/manipulator","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Config=t(e.Manipulator,e.Index))})(mt,function(e,t){"use strict";class n{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,i){let l=t.isElement(i)?e.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof l=="object"?l:{},...t.isElement(i)?e.getDataAttributes(i):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,i=this.constructor.DefaultType){for(let[l,s]of Object.entries(i)){let d=r[l],m=t.isElement(d)?"element":t.toType(d);if(!new RegExp(s).test(m))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${l}" provided type "${m}" but expected type "${s}".`)}}}return n})});var et=G((yt,vt)=>{(function(e,t){typeof yt=="object"&&typeof vt<"u"?vt.exports=t(Tn(),De(),Ze(),he()):typeof define=="function"&&define.amd?define(["./dom/data","./dom/event-handler","./util/config","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.BaseComponent=t(e.Data,e.EventHandler,e.Config,e.Index))})(yt,function(e,t,n,o){"use strict";let r="5.3.8";class i extends n{constructor(s,d){super(),s=o.getElement(s),s&&(this._element=s,this._config=this._getConfig(d),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),t.off(this._element,this.constructor.EVENT_KEY);for(let s of Object.getOwnPropertyNames(this))this[s]=null}_queueCallback(s,d,m=!0){o.executeAfterTransition(s,d,m)}_getConfig(s){return s=this._mergeConfigObj(s,this._element),s=this._configAfterMerge(s),this._typeCheckConfig(s),s}static getInstance(s){return e.get(o.getElement(s),this.DATA_KEY)}static getOrCreateInstance(s,d={}){return this.getInstance(s)||new this(s,typeof d=="object"?d:null)}static get VERSION(){return r}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(s){return`${s}${this.EVENT_KEY}`}}return i})});var Ne=G((bt,Et)=>{(function(e,t){typeof bt=="object"&&typeof Et<"u"?Et.exports=t(he()):typeof define=="function"&&define.amd?define(["../util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.SelectorEngine=t(e.Index))})(bt,function(e){"use strict";let t=o=>{let r=o.getAttribute("data-bs-target");if(!r||r==="#"){let i=o.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),r=i&&i!=="#"?i.trim():null}return r?r.split(",").map(i=>e.parseSelector(i)).join(","):null},n={find(o,r=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(r,o))},findOne(o,r=document.documentElement){return Element.prototype.querySelector.call(r,o)},children(o,r){return[].concat(...o.children).filter(i=>i.matches(r))},parents(o,r){let i=[],l=o.parentNode.closest(r);for(;l;)i.push(l),l=l.parentNode.closest(r);return i},prev(o,r){let i=o.previousElementSibling;for(;i;){if(i.matches(r))return[i];i=i.previousElementSibling}return[]},next(o,r){let i=o.nextElementSibling;for(;i;){if(i.matches(r))return[i];i=i.nextElementSibling}return[]},focusableChildren(o){let r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(r,o).filter(i=>!e.isDisabled(i)&&e.isVisible(i))},getSelectorFromElement(o){let r=t(o);return r&&n.findOne(r)?r:null},getElementFromSelector(o){let r=t(o);return r?n.findOne(r):null},getMultipleElementsFromSelector(o){let r=t(o);return r?n.find(r):[]}};return n})});var Dn=G((wt,_t)=>{(function(e,t){typeof wt=="object"&&typeof _t<"u"?_t.exports=t(et(),De(),Ne(),he()):typeof define=="function"&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Collapse=t(e.BaseComponent,e.EventHandler,e.SelectorEngine,e.Index))})(wt,function(e,t,n,o){"use strict";let r="collapse",l=".bs.collapse",s=".data-api",d=`show${l}`,m=`shown${l}`,c=`hide${l}`,b=`hidden${l}`,N=`click${l}${s}`,S="show",P="collapse",C="collapsing",x="collapsed",M=`:scope .${P} .${P}`,j="collapse-horizontal",V="width",h="height",y=".collapse.show, .collapse.collapsing",A='[data-bs-toggle="collapse"]',T={parent:null,toggle:!0},u={parent:"(null|element)",toggle:"boolean"};class w extends e{constructor(_,O){super(_,O),this._isTransitioning=!1,this._triggerArray=[];let L=n.find(A);for(let k of L){let W=n.getSelectorFromElement(k),I=n.find(W).filter(R=>R===this._element);W!==null&&I.length&&this._triggerArray.push(k)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return T}static get DefaultType(){return u}static get NAME(){return r}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let _=[];if(this._config.parent&&(_=this._getFirstLevelChildren(y).filter(R=>R!==this._element).map(R=>w.getOrCreateInstance(R,{toggle:!1}))),_.length&&_[0]._isTransitioning||t.trigger(this._element,d).defaultPrevented)return;for(let R of _)R.hide();let L=this._getDimension();this._element.classList.remove(P),this._element.classList.add(C),this._element.style[L]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let k=()=>{this._isTransitioning=!1,this._element.classList.remove(C),this._element.classList.add(P,S),this._element.style[L]="",t.trigger(this._element,m)},I=`scroll${L[0].toUpperCase()+L.slice(1)}`;this._queueCallback(k,this._element,!0),this._element.style[L]=`${this._element[I]}px`}hide(){if(this._isTransitioning||!this._isShown()||t.trigger(this._element,c).defaultPrevented)return;let O=this._getDimension();this._element.style[O]=`${this._element.getBoundingClientRect()[O]}px`,o.reflow(this._element),this._element.classList.add(C),this._element.classList.remove(P,S);for(let k of this._triggerArray){let W=n.getElementFromSelector(k);W&&!this._isShown(W)&&this._addAriaAndCollapsedClass([k],!1)}this._isTransitioning=!0;let L=()=>{this._isTransitioning=!1,this._element.classList.remove(C),this._element.classList.add(P),t.trigger(this._element,b)};this._element.style[O]="",this._queueCallback(L,this._element,!0)}_isShown(_=this._element){return _.classList.contains(S)}_configAfterMerge(_){return _.toggle=!!_.toggle,_.parent=o.getElement(_.parent),_}_getDimension(){return this._element.classList.contains(j)?V:h}_initializeChildren(){if(!this._config.parent)return;let _=this._getFirstLevelChildren(A);for(let O of _){let L=n.getElementFromSelector(O);L&&this._addAriaAndCollapsedClass([O],this._isShown(L))}}_getFirstLevelChildren(_){let O=n.find(M,this._config.parent);return n.find(_,this._config.parent).filter(L=>!O.includes(L))}_addAriaAndCollapsedClass(_,O){if(_.length)for(let L of _)L.classList.toggle(x,!O),L.setAttribute("aria-expanded",O)}static jQueryInterface(_){let O={};return typeof _=="string"&&/show|hide/.test(_)&&(O.toggle=!1),this.each(function(){let L=w.getOrCreateInstance(this,O);if(typeof _=="string"){if(typeof L[_]>"u")throw new TypeError(`No method named "${_}"`);L[_]()}})}}return t.on(document,N,A,function(v){(v.target.tagName==="A"||v.delegateTarget&&v.delegateTarget.tagName==="A")&&v.preventDefault();for(let _ of n.getMultipleElementsFromSelector(this))w.getOrCreateInstance(_,{toggle:!1}).toggle()}),o.defineJQueryPlugin(w),w})});var Zn=G(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});function ae(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xe(e){var t=ae(e).Element;return e instanceof t||e instanceof Element}function ce(e){var t=ae(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function St(e){if(typeof ShadowRoot>"u")return!1;var t=ae(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Ie=Math.max,rt=Math.min,$e=Math.round;function At(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Rn(){return!/^((?!chrome|android).)*safari/i.test(At())}function qe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=e.getBoundingClientRect(),r=1,i=1;t&&ce(e)&&(r=e.offsetWidth>0&&$e(o.width)/e.offsetWidth||1,i=e.offsetHeight>0&&$e(o.height)/e.offsetHeight||1);var l=xe(e)?ae(e):window,s=l.visualViewport,d=!Rn()&&n,m=(o.left+(d&&s?s.offsetLeft:0))/r,c=(o.top+(d&&s?s.offsetTop:0))/i,b=o.width/r,N=o.height/i;return{width:b,height:N,top:c,right:m+b,bottom:c+N,left:m,x:m,y:c}}function Tt(e){var t=ae(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function kr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Mr(e){return e===ae(e)||!ce(e)?Tt(e):kr(e)}function Ee(e){return e?(e.nodeName||"").toLowerCase():null}function Pe(e){return((xe(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ot(e){return qe(Pe(e)).left+Tt(e).scrollLeft}function _e(e){return ae(e).getComputedStyle(e)}function Dt(e){var t=_e(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function $r(e){var t=e.getBoundingClientRect(),n=$e(t.width)/e.offsetWidth||1,o=$e(t.height)/e.offsetHeight||1;return n!==1||o!==1}function qr(e,t,n){n===void 0&&(n=!1);var o=ce(t),r=ce(t)&&$r(t),i=Pe(t),l=qe(e,r,n),s={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!n)&&((Ee(t)!=="body"||Dt(i))&&(s=Mr(t)),ce(t)?(d=qe(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=Ot(i))),{x:l.left+s.scrollLeft-d.x,y:l.top+s.scrollTop-d.y,width:l.width,height:l.height}}function Pt(e){var t=qe(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function ot(e){return Ee(e)==="html"?e:e.assignedSlot||e.parentNode||(St(e)?e.host:null)||Pe(e)}function Bn(e){return["html","body","#document"].indexOf(Ee(e))>=0?e.ownerDocument.body:ce(e)&&Dt(e)?e:Bn(ot(e))}function ze(e,t){var n;t===void 0&&(t=[]);var o=Bn(e),r=o===((n=e.ownerDocument)==null?void 0:n.body),i=ae(o),l=r?[i].concat(i.visualViewport||[],Dt(o)?o:[]):o,s=t.concat(l);return r?s:s.concat(ze(ot(l)))}function Rr(e){return["table","td","th"].indexOf(Ee(e))>=0}function Pn(e){return!ce(e)||_e(e).position==="fixed"?null:e.offsetParent}function Br(e){var t=/firefox/i.test(At()),n=/Trident/i.test(At());if(n&&ce(e)){var o=_e(e);if(o.position==="fixed")return null}var r=ot(e);for(St(r)&&(r=r.host);ce(r)&&["html","body"].indexOf(Ee(r))<0;){var i=_e(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Ue(e){for(var t=ae(e),n=Pn(e);n&&Rr(n)&&_e(n).position==="static";)n=Pn(n);return n&&(Ee(n)==="html"||Ee(n)==="body"&&_e(n).position==="static")?t:n||Br(e)||t}var ee="top",le="bottom",ue="right",te="left",Lt="auto",He=[ee,le,ue,te],Re="start",Ke="end",jr="clippingParents",jn="viewport",We="popper",Vr="reference",Ln=He.reduce(function(e,t){return e.concat([t+"-"+Re,t+"-"+Ke])},[]),Vn=[].concat(He,[Lt]).reduce(function(e,t){return e.concat([t,t+"-"+Re,t+"-"+Ke])},[]),Wr="beforeRead",zr="read",Fr="afterRead",Kr="beforeMain",Ur="main",Hr="afterMain",Yr="beforeWrite",Qr="write",Gr="afterWrite",Jr=[Wr,zr,Fr,Kr,Ur,Hr,Yr,Qr,Gr];function Xr(e){var t=new Map,n=new Set,o=[];e.forEach(function(i){t.set(i.name,i)});function r(i){n.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(s){if(!n.has(s)){var d=t.get(s);d&&r(d)}}),o.push(i)}return e.forEach(function(i){n.has(i.name)||r(i)}),o}function Zr(e){var t=Xr(e);return Jr.reduce(function(n,o){return n.concat(t.filter(function(r){return r.phase===o}))},[])}function eo(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function to(e){var t=e.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}function no(e,t){var n=ae(e),o=Pe(e),r=n.visualViewport,i=o.clientWidth,l=o.clientHeight,s=0,d=0;if(r){i=r.width,l=r.height;var m=Rn();(m||!m&&t==="fixed")&&(s=r.offsetLeft,d=r.offsetTop)}return{width:i,height:l,x:s+Ot(e),y:d}}function ro(e){var t,n=Pe(e),o=Tt(e),r=(t=e.ownerDocument)==null?void 0:t.body,i=Ie(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=Ie(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-o.scrollLeft+Ot(e),d=-o.scrollTop;return _e(r||n).direction==="rtl"&&(s+=Ie(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:l,x:s,y:d}}function Wn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&St(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Ct(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oo(e,t){var n=qe(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Nn(e,t,n){return t===jn?Ct(no(e,n)):xe(t)?oo(t,n):Ct(ro(Pe(e)))}function io(e){var t=ze(ot(e)),n=["absolute","fixed"].indexOf(_e(e).position)>=0,o=n&&ce(e)?Ue(e):e;return xe(o)?t.filter(function(r){return xe(r)&&Wn(r,o)&&Ee(r)!=="body"}):[]}function ao(e,t,n,o){var r=t==="clippingParents"?io(e):[].concat(t),i=[].concat(r,[n]),l=i[0],s=i.reduce(function(d,m){var c=Nn(e,m,o);return d.top=Ie(c.top,d.top),d.right=rt(c.right,d.right),d.bottom=rt(c.bottom,d.bottom),d.left=Ie(c.left,d.left),d},Nn(e,l,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function be(e){return e.split("-")[0]}function Be(e){return e.split("-")[1]}function Nt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function zn(e){var t=e.reference,n=e.element,o=e.placement,r=o?be(o):null,i=o?Be(o):null,l=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,d;switch(r){case ee:d={x:l,y:t.y-n.height};break;case le:d={x:l,y:t.y+t.height};break;case ue:d={x:t.x+t.width,y:s};break;case te:d={x:t.x-n.width,y:s};break;default:d={x:t.x,y:t.y}}var m=r?Nt(r):null;if(m!=null){var c=m==="y"?"height":"width";switch(i){case Re:d[m]=d[m]-(t[c]/2-n[c]/2);break;case Ke:d[m]=d[m]+(t[c]/2-n[c]/2);break}}return d}function Fn(){return{top:0,right:0,bottom:0,left:0}}function Kn(e){return Object.assign({},Fn(),e)}function Un(e,t){return t.reduce(function(n,o){return n[o]=e,n},{})}function je(e,t){t===void 0&&(t={});var n=t,o=n.placement,r=o===void 0?e.placement:o,i=n.strategy,l=i===void 0?e.strategy:i,s=n.boundary,d=s===void 0?jr:s,m=n.rootBoundary,c=m===void 0?jn:m,b=n.elementContext,N=b===void 0?We:b,S=n.altBoundary,P=S===void 0?!1:S,C=n.padding,x=C===void 0?0:C,M=Kn(typeof x!="number"?x:Un(x,He)),j=N===We?Vr:We,V=e.rects.popper,h=e.elements[P?j:N],y=ao(xe(h)?h:h.contextElement||Pe(e.elements.popper),d,c,l),A=qe(e.elements.reference),T=zn({reference:A,element:V,strategy:"absolute",placement:r}),u=Ct(Object.assign({},V,T)),w=N===We?u:A,v={top:y.top-w.top+M.top,bottom:w.bottom-y.bottom+M.bottom,left:y.left-w.left+M.left,right:w.right-y.right+M.right},_=e.modifiersData.offset;if(N===We&&_){var O=_[r];Object.keys(v).forEach(function(L){var k=[ue,le].indexOf(L)>=0?1:-1,W=[ee,le].indexOf(L)>=0?"y":"x";v[L]+=O[W]*k})}return v}var In={placement:"bottom",modifiers:[],strategy:"absolute"};function xn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function It(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,r=t.defaultOptions,i=r===void 0?In:r;return function(s,d,m){m===void 0&&(m=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},In,i),modifiersData:{},elements:{reference:s,popper:d},attributes:{},styles:{}},b=[],N=!1,S={state:c,setOptions:function(M){var j=typeof M=="function"?M(c.options):M;C(),c.options=Object.assign({},i,c.options,j),c.scrollParents={reference:xe(s)?ze(s):s.contextElement?ze(s.contextElement):[],popper:ze(d)};var V=Zr(to([].concat(o,c.options.modifiers)));return c.orderedModifiers=V.filter(function(h){return h.enabled}),P(),S.update()},forceUpdate:function(){if(!N){var M=c.elements,j=M.reference,V=M.popper;if(xn(j,V)){c.rects={reference:qr(j,Ue(V),c.options.strategy==="fixed"),popper:Pt(V)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(v){return c.modifiersData[v.name]=Object.assign({},v.data)});for(var h=0;h<c.orderedModifiers.length;h++){if(c.reset===!0){c.reset=!1,h=-1;continue}var y=c.orderedModifiers[h],A=y.fn,T=y.options,u=T===void 0?{}:T,w=y.name;typeof A=="function"&&(c=A({state:c,options:u,name:w,instance:S})||c)}}}},update:eo(function(){return new Promise(function(x){S.forceUpdate(),x(c)})}),destroy:function(){C(),N=!0}};if(!xn(s,d))return S;S.setOptions(m).then(function(x){!N&&m.onFirstUpdate&&m.onFirstUpdate(x)});function P(){c.orderedModifiers.forEach(function(x){var M=x.name,j=x.options,V=j===void 0?{}:j,h=x.effect;if(typeof h=="function"){var y=h({state:c,name:M,instance:S,options:V}),A=function(){};b.push(y||A)}})}function C(){b.forEach(function(x){return x()}),b=[]}return S}}var tt={passive:!0};function so(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,i=r===void 0?!0:r,l=o.resize,s=l===void 0?!0:l,d=ae(t.elements.popper),m=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&m.forEach(function(c){c.addEventListener("scroll",n.update,tt)}),s&&d.addEventListener("resize",n.update,tt),function(){i&&m.forEach(function(c){c.removeEventListener("scroll",n.update,tt)}),s&&d.removeEventListener("resize",n.update,tt)}}var xt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:so,data:{}};function co(e){var t=e.state,n=e.name;t.modifiersData[n]=zn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var kt={name:"popperOffsets",enabled:!0,phase:"read",fn:co,data:{}},lo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uo(e,t){var n=e.x,o=e.y,r=t.devicePixelRatio||1;return{x:$e(n*r)/r||0,y:$e(o*r)/r||0}}function kn(e){var t,n=e.popper,o=e.popperRect,r=e.placement,i=e.variation,l=e.offsets,s=e.position,d=e.gpuAcceleration,m=e.adaptive,c=e.roundOffsets,b=e.isFixed,N=l.x,S=N===void 0?0:N,P=l.y,C=P===void 0?0:P,x=typeof c=="function"?c({x:S,y:C}):{x:S,y:C};S=x.x,C=x.y;var M=l.hasOwnProperty("x"),j=l.hasOwnProperty("y"),V=te,h=ee,y=window;if(m){var A=Ue(n),T="clientHeight",u="clientWidth";if(A===ae(n)&&(A=Pe(n),_e(A).position!=="static"&&s==="absolute"&&(T="scrollHeight",u="scrollWidth")),A=A,r===ee||(r===te||r===ue)&&i===Ke){h=le;var w=b&&A===y&&y.visualViewport?y.visualViewport.height:A[T];C-=w-o.height,C*=d?1:-1}if(r===te||(r===ee||r===le)&&i===Ke){V=ue;var v=b&&A===y&&y.visualViewport?y.visualViewport.width:A[u];S-=v-o.width,S*=d?1:-1}}var _=Object.assign({position:s},m&&lo),O=c===!0?uo({x:S,y:C},ae(n)):{x:S,y:C};if(S=O.x,C=O.y,d){var L;return Object.assign({},_,(L={},L[h]=j?"0":"",L[V]=M?"0":"",L.transform=(y.devicePixelRatio||1)<=1?"translate("+S+"px, "+C+"px)":"translate3d("+S+"px, "+C+"px, 0)",L))}return Object.assign({},_,(t={},t[h]=j?C+"px":"",t[V]=M?S+"px":"",t.transform="",t))}function fo(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=o===void 0?!0:o,i=n.adaptive,l=i===void 0?!0:i,s=n.roundOffsets,d=s===void 0?!0:s,m={placement:be(t.placement),variation:Be(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,kn(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,kn(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Mt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fo,data:{}};function po(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},r=t.attributes[n]||{},i=t.elements[n];!ce(i)||!Ee(i)||(Object.assign(i.style,o),Object.keys(r).forEach(function(l){var s=r[l];s===!1?i.removeAttribute(l):i.setAttribute(l,s===!0?"":s)}))})}function ho(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var r=t.elements[o],i=t.attributes[o]||{},l=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),s=l.reduce(function(d,m){return d[m]="",d},{});!ce(r)||!Ee(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(d){r.removeAttribute(d)}))})}}var $t={name:"applyStyles",enabled:!0,phase:"write",fn:po,effect:ho,requires:["computeStyles"]};function mo(e,t,n){var o=be(e),r=[te,ee].indexOf(o)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=i[0],s=i[1];return l=l||0,s=(s||0)*r,[te,ue].indexOf(o)>=0?{x:s,y:l}:{x:l,y:s}}function go(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=r===void 0?[0,0]:r,l=Vn.reduce(function(c,b){return c[b]=mo(b,t.rects,i),c},{}),s=l[t.placement],d=s.x,m=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=m),t.modifiersData[o]=l}var Hn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:go},yo={left:"right",right:"left",bottom:"top",top:"bottom"};function nt(e){return e.replace(/left|right|bottom|top/g,function(t){return yo[t]})}var vo={start:"end",end:"start"};function Mn(e){return e.replace(/start|end/g,function(t){return vo[t]})}function bo(e,t){t===void 0&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,l=n.padding,s=n.flipVariations,d=n.allowedAutoPlacements,m=d===void 0?Vn:d,c=Be(o),b=c?s?Ln:Ln.filter(function(P){return Be(P)===c}):He,N=b.filter(function(P){return m.indexOf(P)>=0});N.length===0&&(N=b);var S=N.reduce(function(P,C){return P[C]=je(e,{placement:C,boundary:r,rootBoundary:i,padding:l})[be(C)],P},{});return Object.keys(S).sort(function(P,C){return S[P]-S[C]})}function Eo(e){if(be(e)===Lt)return[];var t=nt(e);return[Mn(e),t,Mn(t)]}function wo(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,l=n.altAxis,s=l===void 0?!0:l,d=n.fallbackPlacements,m=n.padding,c=n.boundary,b=n.rootBoundary,N=n.altBoundary,S=n.flipVariations,P=S===void 0?!0:S,C=n.allowedAutoPlacements,x=t.options.placement,M=be(x),j=M===x,V=d||(j||!P?[nt(x)]:Eo(x)),h=[x].concat(V).reduce(function(fe,re){return fe.concat(be(re)===Lt?bo(t,{placement:re,boundary:c,rootBoundary:b,padding:m,flipVariations:P,allowedAutoPlacements:C}):re)},[]),y=t.rects.reference,A=t.rects.popper,T=new Map,u=!0,w=h[0],v=0;v<h.length;v++){var _=h[v],O=be(_),L=Be(_)===Re,k=[ee,le].indexOf(O)>=0,W=k?"width":"height",I=je(t,{placement:_,boundary:c,rootBoundary:b,altBoundary:N,padding:m}),R=k?L?ue:te:L?le:ee;y[W]>A[W]&&(R=nt(R));var ne=nt(R),Q=[];if(i&&Q.push(I[O]<=0),s&&Q.push(I[R]<=0,I[ne]<=0),Q.every(function(fe){return fe})){w=_,u=!1;break}T.set(_,Q)}if(u)for(var Ae=P?3:1,Ce=function(re){var oe=h.find(function(Se){var X=T.get(Se);if(X)return X.slice(0,re).every(function(ge){return ge})});if(oe)return w=oe,"break"},de=Ae;de>0;de--){var se=Ce(de);if(se==="break")break}t.placement!==w&&(t.modifiersData[o]._skip=!0,t.placement=w,t.reset=!0)}}var Yn={name:"flip",enabled:!0,phase:"main",fn:wo,requiresIfExists:["offset"],data:{_skip:!1}};function _o(e){return e==="x"?"y":"x"}function Fe(e,t,n){return Ie(e,rt(t,n))}function Ao(e,t,n){var o=Fe(e,t,n);return o>n?n:o}function Co(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=r===void 0?!0:r,l=n.altAxis,s=l===void 0?!1:l,d=n.boundary,m=n.rootBoundary,c=n.altBoundary,b=n.padding,N=n.tether,S=N===void 0?!0:N,P=n.tetherOffset,C=P===void 0?0:P,x=je(t,{boundary:d,rootBoundary:m,padding:b,altBoundary:c}),M=be(t.placement),j=Be(t.placement),V=!j,h=Nt(M),y=_o(h),A=t.modifiersData.popperOffsets,T=t.rects.reference,u=t.rects.popper,w=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,v=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(A){if(i){var L,k=h==="y"?ee:te,W=h==="y"?le:ue,I=h==="y"?"height":"width",R=A[h],ne=R+x[k],Q=R-x[W],Ae=S?-u[I]/2:0,Ce=j===Re?T[I]:u[I],de=j===Re?-u[I]:-T[I],se=t.elements.arrow,fe=S&&se?Pt(se):{width:0,height:0},re=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Fn(),oe=re[k],Se=re[W],X=Fe(0,T[I],fe[I]),ge=V?T[I]/2-Ae-X-oe-v.mainAxis:Ce-X-oe-v.mainAxis,H=V?-T[I]/2+Ae+X+Se+v.mainAxis:de+X+Se+v.mainAxis,ie=t.elements.arrow&&Ue(t.elements.arrow),a=ie?h==="y"?ie.clientTop||0:ie.clientLeft||0:0,f=(L=_?.[h])!=null?L:0,g=R+ge-f-a,E=R+H-f,p=Fe(S?rt(ne,g):ne,R,S?Ie(Q,E):Q);A[h]=p,O[h]=p-R}if(s){var D,$=h==="x"?ee:te,z=h==="x"?le:ue,K=A[y],U=y==="y"?"height":"width",F=K+x[$],q=K-x[z],Y=[ee,te].indexOf(M)!==-1,we=(D=_?.[y])!=null?D:0,Te=Y?F:K-T[U]-u[U]-we+v.altAxis,Z=Y?K+T[U]+u[U]-we-v.altAxis:q,Oe=S&&Y?Ao(Te,K,Z):Fe(S?Te:F,K,S?Z:q);A[y]=Oe,O[y]=Oe-K}t.modifiersData[o]=O}}var Qn={name:"preventOverflow",enabled:!0,phase:"main",fn:Co,requiresIfExists:["offset"]},So=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Kn(typeof t!="number"?t:Un(t,He))};function To(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,s=be(n.placement),d=Nt(s),m=[te,ue].indexOf(s)>=0,c=m?"height":"width";if(!(!i||!l)){var b=So(r.padding,n),N=Pt(i),S=d==="y"?ee:te,P=d==="y"?le:ue,C=n.rects.reference[c]+n.rects.reference[d]-l[d]-n.rects.popper[c],x=l[d]-n.rects.reference[d],M=Ue(i),j=M?d==="y"?M.clientHeight||0:M.clientWidth||0:0,V=C/2-x/2,h=b[S],y=j-N[c]-b[P],A=j/2-N[c]/2+V,T=Fe(h,A,y),u=d;n.modifiersData[o]=(t={},t[u]=T,t.centerOffset=T-A,t)}}function Oo(e){var t=e.state,n=e.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Wn(t.elements.popper,r)&&(t.elements.arrow=r))}var Gn={name:"arrow",enabled:!0,phase:"main",fn:To,effect:Oo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $n(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function qn(e){return[ee,ue,le,te].some(function(t){return e[t]>=0})}function Do(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,l=je(t,{elementContext:"reference"}),s=je(t,{altBoundary:!0}),d=$n(l,o),m=$n(s,r,i),c=qn(d),b=qn(m);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:m,isReferenceHidden:c,hasPopperEscaped:b},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":b})}var Jn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Do},Po=[xt,kt,Mt,$t],Lo=It({defaultModifiers:Po}),Xn=[xt,kt,Mt,$t,Hn,Yn,Qn,Gn,Jn],No=It({defaultModifiers:Xn});J.applyStyles=$t;J.arrow=Gn;J.computeStyles=Mt;J.createPopper=No;J.createPopperLite=Lo;J.defaultModifiers=Xn;J.detectOverflow=je;J.eventListeners=xt;J.flip=Yn;J.hide=Jn;J.offset=Hn;J.popperGenerator=It;J.popperOffsets=kt;J.preventOverflow=Qn});var er=G((qt,Rt)=>{(function(e,t){typeof qt=="object"&&typeof Rt<"u"?Rt.exports=t(Zn(),et(),De(),Xe(),Ne(),he()):typeof define=="function"&&define.amd?define(["@popperjs/core","./base-component","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Dropdown=t(e["@popperjs/core"],e.BaseComponent,e.EventHandler,e.Manipulator,e.SelectorEngine,e.Index))})(qt,function(e,t,n,o,r,i){"use strict";function l(ie){let a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(ie){for(let f in ie)if(f!=="default"){let g=Object.getOwnPropertyDescriptor(ie,f);Object.defineProperty(a,f,g.get?g:{enumerable:!0,get:()=>ie[f]})}}return a.default=ie,Object.freeze(a)}let s=l(e),d="dropdown",c=".bs.dropdown",b=".data-api",N="Escape",S="Tab",P="ArrowUp",C="ArrowDown",x=2,M=`hide${c}`,j=`hidden${c}`,V=`show${c}`,h=`shown${c}`,y=`click${c}${b}`,A=`keydown${c}${b}`,T=`keyup${c}${b}`,u="show",w="dropup",v="dropend",_="dropstart",O="dropup-center",L="dropdown-center",k='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',W=`${k}.${u}`,I=".dropdown-menu",R=".navbar",ne=".navbar-nav",Q=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ae=i.isRTL()?"top-end":"top-start",Ce=i.isRTL()?"top-start":"top-end",de=i.isRTL()?"bottom-end":"bottom-start",se=i.isRTL()?"bottom-start":"bottom-end",fe=i.isRTL()?"left-start":"right-start",re=i.isRTL()?"right-start":"left-start",oe="top",Se="bottom",X={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ge={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class H extends t{constructor(a,f){super(a,f),this._popper=null,this._parent=this._element.parentNode,this._menu=r.next(this._element,I)[0]||r.prev(this._element,I)[0]||r.findOne(I,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return X}static get DefaultType(){return ge}static get NAME(){return d}toggle(){return this._isShown()?this.hide():this.show()}show(){if(i.isDisabled(this._element)||this._isShown())return;let a={relatedTarget:this._element};if(!n.trigger(this._element,V,a).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ne))for(let g of[].concat(...document.body.children))n.on(g,"mouseover",i.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(u),this._element.classList.add(u),n.trigger(this._element,h,a)}}hide(){if(i.isDisabled(this._element)||!this._isShown())return;let a={relatedTarget:this._element};this._completeHide(a)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(a){if(!n.trigger(this._element,M,a).defaultPrevented){if("ontouchstart"in document.documentElement)for(let g of[].concat(...document.body.children))n.off(g,"mouseover",i.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(u),this._element.classList.remove(u),this._element.setAttribute("aria-expanded","false"),o.removeDataAttribute(this._menu,"popper"),n.trigger(this._element,j,a)}}_getConfig(a){if(a=super._getConfig(a),typeof a.reference=="object"&&!i.isElement(a.reference)&&typeof a.reference.getBoundingClientRect!="function")throw new TypeError(`${d.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return a}_createPopper(){if(typeof s>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let a=this._element;this._config.reference==="parent"?a=this._parent:i.isElement(this._config.reference)?a=i.getElement(this._config.reference):typeof this._config.reference=="object"&&(a=this._config.reference);let f=this._getPopperConfig();this._popper=s.createPopper(a,this._menu,f)}_isShown(){return this._menu.classList.contains(u)}_getPlacement(){let a=this._parent;if(a.classList.contains(v))return fe;if(a.classList.contains(_))return re;if(a.classList.contains(O))return oe;if(a.classList.contains(L))return Se;let f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return a.classList.contains(w)?f?Ce:Ae:f?se:de}_detectNavbar(){return this._element.closest(R)!==null}_getOffset(){let{offset:a}=this._config;return typeof a=="string"?a.split(",").map(f=>Number.parseInt(f,10)):typeof a=="function"?f=>a(f,this._element):a}_getPopperConfig(){let a={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(o.setDataAttribute(this._menu,"popper","static"),a.modifiers=[{name:"applyStyles",enabled:!1}]),{...a,...i.execute(this._config.popperConfig,[void 0,a])}}_selectMenuItem({key:a,target:f}){let g=r.find(Q,this._menu).filter(E=>i.isVisible(E));g.length&&i.getNextActiveElement(g,f,a===C,!g.includes(f)).focus()}static jQueryInterface(a){return this.each(function(){let f=H.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof f[a]>"u")throw new TypeError(`No method named "${a}"`);f[a]()}})}static clearMenus(a){if(a.button===x||a.type==="keyup"&&a.key!==S)return;let f=r.find(W);for(let g of f){let E=H.getInstance(g);if(!E||E._config.autoClose===!1)continue;let p=a.composedPath(),D=p.includes(E._menu);if(p.includes(E._element)||E._config.autoClose==="inside"&&!D||E._config.autoClose==="outside"&&D||E._menu.contains(a.target)&&(a.type==="keyup"&&a.key===S||/input|select|option|textarea|form/i.test(a.target.tagName)))continue;let $={relatedTarget:E._element};a.type==="click"&&($.clickEvent=a),E._completeHide($)}}static dataApiKeydownHandler(a){let f=/input|textarea/i.test(a.target.tagName),g=a.key===N,E=[P,C].includes(a.key);if(!E&&!g||f&&!g)return;a.preventDefault();let p=this.matches(k)?this:r.prev(this,k)[0]||r.next(this,k)[0]||r.findOne(k,a.delegateTarget.parentNode),D=H.getOrCreateInstance(p);if(E){a.stopPropagation(),D.show(),D._selectMenuItem(a);return}D._isShown()&&(a.stopPropagation(),D.hide(),p.focus())}}return n.on(document,A,k,H.dataApiKeydownHandler),n.on(document,A,I,H.dataApiKeydownHandler),n.on(document,y,H.clearMenus),n.on(document,T,H.clearMenus),n.on(document,y,k,function(ie){ie.preventDefault(),H.getOrCreateInstance(this).toggle()}),i.defineJQueryPlugin(H),H})});var tr=G((Bt,jt)=>{(function(e,t){typeof Bt=="object"&&typeof jt<"u"?jt.exports=t(De(),Ze(),he()):typeof define=="function"&&define.amd?define(["../dom/event-handler","./config","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Backdrop=t(e.EventHandler,e.Config,e.Index))})(Bt,function(e,t,n){"use strict";let o="backdrop",r="fade",i="show",l=`mousedown.bs.${o}`,s={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},d={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class m extends t{constructor(b){super(),this._config=this._getConfig(b),this._isAppended=!1,this._element=null}static get Default(){return s}static get DefaultType(){return d}static get NAME(){return o}show(b){if(!this._config.isVisible){n.execute(b);return}this._append();let N=this._getElement();this._config.isAnimated&&n.reflow(N),N.classList.add(i),this._emulateAnimation(()=>{n.execute(b)})}hide(b){if(!this._config.isVisible){n.execute(b);return}this._getElement().classList.remove(i),this._emulateAnimation(()=>{this.dispose(),n.execute(b)})}dispose(){this._isAppended&&(e.off(this._element,l),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let b=document.createElement("div");b.className=this._config.className,this._config.isAnimated&&b.classList.add(r),this._element=b}return this._element}_configAfterMerge(b){return b.rootElement=n.getElement(b.rootElement),b}_append(){if(this._isAppended)return;let b=this._getElement();this._config.rootElement.append(b),e.on(b,l,()=>{n.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(b){n.executeAfterTransition(b,this._getElement(),this._config.isAnimated)}}return m})});var rr=G((it,nr)=>{(function(e,t){typeof it=="object"&&typeof nr<"u"?t(it,De(),Ne(),he()):typeof define=="function"&&define.amd?define(["exports","../dom/event-handler","../dom/selector-engine","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.ComponentFunctions={},e.EventHandler,e.SelectorEngine,e.Index))})(it,function(e,t,n,o){"use strict";let r=(i,l="hide")=>{let s=`click.dismiss${i.EVENT_KEY}`,d=i.NAME;t.on(document,s,`[data-bs-dismiss="${d}"]`,function(m){if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),o.isDisabled(this))return;let c=n.getElementFromSelector(this)||this.closest(`.${d}`);i.getOrCreateInstance(c)[l]()})};e.enableDismissTrigger=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})});var or=G((Vt,Wt)=>{(function(e,t){typeof Vt=="object"&&typeof Wt<"u"?Wt.exports=t(De(),Ne(),Ze()):typeof define=="function"&&define.amd?define(["../dom/event-handler","../dom/selector-engine","./config"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Focustrap=t(e.EventHandler,e.SelectorEngine,e.Config))})(Vt,function(e,t,n){"use strict";let o="focustrap",i=".bs.focustrap",l=`focusin${i}`,s=`keydown.tab${i}`,d="Tab",m="forward",c="backward",b={autofocus:!0,trapElement:null},N={autofocus:"boolean",trapElement:"element"};class S extends n{constructor(C){super(),this._config=this._getConfig(C),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return b}static get DefaultType(){return N}static get NAME(){return o}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),e.off(document,i),e.on(document,l,C=>this._handleFocusin(C)),e.on(document,s,C=>this._handleKeydown(C)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,e.off(document,i))}_handleFocusin(C){let{trapElement:x}=this._config;if(C.target===document||C.target===x||x.contains(C.target))return;let M=t.focusableChildren(x);M.length===0?x.focus():this._lastTabNavDirection===c?M[M.length-1].focus():M[0].focus()}_handleKeydown(C){C.key===d&&(this._lastTabNavDirection=C.shiftKey?c:m)}}return S})});var ir=G((zt,Ft)=>{(function(e,t){typeof zt=="object"&&typeof Ft<"u"?Ft.exports=t(Xe(),Ne(),he()):typeof define=="function"&&define.amd?define(["../dom/manipulator","../dom/selector-engine","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Scrollbar=t(e.Manipulator,e.SelectorEngine,e.Index))})(zt,function(e,t,n){"use strict";let o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",r=".sticky-top",i="padding-right",l="margin-right";class s{constructor(){this._element=document.body}getWidth(){let m=document.documentElement.clientWidth;return Math.abs(window.innerWidth-m)}hide(){let m=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,i,c=>c+m),this._setElementAttributes(o,i,c=>c+m),this._setElementAttributes(r,l,c=>c-m)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,i),this._resetElementAttributes(o,i),this._resetElementAttributes(r,l)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(m,c,b){let N=this.getWidth(),S=P=>{if(P!==this._element&&window.innerWidth>P.clientWidth+N)return;this._saveInitialAttribute(P,c);let C=window.getComputedStyle(P).getPropertyValue(c);P.style.setProperty(c,`${b(Number.parseFloat(C))}px`)};this._applyManipulationCallback(m,S)}_saveInitialAttribute(m,c){let b=m.style.getPropertyValue(c);b&&e.setDataAttribute(m,c,b)}_resetElementAttributes(m,c){let b=N=>{let S=e.getDataAttribute(N,c);if(S===null){N.style.removeProperty(c);return}e.removeDataAttribute(N,c),N.style.setProperty(c,S)};this._applyManipulationCallback(m,b)}_applyManipulationCallback(m,c){if(n.isElement(m)){c(m);return}for(let b of t.find(m,this._element))c(b)}}return s})});var ar=G((Kt,Ut)=>{(function(e,t){typeof Kt=="object"&&typeof Ut<"u"?Ut.exports=t(et(),De(),Ne(),tr(),rr(),or(),he(),ir()):typeof define=="function"&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/backdrop","./util/component-functions","./util/focustrap","./util/index","./util/scrollbar"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Offcanvas=t(e.BaseComponent,e.EventHandler,e.SelectorEngine,e.Backdrop,e.ComponentFunctions,e.Focustrap,e.Index,e.Scrollbar))})(Kt,function(e,t,n,o,r,i,l,s){"use strict";let d="offcanvas",c=".bs.offcanvas",b=".data-api",N=`load${c}${b}`,S="Escape",P="show",C="showing",x="hiding",M="offcanvas-backdrop",j=".offcanvas.show",V=`show${c}`,h=`shown${c}`,y=`hide${c}`,A=`hidePrevented${c}`,T=`hidden${c}`,u=`resize${c}`,w=`click${c}${b}`,v=`keydown.dismiss${c}`,_='[data-bs-toggle="offcanvas"]',O={backdrop:!0,keyboard:!0,scroll:!1},L={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class k extends e{constructor(I,R){super(I,R),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return O}static get DefaultType(){return L}static get NAME(){return d}toggle(I){return this._isShown?this.hide():this.show(I)}show(I){if(this._isShown||t.trigger(this._element,V,{relatedTarget:I}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new s().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(C);let ne=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(P),this._element.classList.remove(C),t.trigger(this._element,h,{relatedTarget:I})};this._queueCallback(ne,this._element,!0)}hide(){if(!this._isShown||t.trigger(this._element,y).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(x),this._backdrop.hide();let R=()=>{this._element.classList.remove(P,x),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new s().reset(),t.trigger(this._element,T)};this._queueCallback(R,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let I=()=>{if(this._config.backdrop==="static"){t.trigger(this._element,A);return}this.hide()},R=!!this._config.backdrop;return new o({className:M,isVisible:R,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:R?I:null})}_initializeFocusTrap(){return new i({trapElement:this._element})}_addEventListeners(){t.on(this._element,v,I=>{if(I.key===S){if(this._config.keyboard){this.hide();return}t.trigger(this._element,A)}})}static jQueryInterface(I){return this.each(function(){let R=k.getOrCreateInstance(this,I);if(typeof I=="string"){if(R[I]===void 0||I.startsWith("_")||I==="constructor")throw new TypeError(`No method named "${I}"`);R[I](this)}})}}return t.on(document,w,_,function(W){let I=n.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&W.preventDefault(),l.isDisabled(this))return;t.one(I,T,()=>{l.isVisible(this)&&this.focus()});let R=n.findOne(j);R&&R!==I&&k.getInstance(R).hide(),k.getOrCreateInstance(I).toggle(this)}),t.on(window,N,()=>{for(let W of n.find(j))k.getOrCreateInstance(W).show()}),t.on(window,u,()=>{for(let W of n.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(W).position!=="fixed"&&k.getOrCreateInstance(W).hide()}),r.enableDismissTrigger(k),l.defineJQueryPlugin(k),k})});function Gt(e){if(e&&typeof e=="object"){if(e.default)return e.default;let t=Object.keys(e);if(t.length===1)return e[t[0]]}return e}function Jt(e,t){return!e||!t?null:typeof e.getOrCreateInstance=="function"?e.getOrCreateInstance(t):new e(t)}function Io(e){return e?typeof e=="string"?document.querySelector(e):e:null}function Xt(e,t){return cr.has(e)?cr.get(e)():t()}async function xo(){Ht||(Ht=Xt("collapse",()=>Promise.resolve().then(()=>ct(Dn(),1))));let e=await Ht;return Gt(e)}async function ko(){Yt||(Yt=Xt("dropdown",()=>Promise.resolve().then(()=>ct(er(),1))));let e=await Yt;return Gt(e)}async function Mo(){Qt||(Qt=Xt("offcanvas",()=>Promise.resolve().then(()=>ct(ar(),1))));let e=await Qt;return Gt(e)}function $o(){document.querySelectorAll('[data-bs-toggle="collapse"][data-bs-target]').forEach(t=>{t.addEventListener("click",()=>{qo(t)})})}async function qo(e){try{let t=e.getAttribute("data-bs-target");if(!t)return;let n=document.querySelector(t);if(!n)return;let o=await xo();Jt(o,n)?.toggle?.()}catch(t){console.error("No se pudo inicializar el Collapse de Bootstrap",t)}}function Ro(){document.querySelectorAll('[data-bs-toggle="dropdown"]').forEach(t=>{t.addEventListener("click",n=>{n.preventDefault(),Bo(t)})})}async function Bo(e){try{let t=await ko();Jt(t,e)?.toggle?.()}catch(t){console.error("No se pudo inicializar el Dropdown de Bootstrap",t)}}function lr(){sr||(sr=!0,!(typeof document>"u")&&($o(),Ro()))}async function ur(e){if(typeof document>"u")throw new Error("Offcanvas no disponible en este entorno");let t=Io(e);if(!t)throw new Error("No se encontr\xF3 el elemento de Offcanvas");let n=await Mo(),o=Jt(n,t);if(!o||typeof o.show!="function")throw new Error("Instancia de Offcanvas inv\xE1lida");return o.show(),o}var sr,cr,Ht,Yt,Qt,Zt=ve(()=>{sr=!1,cr=new Map,Ht=null,Yt=null,Qt=null});function Ye(e,t={}){let n=e.startsWith("/")?e:"/"+e,o=Object.entries(t).map(([i,l])=>`${i}=${l}`).join(","),r=n.split("/").map(encodeURIComponent).join("/");return`/cdn-cgi/image/${o}${r}`}var Qe,dr=ve(()=>{Qe={fit:"cover",quality:82,format:"auto"}});function fr(){return`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`}function Le(e,t,n={}){let o={level:e,message:t,...n},r=JSON.stringify(o);typeof console[e]=="function"?console[e](r):console.log(r)}var pr=ve(()=>{});function on(){if(typeof window<"u"){let e=window[vr];if(e&&Array.isArray(e.products))return e}return at&&Array.isArray(at.products)?at:null}function br(e,t={},{force:n=!1}={}){if(!Array.isArray(e))return null;let o={products:e,version:t.version||null,source:t.source||null,updatedAt:t.updatedAt||Date.now(),isPartial:!!t.isPartial,total:typeof t.total=="number"?t.total:null},r=on();if(r&&!n){let i=r.version||null,l=o.version||null;if(!l&&i||!l&&!i||l&&i===l)return r}return at=o,typeof window<"u"&&(window[vr]={...o}),o}function tn(e,t={}){return br(e,t,{force:!1})}function jo(e,t={}){return br(e,t,{force:!0})}function Er(){if(!("serviceWorker"in navigator)){console.warn("Service workers are not supported in this browser");return}if(hr)return;hr=!0;let e=async()=>{if(document.readyState==="complete"){window.removeEventListener("load",e);try{await Vo()}catch(t){console.error("Service Worker initialization failed:",t),Ho("Failed to initialize service worker. Some features may not work offline.")}}};window.addEventListener("load",e),e()}async function Vo(){try{let e=await navigator.serviceWorker.register(nn.path,{scope:nn.scope});console.log("ServiceWorker registered successfully:",e.scope),Wo(e),zo(e),Fo(),Ko()}catch(e){throw console.error("ServiceWorker registration failed:",e),e}}function Wo(e){e.addEventListener("updatefound",()=>{let t=e.installing;t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&t.postMessage({type:"SKIP_WAITING"})})})}function zo(e){mr(e),setInterval(()=>{mr(e)},nn.updateCheckInterval)}async function mr(e){try{await e.update();let t=await fetch("/data/product_data.json",{cache:"no-store",headers:{Accept:"application/json"}});if(t.ok){let o=(await t.json()).version,r=localStorage.getItem("productDataVersion");o!==r&&(e.active?.postMessage({type:"INVALIDATE_PRODUCT_CACHE"}),localStorage.setItem("productDataVersion",o),Uo(null,"New product data available"))}}catch(t){console.warn("Update check failed:",t)}}function Fo(){let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(e=!0,window.location.reload())})}function Ko(){let e=document.getElementById("offline-indicator");if(!e)return;let t=()=>{let n=navigator.onLine;e.classList.toggle("is-hidden",n),e.style.display=n?"none":"block",n||Yo("You are currently offline. Some features may be limited.")};window.addEventListener("online",t),window.addEventListener("offline",t),navigator.onLine||t()}function Uo(e,t="Una versi\xF3n est\xE1 disponible"){let n=an(t,"Actualizar ahora","Despu\xE9s",()=>{e?e.postMessage({type:"SKIP_WAITING"}):window.location.reload()});sn(n)}function Ho(e){let t=an(e,"Reload","Dismiss",()=>window.location.reload());sn(t)}function Yo(e){let t=an(e,"Retry","Dismiss",()=>window.location.reload());sn(t)}function an(e,t,n,o){let r=document.createElement("div");return r.className="notification-toast",r.setAttribute("role","alert"),r.setAttribute("aria-live","polite"),r.innerHTML=`
        <div class="notification-content">
            <p>${e}</p>
            <div class="notification-actions">
                <button class="primary-action">${t}</button>
                <button class="secondary-action">${n}</button>
            </div>
        </div>
    `,r.querySelector(".primary-action").addEventListener("click",()=>{try{o()}catch(i){console.error("Primary action failed:",i)}r.remove()}),r.querySelector(".secondary-action").addEventListener("click",()=>{r.remove()}),r}function sn(e){let t=document.querySelector(".notification-toast");t&&t.remove(),document.body.appendChild(e),setTimeout(()=>{document.body.contains(e)&&e.remove()},300*1e3)}function ti(){let e=on();if(e)return e;let t=wr();if(!t||!Array.isArray(t.initialProducts))return null;let n=rn(t.initialProducts);return tn(n,{version:t.version||null,source:"inline",isPartial:!0,total:typeof t.totalProducts=="number"?t.totalProducts:n.length})}var vr,at,nn,hr,Qo,Go,ke,Jo,en,Xo,Zo,gr,wr,ei,rn,Ge,ni,ri,B,me,yr,_r,Ar=ve(()=>{dr();pr();Zt();vr="__PRODUCT_DATA__",at=null;nn={path:"/service-worker.js",scope:"/",updateCheckInterval:300*1e3},hr=!1;typeof navigator<"u"&&"serviceWorker"in navigator&&Er();Qo=(e,t=100)=>{let n=new Map;return(...o)=>{let r=JSON.stringify(o);if(n.has(r))return n.get(r);let i=e(...o);if(n.size>=t){let l=n.keys().next().value;n.delete(l)}return n.set(r,i),i}},Go=(e,t)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>e(...o),t)}},ke=e=>{if(!e)return"";try{return String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}catch{return String(e).toLowerCase()}},Jo=e=>{let t=`${e.name}-${e.category}`.toLowerCase(),n=0;for(let o=0;o<t.length;o++){let r=t.charCodeAt(o);n=(n<<5)-n+r,n=n&n}return`pid-${Math.abs(n)}`},en=e=>{let t=document.createElement("div");return t.textContent=e,t.innerHTML},Xo="product-data",Zo=()=>{try{return typeof localStorage>"u"?null:localStorage.getItem("productDataVersion")}catch(e){return console.warn("Unable to read stored product data version:",e),null}},gr=e=>{if(e)try{if(typeof localStorage>"u")return;localStorage.setItem("productDataVersion",e)}catch(t){console.warn("Unable to persist product data version:",t)}},wr=()=>{if(typeof document>"u")return null;try{let e=document.getElementById(Xo);if(!e||!e.textContent)return null;let t=e.textContent.trim();if(!t)return null;let n=JSON.parse(t);return n?Array.isArray(n.initialProducts)?n:Array.isArray(n.products)?{...n,initialProducts:n.products}:null:null}catch(e){return Le("warn","inline_product_parse_failure",{error:e.message}),null}},ei=(e,t)=>{let n=e.id||Jo(e),o=typeof e.originalIndex=="number"?e.originalIndex:typeof e.order=="number"?e.order:t;return{...e,id:n,name:en(e.name),description:en(e.description),category:en(e.category),categoryKey:e.categoryKey||ke(e.category),originalIndex:o}},rn=(e=[])=>e.map((t,n)=>ei(t,n));ti();Ge=class extends Error{constructor(t,{cause:n,correlationId:o}){super(t),this.name="ProductDataError",this.correlationId=o,n&&(this.cause=n)}},ni=async(e,t,n,o,r)=>{let i=new URL(e,window.location.origin);if(i.origin!==window.location.origin||i.protocol!=="https:")throw new Error("Invalid request URL: only same-origin HTTPS requests are allowed");let l=i.toString(),s=0,d;for(;s<=n;)try{let m=Date.now(),c=await fetch(l,t),b=Date.now()-m;if(Le("info","fetch_products_attempt",{correlationId:r,attempt:s+1,durationMs:b}),!c.ok)throw new Error(`HTTP error. Status: ${c.status}`);return c}catch(m){if(d=m,s++,s>n)break;Le("warn","fetch_products_retry",{correlationId:r,attempt:s,error:m.message,runbook:"RUNBOOK.md#product-data"}),await new Promise(c=>setTimeout(c,o*s))}throw new Ge(`Failed to fetch products: ${d.message}`,{cause:d,correlationId:r})},ri=async()=>{let e=fr(),t=wr(),n=t?.initialProducts||null,o=t?.version||null,r=typeof t?.totalProducts=="number"?t.totalProducts:null,i=Array.isArray(n)?rn(n):null,l=Array.isArray(i),s=Zo();l&&(o&&gr(o),tn(i,{version:o||null,source:"inline",isPartial:!0,total:r??i.length}),Le("info","fetch_products_inline_bootstrap",{correlationId:e,count:i.length}));let d=s||o||null,m=d?`/data/product_data.json?v=${encodeURIComponent(d)}`:"/data/product_data.json";try{let b=await(await ni(m,{cache:"no-store",headers:{Accept:"application/json"}},2,300,e)).json(),N=rn(b.products||[]);return jo(N,{version:b.version||null,source:"network",isPartial:!1,total:N.length}),b.version&&gr(b.version),Le("info","fetch_products_success",{correlationId:e,count:N.length,source:"network"}),N}catch(c){if(l)return tn(i,{version:o||null,source:"inline-fallback",isPartial:!0,total:r??i.length}),Le("warn","fetch_products_network_fallback_inline",{correlationId:e,error:c.message,runbook:"RUNBOOK.md#product-data"}),i;throw Le("error","fetch_products_failure",{correlationId:e,error:c.message,runbook:"RUNBOOK.md#product-data"}),me(`Error al cargar los productos. Por favor, verifique su conexi\xF3n a internet e int\xE9ntelo de nuevo. (Error: ${c.message})`),c instanceof Ge?c:new Ge(c.message,{cause:c,correlationId:e})}},B=(e,t={},n=[])=>{let o=document.createElement(e);return Object.entries(t).forEach(([r,i])=>{r==="text"?o.textContent=i:o.setAttribute(r,i)}),n.forEach(r=>{typeof r=="string"?o.appendChild(document.createTextNode(r)):o.appendChild(r)}),o},me=e=>{let t=B("div",{class:"error-message",role:"alert"},[B("p",{},[e]),B("button",{class:"retry-button"},["Intentar nuevamente"])]),n=document.getElementById("product-container");n?(n.innerHTML="",n.appendChild(t),t.querySelector(".retry-button").addEventListener("click",_r)):console.error("Contenedor de productos no encontrado")},yr=[];try{yr=JSON.parse(globalThis.localStorage?.getItem("cart"))||[]}catch{yr=[]}typeof window<"u"&&(window.__APP_READY__=!1,window.addEventListener("error",e=>{let t=e.target||e.srcElement,n=!!(t&&(t.tagName==="IMG"||t.tagName==="SCRIPT"||t.tagName==="LINK")),o=!!e.error;if(n||!o){console.warn("Ignored non-fatal error:",{tag:t&&t.tagName,src:t&&(t.src||t.href||t.currentSrc)});return}if(!window.__APP_READY__){console.error("Runtime error before app ready:",e.error);return}console.error("Unhandled JS error:",e.error),me("Ocurri\xF3 un error inesperado. Por favor, recarga la p\xE1gina.")}),window.addEventListener("securitypolicyviolation",e=>{console.warn("CSP violation (logged only):",{blockedURI:e.blockedURI,violatedDirective:e.violatedDirective,sourceFile:e.sourceFile})}));_r=async()=>{console.log("Initializing app...");let e=document.getElementById("product-container"),t=document.getElementById("sort-options"),n=document.getElementById("filter-keyword"),o=()=>{let a=document.getElementById("filter-discount");if(a)return a;let f=document.querySelector('section[aria-label*="filtrado"], section[aria-label*="Opciones de filtrado"]'),g=f?f.querySelector(".row"):null;if(!g)return null;let E=B("div",{class:"col-12 mt-2"}),p=B("div",{class:"form-check form-switch"}),D=B("input",{class:"form-check-input",type:"checkbox",id:"filter-discount","aria-label":"Mostrar solo productos con descuento"}),$=B("label",{class:"form-check-label",for:"filter-discount"},["Solo productos con descuento"]);return p.appendChild(D),p.appendChild($),E.appendChild(p),g.appendChild(E),D},r=12,i=12,l=[],s=[],d=0,m=r,c=null,b=null,N=null,S=!1,P=JSON.parse(localStorage.getItem("cart"))||[],C=()=>{let a=document.getElementById("offline-indicator");if(a){let f=navigator.onLine;a.classList.toggle("is-hidden",f),a.style.display=f?"none":"block"}navigator.onLine||console.log("App is offline. Using cached data if available.")};function x(){let a=document.getElementById("current-year");a&&(a.textContent=new Date().getFullYear())}let M=(a,f,g="CLP")=>{let E=new Intl.NumberFormat("es-CL",{style:"currency",currency:g,minimumFractionDigits:0}),p=E.format(a);if(f){let D=a-f,$=E.format(D);return B("div",{class:"precio-container"},[B("span",{class:"precio-descuento","aria-label":"Precio con descuento"},[$]),B("span",{class:"precio-original","aria-label":"Precio original"},[B("span",{class:"tachado"},[p])])])}return B("div",{class:"precio-container"},[B("span",{class:"precio","aria-label":"Precio"},[p])])},j=a=>{let f=B("div",{class:"quantity-control",style:"display:none;"}),g=B("button",{class:"quantity-btn","data-action":"decrease","aria-label":"Decrease quantity"},["-"]),E=B("button",{class:"quantity-btn","data-action":"increase","aria-label":"Increase quantity"},["+"]),p=B("input",{type:"number",class:"quantity-input",value:Math.max(h(a.id),1),min:"1",max:"50","aria-label":"Quantity","data-id":a.id});return f.appendChild(g),f.appendChild(p),f.appendChild(E),f};function V(a,f){if(!a)return;let g=a.querySelector(".add-to-cart-btn"),E=a.querySelector(".quantity-control"),p=E?.querySelector(".quantity-input"),D=E?.querySelector('.quantity-btn[data-action="decrease"]')||E?.querySelector(".quantity-btn"),$=E?.querySelector('.quantity-btn[data-action="increase"]')||E?.querySelectorAll(".quantity-btn")?.[1],z=(U,F,q)=>{U&&U.dataset.listenerAttached!=="true"&&(U.addEventListener(F,q),U.dataset.listenerAttached="true")};z(g,"click",()=>{fe(f,1),X(g,E,!0)}),z(D,"click",()=>oe(f,-1)),z($,"click",()=>oe(f,1)),z(p,"change",U=>{let F=parseInt(U.target.value,10);if(!Number.isFinite(F)){U.target.value=Math.max(h(f.id),1);return}let q=h(f.id);oe(f,F-q)});let K=h(f.id);p&&(p.value=K>0?K:1),X(g,E,K>0)}let h=a=>{let f=P.find(g=>g.id===a);return f?f.quantity:0},y=(a,{reset:f=!1}={})=>{if(!e)return 0;f&&(e.innerHTML="");let g=document.createDocumentFragment();return a.forEach(E=>{let{id:p,name:D,description:$,image_path:z,price:K,discount:U,stock:F}=E,q=B("div",{class:`producto col-12 col-sm-6 col-md-4 col-lg-3 mb-4 ${F?"":"agotado"}`,"aria-label":`Product: ${D}`,"data-product-id":p});q.style.setProperty("content-visibility","auto"),q.style.setProperty("contain-intrinsic-size","400px 560px");let Y=B("div",{class:"card"});if(U&&Number(U)>0){let ye=Math.round(Number(U)/Number(K)*100),pe=B("span",{class:"discount-badge badge bg-danger","aria-label":"Producto en oferta"},[`-${isFinite(ye)?ye:0}%`]);Y.appendChild(pe)}let we=`/${z.replace(/^\//,"")}`,Te=B("img",{src:Ye(we,{...Qe,width:400}),srcset:[`${Ye(we,{...Qe,width:200})} 200w`,`${Ye(we,{...Qe,width:400})} 400w`,`${Ye(we,{...Qe,width:800})} 800w`].join(", "),sizes:"200px",alt:D,class:"card-img-top product-thumb",loading:"lazy",decoding:"async",width:"400",height:"400"});Y.appendChild(Te);let Z=B("div",{class:"card-body"});Z.appendChild(B("h3",{class:"card-title"},[D])),Z.appendChild(B("p",{class:"card-text"},[$])),Z.appendChild(M(K,U));let Oe=B("div",{class:"action-area","data-pid":p}),Ve=B("button",{class:"btn btn-primary add-to-cart-btn mt-2","data-id":p,"aria-label":`Add ${D} to cart`},["Agregar al carrito"]),st=j(E);Oe.appendChild(Ve),Oe.appendChild(st),Z.appendChild(Oe),V(Oe,E),Y.appendChild(Z),q.appendChild(Y),g.appendChild(q)}),e.appendChild(g),k(),a.length},A=a=>{if(!e)return 0;let f=e.querySelectorAll("[data-product-id]");if(!f.length)return 0;let g=new Map(a.map(p=>[p.id,p])),E=0;return f.forEach(p=>{let D=p.getAttribute("data-product-id");if(!D||!g.has(D))return;let $=g.get(D);p.style.setProperty("content-visibility","auto"),p.style.setProperty("contain-intrinsic-size","400px 560px");let z=p.querySelector(".action-area");V(z,$),E+=1}),E},T=()=>{e&&(e.innerHTML=""),d=0},u=()=>{let a=t?.value||"original",f=n?.value?.trim?.()||"",g=document.getElementById("filter-discount")?.checked||!1;s=Ae(l,f,a,g)},w=a=>{if(!Array.isArray(s)||s.length===0)return O(),!1;let f=d;if(f>=s.length)return O(),!1;let g=s.slice(f,f+a);return g.length?(y(g),d+=g.length,O(),!0):(O(),!1)},v=()=>w(m||r),_=()=>w(i),O=()=>{let a=d<s.length;c&&(c.classList.toggle("d-none",!a),c.disabled=!a),N&&b&&(N.disconnect(),a&&N.observe(b))},L=()=>{c=document.getElementById("catalog-load-more"),b=document.getElementById("catalog-sentinel"),c&&c.addEventListener("click",()=>{_()}),b&&(N=new IntersectionObserver(a=>{a.forEach(f=>{f.isIntersecting&&_()})},{rootMargin:"200px"})),O()},k=()=>{let a=new IntersectionObserver((f,g)=>{f.forEach(E=>{if(E.isIntersecting){let p=E.target;p.src=p.dataset.src,p.dataset.srcset&&(p.srcset=p.dataset.srcset),p.dataset.sizes&&(p.sizes=p.dataset.sizes),p.classList.remove("lazyload"),g.unobserve(p)}})},{rootMargin:"100px"});document.querySelectorAll("img.lazyload").forEach(f=>a.observe(f))};function W(a,f){if(!a||!f||a.length<3)return!1;let g=D=>D.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),E=g(a),p=g(f);return p.includes(E)?!0:E.length>=4?I(E,p):!1}function I(a,f){return f.split(/\s+/).some(E=>{if(Math.abs(E.length-a.length)>1)return!1;let p=0,D=Math.max(E.length,a.length);if(Math.min(E.length,a.length)<4)return!1;if(E.length===a.length){for(let z=0;z<E.length;z++)if(E[z]!==a[z]&&p++,p>1)return!1;return p===1}else return R(a,E)})}function R(a,f){let g=a.length>f.length?a:f,E=a.length>f.length?f:a;if(g.length-E.length!==1)return!1;let p=0,D=0,$=0;for(;D<E.length&&$<g.length;)if(E[D]===g[$])D++,$++;else{if(p++,p>1)return!1;$++}return!0}let ne=(a,f,g,E=!1)=>{let p=f.trim();return a.filter(D=>!D.stock||E&&!(D.discount&&Number(D.discount)>0)?!1:!p||D.name.toLowerCase().includes(p.toLowerCase())||D.description.toLowerCase().includes(p.toLowerCase())?!0:p.length>=4?W(p,D.name):!1).sort((D,$)=>Q(D,$,g))},Q=(a,f,g)=>{if(!g||g==="original")return a.originalIndex-f.originalIndex;let[E,p]=g.split("-"),D=E==="price"?a.price-(a.discount||0):a.name.toLowerCase(),$=E==="price"?f.price-(f.discount||0):f.name.toLowerCase();return p==="asc"?D<$?-1:D>$?1:0:$<D?-1:$>D?1:0},Ae=Qo(ne),Ce=()=>{try{if(u(),T(),!s.length){O();return}v()}catch(a){console.error("Error al actualizar visualizaci\xF3n de productos:",a),me("Error al actualizar la visualizaci\xF3n de productos. Por favor, intenta m\xE1s tarde.")}},de=Go(Ce,300),se=()=>{let a=document.getElementById("cart-count"),f=P.reduce((g,E)=>g+E.quantity,0);a.textContent=f,a.setAttribute("aria-label",`${f} items in cart`)},fe=(a,f)=>{try{let g=P.find(p=>p.id===a.id);g?g.quantity=Math.min(g.quantity+f,50):P.push({id:a.id,name:a.name,description:a.description,price:a.price,discount:a.discount,image_path:a.image_path,quantity:Math.min(f,50),category:a.category,stock:a.stock}),ge(),se(),H();let E=document.querySelector(`[data-id="${a.id}"].quantity-input`);E&&(E.value=Math.max(h(a.id),1))}catch(g){console.error("Error al agregar al carrito:",g),me("Error al agregar el art\xEDculo al carrito. Por favor, intenta nuevamente.")}},re=a=>{try{P=P.filter(g=>g.id!==a),ge(),se(),H();let f=document.querySelector(`.action-area[data-pid="${a}"]`);if(f){let g=f.querySelector(".add-to-cart-btn"),E=f.querySelector(".quantity-control");X(g,E,!1)}}catch(f){console.error("Error al eliminar del carrito:",f),me("Error al eliminar el art\xEDculo del carrito. Por favor, intenta nuevamente.")}},oe=(a,f)=>{try{let g=P.find(z=>z.id===a.id),E=g?g.quantity+f:1,p=document.querySelector(`.action-area[data-pid="${a.id}"]`),D=p?.querySelector(".add-to-cart-btn"),$=p?.querySelector(".quantity-control");if(E<=0)re(a.id),X(D,$,!1);else if(E<=50){g?g.quantity=E:(fe(a,1),X(D,$,!0)),ge(),se(),H();let z=document.querySelector(`[data-id="${a.id}"].quantity-input`);z&&(z.value=E,z.classList.add("quantity-changed"),setTimeout(()=>z.classList.remove("quantity-changed"),300))}}catch(g){console.error("Error al actualizar cantidad:",g),me("Error al actualizar la cantidad. Por favor, intenta nuevamente.")}},Se=()=>{try{P=[],ge(),se(),H(),Ce()}catch(a){console.error("Error al vaciar el carrito:",a),me("Error al vaciar el carrito. Por favor, int\xE9ntelo de nuevo.")}},X=(a,f,g)=>{!a||!f||(g?(a.style.display="none",f.style.display="flex"):(f.style.display="none",a.style.display="flex"))},ge=()=>{try{localStorage.setItem("cart",JSON.stringify(P))}catch(a){console.error("Error al guardar el carrito:",a),me("Error al guardar el carrito. Tus cambios podr\xEDan no persistir.")}},H=()=>{let a=document.getElementById("cart-items"),f=document.getElementById("cart-total");a.innerHTML="";let g=0;P.forEach(p=>{let D=p.price-(p.discount||0),$=B("div",{class:"cart-item mb-3 d-flex align-items-start","aria-label":`Cart item: ${p.name}`}),z=B("div",{class:"cart-item-content flex-grow-1"});z.appendChild(B("div",{class:"fw-bold mb-1"},[p.name]));let K=B("div",{class:"mb-2"}),U=B("button",{class:"btn btn-sm btn-secondary decrease-quantity","data-id":p.id,"aria-label":`Disminuir cantidad de ${p.name}`},["-"]),F=B("button",{class:"btn btn-sm btn-secondary increase-quantity","data-id":p.id,"aria-label":`Aumentar cantidad de ${p.name}`},["+"]),q=B("span",{class:"mx-2 item-quantity","aria-label":`Cantidad de ${p.name}`},[p.quantity.toString()]);K.appendChild(U),K.appendChild(q),K.appendChild(F),z.appendChild(K),z.appendChild(B("div",{class:"text-muted small"},[`Precio: $${D.toLocaleString("es-CL")}`])),z.appendChild(B("div",{class:"fw-bold"},[`Subtotal: $${(D*p.quantity).toLocaleString("es-CL")}`]));let Y=B("button",{class:"btn btn-sm btn-danger remove-item mt-2","data-id":p.id,"aria-label":`Eliminar ${p.name} del carrito`},["Eliminar"]);z.appendChild(Y);let we=window.location.pathname.includes("/pages/"),Te;we?Te=`../${p.image_path.replace(/^\//,"")}`:Te=p.image_path;let Z=B("div",{class:"cart-item-thumb ms-3 flex-shrink-0"}),Ve={src:p.thumbnail_path||Te,alt:p.name,class:"cart-item-thumb-img",loading:"lazy",decoding:"async",width:"100",height:"100"};if(Array.isArray(p.thumbnail_variants)){let ye=p.thumbnail_variants.filter(pe=>pe&&pe.url&&pe.width).map(pe=>`${pe.url} ${pe.width}w`);ye.length&&(Ve.srcset=ye.join(", "),Ve.sizes="100px")}let st=B("img",Ve);if(Z.appendChild(st),$.appendChild(z),$.appendChild(Z),a.appendChild($),window.__DEBUG_CART__)try{let ye=window.getComputedStyle($),pe=window.getComputedStyle(Z),ii=window.getComputedStyle(z),cn=Z.getBoundingClientRect(),ln=z.getBoundingClientRect();console.debug("[cart] item",{name:p.name,order:{firstIsContent:$.firstChild===z,lastIsThumb:$.lastChild===Z},container:{display:ye.display,flexDirection:ye.flexDirection,flexWrap:ye.flexWrap},thumb:{width:pe.width,height:pe.height,rect:{w:cn.width,h:cn.height}},content:{rect:{w:ln.width,h:ln.height}}})}catch{}g+=D*p.quantity}),f.textContent=`Total: $${g.toLocaleString("es-CL")}`,f.setAttribute("aria-label",`Total: $${g.toLocaleString("es-CL")}`);let E=document.getElementById("payment-credit-container");if(E)if(g>=3e4)E.classList.remove("d-none");else{E.classList.add("d-none");let p=E.querySelector("input");p&&(p.checked=!1)}},ie=()=>{let a=document.querySelector('input[name="paymentMethod"]:checked');if(!a){alert("Por favor seleccione un m\xE9todo de pago");return}let f=`Mi pedido:

`;P.forEach(p=>{let D=p.price-(p.discount||0);f+=`${p.name}
`,f+=`Cantidad: ${p.quantity}
`,f+=`Precio unitario: $${D.toLocaleString("es-CL")}
`,f+=`Subtotal: $${(D*p.quantity).toLocaleString("es-CL")}

`});let g=P.reduce((p,D)=>p+(D.price-(D.discount||0))*D.quantity,0);f+=`Total: $${g.toLocaleString("es-CL")}
`,f+=`M\xE9todo de pago: ${a.value}`;let E=encodeURIComponent(f);window.open(`https://wa.me/56951118901?text=${E}`,"_blank")};try{x();let a=on();a?.products?.length&&(l=a.products.map((F,q)=>({...F,originalIndex:typeof F.originalIndex=="number"?F.originalIndex:q,categoryKey:F.categoryKey||ke(F.category)})));let g=document.querySelector("main")?.dataset?.category||"";if(g){let F=ke(g);l=l.filter(q=>(q.categoryKey||ke(q.category))===F).map((q,Y)=>({...q,originalIndex:typeof q.originalIndex=="number"?q.originalIndex:Y}))}let E=A(l);E>0?(d=E,m=E):d=0,L(),u(),O(),d===0&&s.length&&v();let p=ri();t.addEventListener("change",()=>{S=!0,de()}),n.addEventListener("input",()=>{S=!0,de()});let D=o();D&&D.addEventListener("change",()=>{S=!0,de()});let $=await p;if(!Array.isArray($)||$.length===0){if(!l.length){me("No hay productos disponibles. Por favor, intenta m\xE1s tarde.");return}}else if(l=$.map((F,q)=>({...F,originalIndex:typeof F.originalIndex=="number"?F.originalIndex:q,categoryKey:F.categoryKey||ke(F.category)})),g){let F=ke(g);l=l.filter(q=>(q.categoryKey||ke(q.category))===F).map((q,Y)=>({...q,originalIndex:typeof q.originalIndex=="number"?q.originalIndex:Y}))}u(),S||d===0?(T(),s.length?v():O()):O(),typeof window<"u"&&(window.__APP_READY__=!0),window.addEventListener("online",C),window.addEventListener("offline",C),C();let z=document.getElementById("cart-icon"),K=document.getElementById("empty-cart"),U=document.getElementById("submit-cart");z.addEventListener("click",async()=>{H();try{await ur("#cartOffcanvas")}catch(F){console.error("Bootstrap Offcanvas no est\xE1 disponible",F);let q=document.getElementById("cartOffcanvas");q&&q.classList.add("show")}}),K.addEventListener("click",Se),U.addEventListener("click",ie),document.getElementById("cart-items").addEventListener("click",F=>{let q=F.target,Y=q.closest("[data-id]")?.dataset.id;Y&&(q.classList.contains("decrease-quantity")?oe({id:Y},-1):q.classList.contains("increase-quantity")?oe({id:Y},1):q.classList.contains("remove-item")&&re(Y))}),se(),"performance"in window&&window.addEventListener("load",()=>{let F=performance.getEntriesByType("paint"),q=performance.getEntriesByType("navigation")[0];console.log("First Contentful Paint:",F[0].startTime),console.log("DOM Content Loaded:",q.domContentLoadedEventEnd),console.log("Load Time:",q.loadEventEnd)})}catch(a){console.error("Error al inicializar productos:",a),me("Error al cargar productos. Por favor, int\xE9ntelo m\xE1s tarde.")}};typeof document<"u"&&document.addEventListener("DOMContentLoaded",function(){Er(),_r().catch(e=>{console.error("Error al inicializar la aplicaci\xF3n:",e),me("Error al inicializar la aplicaci\xF3n. Por favor, actualice la p\xE1gina.")})})});var oi=G(()=>{fn();hn();gn();wn();An();Sn();Zt();Ar();function Cr(){let e=document.documentElement;try{document.querySelectorAll('link[rel="stylesheet"][media="print"][data-defer]').forEach(t=>{t.media="all",t.removeAttribute("data-defer")})}catch{}e.dataset.enhancementsInit!=="1"&&(e.dataset.enhancementsInit="1",dn(),Cn(),pn(),mn(),En(),bn(),_n(),lr())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Cr):Cr()});oi();})();
/*! Bundled license information:

bootstrap/js/dist/dom/data.js:
  (*!
    * Bootstrap data.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/index.js:
  (*!
    * Bootstrap index.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/event-handler.js:
  (*!
    * Bootstrap event-handler.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/manipulator.js:
  (*!
    * Bootstrap manipulator.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/config.js:
  (*!
    * Bootstrap config.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/base-component.js:
  (*!
    * Bootstrap base-component.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/selector-engine.js:
  (*!
    * Bootstrap selector-engine.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/collapse.js:
  (*!
    * Bootstrap collapse.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dropdown.js:
  (*!
    * Bootstrap dropdown.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/backdrop.js:
  (*!
    * Bootstrap backdrop.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/component-functions.js:
  (*!
    * Bootstrap component-functions.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/focustrap.js:
  (*!
    * Bootstrap focustrap.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/scrollbar.js:
  (*!
    * Bootstrap scrollbar.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/offcanvas.js:
  (*!
    * Bootstrap offcanvas.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)
*/
