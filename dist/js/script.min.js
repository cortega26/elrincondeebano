(()=>{var Vr=Object.create;var wn=Object.defineProperty;var Fr=Object.getOwnPropertyDescriptor;var zr=Object.getOwnPropertyNames;var Kr=Object.getPrototypeOf,Ur=Object.prototype.hasOwnProperty;var he=(e,t)=>()=>(e&&(t=e(e=0)),t);var ee=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Wr=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of zr(t))!Ur.call(e,r)&&r!==n&&wn(e,r,{get:()=>t[r],enumerable:!(o=Fr(t,r))||o.enumerable});return e};var mt=(e,t,n)=>(n=e!=null?Vr(Kr(e)):{},Wr(t||!e||!e.__esModule?wn(n,"default",{value:e,enumerable:!0}):n,e));function An(){try{let e=document.createElement("style");window&&window.__CSP_NONCE__&&e.setAttribute("nonce",window.__CSP_NONCE__),e.textContent=`
      /* Miniatura del carrito (mantener consistente con base/enhanced CSS) */
      .cart-item-thumb { width: 100px; height: 100px; flex-shrink: 0; }
      .cart-item-thumb img, .cart-item-thumb-img { width: 100%; height: 100%; object-fit: cover; border-radius: 0.25rem; }

      /* Contornos de enfoque claros para accesibilidad */
      .navbar .nav-link:focus,
      .navbar .dropdown-item:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
      }

      /* Espaciado entre botones en el offcanvas del carrito */
      #cartOffcanvas .offcanvas-body > .btn + .btn { margin-top: 0.5rem !important; }
    `,document.head.appendChild(e)}catch(e){console.warn("[modules/enhancements] injectEnhancementStyles error:",e)}}var Cn=he(()=>{});function Sn(){try{document.addEventListener("keydown",t=>{t.key==="Tab"&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")});let e=document.createElement("style");window&&window.__CSP_NONCE__&&e.setAttribute("nonce",window.__CSP_NONCE__),e.textContent=".keyboard-navigation *:focus { outline: 2px solid var(--primary-color); outline-offset: 2px; }",document.head.appendChild(e)}catch(e){console.warn("[modules/a11y] setupNavigationAccessibility error:",e)}}var Tn=he(()=>{});function On(){try{"loading"in HTMLImageElement.prototype&&document.querySelectorAll("img:not([loading])").forEach(e=>{e.loading="lazy"})}catch(e){console.warn("[modules/perf] setupPerformanceOptimizations error:",e)}}var Ln=he(()=>{});function Hr(){try{if(typeof window>"u")return null;let e=window[Fe];if(e&&Array.isArray(e.products))return e.products}catch(e){console.warn("[modules/seo] Unable to read shared product data:",e)}return null}function Yr(e,t={}){if(typeof window>"u"||!Array.isArray(e))return;let n=window[Fe]||{};window[Fe]={...n,products:e,version:t.version??n.version??null,updatedAt:t.updatedAt||Date.now(),source:t.source||n.source||"seo"}}function Dn(e=[]){let t={};return e.forEach(n=>{let o=n.id||String(n.name)+"-"+String(n.category);t[o]=n}),t}function Pn(){if(typeof window>"u")return;let e=window[Fe]||{};e.structuredDataInjected||(window[Fe]={...e,structuredDataInjected:!0})}async function Gr(){try{let e=Hr();if(e)return Dn(e);let t=localStorage.getItem("productDataVersion"),n=t?`/data/product_data.json?v=${encodeURIComponent(t)}`:"/data/product_data.json",o=await fetch(n,{cache:"no-store",headers:{Accept:"application/json"}});if(!o.ok)return null;let r=await o.json(),i=Array.isArray(r?.products)?r.products:Array.isArray(r)?r:[];return Yr(i,{version:r?.version||t||null,source:"seo-fallback"}),Dn(i)}catch(e){return console.error("[modules/seo] Error loading product data:",e),null}}async function In(){try{if(document.querySelector('script[type="application/ld+json"]')){Pn();return}if((typeof window<"u"?window[Fe]:null)?.structuredDataInjected)return;let t=await Gr();if(!t)return;let o=Object.values(t).slice(0,20).map(l=>({"@type":"Product",name:l.name,image:l.image_path,description:l.description,brand:l.brand||"Gen\xE9rico",offers:{"@type":"Offer",price:l.price,priceCurrency:"CLP",availability:l.stock?"https://schema.org/InStock":"https://schema.org/OutOfStock"}})),r={"@context":"https://schema.org","@graph":[{"@type":"Store",name:"El Rinc\xF3n de \xC9bano",image:"https://elrincondeebano.com/assets/images/web/logo.webp",description:"Un minimarket en la puerta de tu departamento",address:{"@type":"PostalAddress",addressCountry:"CL"},telephone:"+56951118901",url:"http://www.elrincondeebano.com/",contactPoint:{"@type":"ContactPoint",telephone:"+56-951118901",contactType:"customer service"}},...o]},i=document.createElement("script");i.type="application/ld+json",window&&window.__CSP_NONCE__&&i.setAttribute("nonce",window.__CSP_NONCE__),i.textContent=JSON.stringify(r),document.head.appendChild(i),Pn()}catch(e){console.error("[modules/seo] Error generating structured data:",e)}}function Nn(){try{if(!document.querySelector('link[rel="canonical"]')){let e=document.createElement("link");e.rel="canonical",e.href=location.origin+location.pathname,document.head.appendChild(e)}if(!document.querySelector('meta[name="description"]')){let e=document.createElement("meta");e.name="description",e.content="El Rinc\xF3n de \xC9bano - Minimarket con delivery instant\xE1neo.",document.head.appendChild(e)}}catch(e){console.warn("[modules/seo] injectSeoMetadata error:",e)}}var Fe,xn=he(()=>{Fe="__PRODUCT_DATA__"});function kn(){try{if(!document.querySelector('link[rel="manifest"]')){let e=document.createElement("link");e.rel="manifest",e.href="/app.webmanifest",document.head.appendChild(e)}}catch(e){console.warn("[modules/pwa] injectPwaManifest error:",e)}}var Mn=he(()=>{});function $n(){try{window?.console?.debug&&console.debug("[modules/checkout] setupCheckoutProgress: no-op")}catch{}}var qn=he(()=>{});var Rn=ee((gt,yt)=>{(function(e,t){typeof gt=="object"&&typeof yt<"u"?yt.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Data=t())})(gt,function(){"use strict";let e=new Map;return{set(n,o,r){e.has(n)||e.set(n,new Map);let i=e.get(n);if(!i.has(o)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(o,r)},get(n,o){return e.has(n)&&e.get(n).get(o)||null},remove(n,o){if(!e.has(n))return;let r=e.get(n);r.delete(o),r.size===0&&e.delete(n)}}})});var me=ee((ot,Bn)=>{(function(e,t){typeof ot=="object"&&typeof Bn<"u"?t(ot):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.Index={}))})(ot,function(e){"use strict";let o="transitionend",r=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(v,E)=>`#${CSS.escape(E)}`)),u),i=u=>u==null?`${u}`:Object.prototype.toString.call(u).match(/\s([a-z]+)/i)[1].toLowerCase(),l=u=>{do u+=Math.floor(Math.random()*1e6);while(document.getElementById(u));return u},a=u=>{if(!u)return 0;let{transitionDuration:v,transitionDelay:E}=window.getComputedStyle(u),w=Number.parseFloat(v),I=Number.parseFloat(E);return!w&&!I?0:(v=v.split(",")[0],E=E.split(",")[0],(Number.parseFloat(v)+Number.parseFloat(E))*1e3)},c=u=>{u.dispatchEvent(new Event(o))},f=u=>!u||typeof u!="object"?!1:(typeof u.jquery<"u"&&(u=u[0]),typeof u.nodeType<"u"),s=u=>f(u)?u.jquery?u[0]:u:typeof u=="string"&&u.length>0?document.querySelector(r(u)):null,g=u=>{if(!f(u)||u.getClientRects().length===0)return!1;let v=getComputedStyle(u).getPropertyValue("visibility")==="visible",E=u.closest("details:not([open])");if(!E)return v;if(E!==u){let w=u.closest("summary");if(w&&w.parentNode!==E||w===null)return!1}return v},O=u=>!u||u.nodeType!==Node.ELEMENT_NODE||u.classList.contains("disabled")?!0:typeof u.disabled<"u"?u.disabled:u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false",S=u=>{if(!document.documentElement.attachShadow)return null;if(typeof u.getRootNode=="function"){let v=u.getRootNode();return v instanceof ShadowRoot?v:null}return u instanceof ShadowRoot?u:u.parentNode?S(u.parentNode):null},k=()=>{},T=u=>{u.offsetHeight},x=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,q=[],B=u=>{document.readyState==="loading"?(q.length||document.addEventListener("DOMContentLoaded",()=>{for(let v of q)v()}),q.push(u)):u()},R=()=>document.documentElement.dir==="rtl",p=u=>{B(()=>{let v=x();if(v){let E=u.NAME,w=v.fn[E];v.fn[E]=u.jQueryInterface,v.fn[E].Constructor=u,v.fn[E].noConflict=()=>(v.fn[E]=w,u.jQueryInterface)}})},y=(u,v=[],E=u)=>typeof u=="function"?u.call(...v):E,_=(u,v,E=!0)=>{if(!E){y(u);return}let I=a(v)+5,D=!1,M=({target:K})=>{K===v&&(D=!0,v.removeEventListener(o,M),y(u))};v.addEventListener(o,M),setTimeout(()=>{D||c(v)},I)},L=(u,v,E,w)=>{let I=u.length,D=u.indexOf(v);return D===-1?!E&&w?u[I-1]:u[0]:(D+=E?1:-1,w&&(D=(D+I)%I),u[Math.max(0,Math.min(D,I-1))])};e.defineJQueryPlugin=p,e.execute=y,e.executeAfterTransition=_,e.findShadowRoot=S,e.getElement=s,e.getNextActiveElement=L,e.getTransitionDurationFromElement=a,e.getUID=l,e.getjQuery=x,e.isDisabled=O,e.isElement=f,e.isRTL=R,e.isVisible=g,e.noop=k,e.onDOMContentLoaded=B,e.parseSelector=r,e.reflow=T,e.toType=i,e.triggerTransitionEnd=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})});var Ne=ee((vt,Et)=>{(function(e,t){typeof vt=="object"&&typeof Et<"u"?Et.exports=t(me()):typeof define=="function"&&define.amd?define(["../util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.EventHandler=t(e.Index))})(vt,function(e){"use strict";let t=/[^.]*(?=\..*)\.|.*/,n=/\..*/,o=/::\d+$/,r={},i=1,l={mouseenter:"mouseover",mouseleave:"mouseout"},a=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function c(p,y){return y&&`${y}::${i++}`||p.uidEvent||i++}function f(p){let y=c(p);return p.uidEvent=y,r[y]=r[y]||{},r[y]}function s(p,y){return function _(L){return R(L,{delegateTarget:p}),_.oneOff&&B.off(p,L.type,y),y.apply(p,[L])}}function g(p,y,_){return function L(u){let v=p.querySelectorAll(y);for(let{target:E}=u;E&&E!==this;E=E.parentNode)for(let w of v)if(w===E)return R(u,{delegateTarget:E}),L.oneOff&&B.off(p,u.type,y,_),_.apply(E,[u])}}function O(p,y,_=null){return Object.values(p).find(L=>L.callable===y&&L.delegationSelector===_)}function S(p,y,_){let L=typeof y=="string",u=L?_:y||_,v=q(p);return a.has(v)||(v=p),[L,u,v]}function k(p,y,_,L,u){if(typeof y!="string"||!p)return;let[v,E,w]=S(y,_,L);y in l&&(E=(ie=>function(Q){if(!Q.relatedTarget||Q.relatedTarget!==Q.delegateTarget&&!Q.delegateTarget.contains(Q.relatedTarget))return ie.call(this,Q)})(E));let I=f(p),D=I[w]||(I[w]={}),M=O(D,E,v?_:null);if(M){M.oneOff=M.oneOff&&u;return}let K=c(E,y.replace(t,"")),P=v?g(p,_,E):s(p,E);P.delegationSelector=v?_:null,P.callable=E,P.oneOff=u,P.uidEvent=K,D[K]=P,p.addEventListener(w,P,v)}function T(p,y,_,L,u){let v=O(y[_],L,u);v&&(p.removeEventListener(_,v,!!u),delete y[_][v.uidEvent])}function x(p,y,_,L){let u=y[_]||{};for(let[v,E]of Object.entries(u))v.includes(L)&&T(p,y,_,E.callable,E.delegationSelector)}function q(p){return p=p.replace(n,""),l[p]||p}let B={on(p,y,_,L){k(p,y,_,L,!1)},one(p,y,_,L){k(p,y,_,L,!0)},off(p,y,_,L){if(typeof y!="string"||!p)return;let[u,v,E]=S(y,_,L),w=E!==y,I=f(p),D=I[E]||{},M=y.startsWith(".");if(typeof v<"u"){if(!Object.keys(D).length)return;T(p,I,E,v,u?_:null);return}if(M)for(let K of Object.keys(I))x(p,I,K,y.slice(1));for(let[K,P]of Object.entries(D)){let $=K.replace(o,"");(!w||y.includes($))&&T(p,I,E,P.callable,P.delegationSelector)}},trigger(p,y,_){if(typeof y!="string"||!p)return null;let L=e.getjQuery(),u=q(y),v=y!==u,E=null,w=!0,I=!0,D=!1;v&&L&&(E=L.Event(y,_),L(p).trigger(E),w=!E.isPropagationStopped(),I=!E.isImmediatePropagationStopped(),D=E.isDefaultPrevented());let M=R(new Event(y,{bubbles:w,cancelable:!0}),_);return D&&M.preventDefault(),I&&p.dispatchEvent(M),M.defaultPrevented&&E&&E.preventDefault(),M}};function R(p,y={}){for(let[_,L]of Object.entries(y))try{p[_]=L}catch{Object.defineProperty(p,_,{configurable:!0,get(){return L}})}return p}return B})});var it=ee((bt,_t)=>{(function(e,t){typeof bt=="object"&&typeof _t<"u"?_t.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Manipulator=t())})(bt,function(){"use strict";function e(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function t(o){return o.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}return{setDataAttribute(o,r,i){o.setAttribute(`data-bs-${t(r)}`,i)},removeDataAttribute(o,r){o.removeAttribute(`data-bs-${t(r)}`)},getDataAttributes(o){if(!o)return{};let r={},i=Object.keys(o.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(let l of i){let a=l.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1),r[a]=e(o.dataset[l])}return r},getDataAttribute(o,r){return e(o.getAttribute(`data-bs-${t(r)}`))}}})});var at=ee((wt,At)=>{(function(e,t){typeof wt=="object"&&typeof At<"u"?At.exports=t(it(),me()):typeof define=="function"&&define.amd?define(["../dom/manipulator","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Config=t(e.Manipulator,e.Index))})(wt,function(e,t){"use strict";class n{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,i){let l=t.isElement(i)?e.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof l=="object"?l:{},...t.isElement(i)?e.getDataAttributes(i):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,i=this.constructor.DefaultType){for(let[l,a]of Object.entries(i)){let c=r[l],f=t.isElement(c)?"element":t.toType(c);if(!new RegExp(a).test(f))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${l}" provided type "${f}" but expected type "${a}".`)}}}return n})});var st=ee((Ct,St)=>{(function(e,t){typeof Ct=="object"&&typeof St<"u"?St.exports=t(Rn(),Ne(),at(),me()):typeof define=="function"&&define.amd?define(["./dom/data","./dom/event-handler","./util/config","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.BaseComponent=t(e.Data,e.EventHandler,e.Config,e.Index))})(Ct,function(e,t,n,o){"use strict";let r="5.3.8";class i extends n{constructor(a,c){super(),a=o.getElement(a),a&&(this._element=a,this._config=this._getConfig(c),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),t.off(this._element,this.constructor.EVENT_KEY);for(let a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,c,f=!0){o.executeAfterTransition(a,c,f)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return e.get(o.getElement(a),this.DATA_KEY)}static getOrCreateInstance(a,c={}){return this.getInstance(a)||new this(a,typeof c=="object"?c:null)}static get VERSION(){return r}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}return i})});var $e=ee((Tt,Ot)=>{(function(e,t){typeof Tt=="object"&&typeof Ot<"u"?Ot.exports=t(me()):typeof define=="function"&&define.amd?define(["../util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.SelectorEngine=t(e.Index))})(Tt,function(e){"use strict";let t=o=>{let r=o.getAttribute("data-bs-target");if(!r||r==="#"){let i=o.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),r=i&&i!=="#"?i.trim():null}return r?r.split(",").map(i=>e.parseSelector(i)).join(","):null},n={find(o,r=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(r,o))},findOne(o,r=document.documentElement){return Element.prototype.querySelector.call(r,o)},children(o,r){return[].concat(...o.children).filter(i=>i.matches(r))},parents(o,r){let i=[],l=o.parentNode.closest(r);for(;l;)i.push(l),l=l.parentNode.closest(r);return i},prev(o,r){let i=o.previousElementSibling;for(;i;){if(i.matches(r))return[i];i=i.previousElementSibling}return[]},next(o,r){let i=o.nextElementSibling;for(;i;){if(i.matches(r))return[i];i=i.nextElementSibling}return[]},focusableChildren(o){let r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(r,o).filter(i=>!e.isDisabled(i)&&e.isVisible(i))},getSelectorFromElement(o){let r=t(o);return r&&n.findOne(r)?r:null},getElementFromSelector(o){let r=t(o);return r?n.findOne(r):null},getMultipleElementsFromSelector(o){let r=t(o);return r?n.find(r):[]}};return n})});var jn=ee((Lt,Dt)=>{(function(e,t){typeof Lt=="object"&&typeof Dt<"u"?Dt.exports=t(st(),Ne(),$e(),me()):typeof define=="function"&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Collapse=t(e.BaseComponent,e.EventHandler,e.SelectorEngine,e.Index))})(Lt,function(e,t,n,o){"use strict";let r="collapse",l=".bs.collapse",a=".data-api",c=`show${l}`,f=`shown${l}`,s=`hide${l}`,g=`hidden${l}`,O=`click${l}${a}`,S="show",k="collapse",T="collapsing",x="collapsed",q=`:scope .${k} .${k}`,B="collapse-horizontal",R="width",p="height",y=".collapse.show, .collapse.collapsing",_='[data-bs-toggle="collapse"]',L={parent:null,toggle:!0},u={parent:"(null|element)",toggle:"boolean"};class v extends e{constructor(w,I){super(w,I),this._isTransitioning=!1,this._triggerArray=[];let D=n.find(_);for(let M of D){let K=n.getSelectorFromElement(M),P=n.find(K).filter($=>$===this._element);K!==null&&P.length&&this._triggerArray.push(M)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return L}static get DefaultType(){return u}static get NAME(){return r}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let w=[];if(this._config.parent&&(w=this._getFirstLevelChildren(y).filter($=>$!==this._element).map($=>v.getOrCreateInstance($,{toggle:!1}))),w.length&&w[0]._isTransitioning||t.trigger(this._element,c).defaultPrevented)return;for(let $ of w)$.hide();let D=this._getDimension();this._element.classList.remove(k),this._element.classList.add(T),this._element.style[D]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let M=()=>{this._isTransitioning=!1,this._element.classList.remove(T),this._element.classList.add(k,S),this._element.style[D]="",t.trigger(this._element,f)},P=`scroll${D[0].toUpperCase()+D.slice(1)}`;this._queueCallback(M,this._element,!0),this._element.style[D]=`${this._element[P]}px`}hide(){if(this._isTransitioning||!this._isShown()||t.trigger(this._element,s).defaultPrevented)return;let I=this._getDimension();this._element.style[I]=`${this._element.getBoundingClientRect()[I]}px`,o.reflow(this._element),this._element.classList.add(T),this._element.classList.remove(k,S);for(let M of this._triggerArray){let K=n.getElementFromSelector(M);K&&!this._isShown(K)&&this._addAriaAndCollapsedClass([M],!1)}this._isTransitioning=!0;let D=()=>{this._isTransitioning=!1,this._element.classList.remove(T),this._element.classList.add(k),t.trigger(this._element,g)};this._element.style[I]="",this._queueCallback(D,this._element,!0)}_isShown(w=this._element){return w.classList.contains(S)}_configAfterMerge(w){return w.toggle=!!w.toggle,w.parent=o.getElement(w.parent),w}_getDimension(){return this._element.classList.contains(B)?R:p}_initializeChildren(){if(!this._config.parent)return;let w=this._getFirstLevelChildren(_);for(let I of w){let D=n.getElementFromSelector(I);D&&this._addAriaAndCollapsedClass([I],this._isShown(D))}}_getFirstLevelChildren(w){let I=n.find(q,this._config.parent);return n.find(w,this._config.parent).filter(D=>!I.includes(D))}_addAriaAndCollapsedClass(w,I){if(w.length)for(let D of w)D.classList.toggle(x,!I),D.setAttribute("aria-expanded",I)}static jQueryInterface(w){let I={};return typeof w=="string"&&/show|hide/.test(w)&&(I.toggle=!1),this.each(function(){let D=v.getOrCreateInstance(this,I);if(typeof w=="string"){if(typeof D[w]>"u")throw new TypeError(`No method named "${w}"`);D[w]()}})}}return t.on(document,O,_,function(E){(E.target.tagName==="A"||E.delegateTarget&&E.delegateTarget.tagName==="A")&&E.preventDefault();for(let w of n.getMultipleElementsFromSelector(this))v.getOrCreateInstance(w,{toggle:!1}).toggle()}),o.defineJQueryPlugin(v),v})});var dr=ee(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});function se(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Re(e){var t=se(e).Element;return e instanceof t||e instanceof Element}function de(e){var t=se(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Nt(e){if(typeof ShadowRoot>"u")return!1;var t=se(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var qe=Math.max,ut=Math.min,ze=Math.round;function Pt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Qn(){return!/^((?!chrome|android).)*safari/i.test(Pt())}function Ke(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=e.getBoundingClientRect(),r=1,i=1;t&&de(e)&&(r=e.offsetWidth>0&&ze(o.width)/e.offsetWidth||1,i=e.offsetHeight>0&&ze(o.height)/e.offsetHeight||1);var l=Re(e)?se(e):window,a=l.visualViewport,c=!Qn()&&n,f=(o.left+(c&&a?a.offsetLeft:0))/r,s=(o.top+(c&&a?a.offsetTop:0))/i,g=o.width/r,O=o.height/i;return{width:g,height:O,top:s,right:f+g,bottom:s+O,left:f,x:f,y:s}}function xt(e){var t=se(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Qr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Jr(e){return e===se(e)||!de(e)?xt(e):Qr(e)}function we(e){return e?(e.nodeName||"").toLowerCase():null}function xe(e){return((Re(e)?e.ownerDocument:e.document)||window.document).documentElement}function kt(e){return Ke(xe(e)).left+xt(e).scrollLeft}function Se(e){return se(e).getComputedStyle(e)}function Mt(e){var t=Se(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function Xr(e){var t=e.getBoundingClientRect(),n=ze(t.width)/e.offsetWidth||1,o=ze(t.height)/e.offsetHeight||1;return n!==1||o!==1}function Zr(e,t,n){n===void 0&&(n=!1);var o=de(t),r=de(t)&&Xr(t),i=xe(t),l=Ke(e,r,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&((we(t)!=="body"||Mt(i))&&(a=Jr(t)),de(t)?(c=Ke(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=kt(i))),{x:l.left+a.scrollLeft-c.x,y:l.top+a.scrollTop-c.y,width:l.width,height:l.height}}function $t(e){var t=Ke(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function dt(e){return we(e)==="html"?e:e.assignedSlot||e.parentNode||(Nt(e)?e.host:null)||xe(e)}function Jn(e){return["html","body","#document"].indexOf(we(e))>=0?e.ownerDocument.body:de(e)&&Mt(e)?e:Jn(dt(e))}function Ge(e,t){var n;t===void 0&&(t=[]);var o=Jn(e),r=o===((n=e.ownerDocument)==null?void 0:n.body),i=se(o),l=r?[i].concat(i.visualViewport||[],Mt(o)?o:[]):o,a=t.concat(l);return r?a:a.concat(Ge(dt(l)))}function eo(e){return["table","td","th"].indexOf(we(e))>=0}function Vn(e){return!de(e)||Se(e).position==="fixed"?null:e.offsetParent}function to(e){var t=/firefox/i.test(Pt()),n=/Trident/i.test(Pt());if(n&&de(e)){var o=Se(e);if(o.position==="fixed")return null}var r=dt(e);for(Nt(r)&&(r=r.host);de(r)&&["html","body"].indexOf(we(r))<0;){var i=Se(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Xe(e){for(var t=se(e),n=Vn(e);n&&eo(n)&&Se(n).position==="static";)n=Vn(n);return n&&(we(n)==="html"||we(n)==="body"&&Se(n).position==="static")?t:n||to(e)||t}var re="top",fe="bottom",pe="right",oe="left",qt="auto",Ze=[re,fe,pe,oe],Ue="start",Je="end",no="clippingParents",Xn="viewport",Ye="popper",ro="reference",Fn=Ze.reduce(function(e,t){return e.concat([t+"-"+Ue,t+"-"+Je])},[]),Zn=[].concat(Ze,[qt]).reduce(function(e,t){return e.concat([t,t+"-"+Ue,t+"-"+Je])},[]),oo="beforeRead",io="read",ao="afterRead",so="beforeMain",co="main",lo="afterMain",uo="beforeWrite",fo="write",po="afterWrite",ho=[oo,io,ao,so,co,lo,uo,fo,po];function mo(e){var t=new Map,n=new Set,o=[];e.forEach(function(i){t.set(i.name,i)});function r(i){n.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&r(c)}}),o.push(i)}return e.forEach(function(i){n.has(i.name)||r(i)}),o}function go(e){var t=mo(e);return ho.reduce(function(n,o){return n.concat(t.filter(function(r){return r.phase===o}))},[])}function yo(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function vo(e){var t=e.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}function Eo(e,t){var n=se(e),o=xe(e),r=n.visualViewport,i=o.clientWidth,l=o.clientHeight,a=0,c=0;if(r){i=r.width,l=r.height;var f=Qn();(f||!f&&t==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}return{width:i,height:l,x:a+kt(e),y:c}}function bo(e){var t,n=xe(e),o=xt(e),r=(t=e.ownerDocument)==null?void 0:t.body,i=qe(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=qe(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-o.scrollLeft+kt(e),c=-o.scrollTop;return Se(r||n).direction==="rtl"&&(a+=qe(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:l,x:a,y:c}}function er(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Nt(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function It(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _o(e,t){var n=Ke(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function zn(e,t,n){return t===Xn?It(Eo(e,n)):Re(t)?_o(t,n):It(bo(xe(e)))}function wo(e){var t=Ge(dt(e)),n=["absolute","fixed"].indexOf(Se(e).position)>=0,o=n&&de(e)?Xe(e):e;return Re(o)?t.filter(function(r){return Re(r)&&er(r,o)&&we(r)!=="body"}):[]}function Ao(e,t,n,o){var r=t==="clippingParents"?wo(e):[].concat(t),i=[].concat(r,[n]),l=i[0],a=i.reduce(function(c,f){var s=zn(e,f,o);return c.top=qe(s.top,c.top),c.right=ut(s.right,c.right),c.bottom=ut(s.bottom,c.bottom),c.left=qe(s.left,c.left),c},zn(e,l,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function _e(e){return e.split("-")[0]}function We(e){return e.split("-")[1]}function Rt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function tr(e){var t=e.reference,n=e.element,o=e.placement,r=o?_e(o):null,i=o?We(o):null,l=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(r){case re:c={x:l,y:t.y-n.height};break;case fe:c={x:l,y:t.y+t.height};break;case pe:c={x:t.x+t.width,y:a};break;case oe:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var f=r?Rt(r):null;if(f!=null){var s=f==="y"?"height":"width";switch(i){case Ue:c[f]=c[f]-(t[s]/2-n[s]/2);break;case Je:c[f]=c[f]+(t[s]/2-n[s]/2);break}}return c}function nr(){return{top:0,right:0,bottom:0,left:0}}function rr(e){return Object.assign({},nr(),e)}function or(e,t){return t.reduce(function(n,o){return n[o]=e,n},{})}function He(e,t){t===void 0&&(t={});var n=t,o=n.placement,r=o===void 0?e.placement:o,i=n.strategy,l=i===void 0?e.strategy:i,a=n.boundary,c=a===void 0?no:a,f=n.rootBoundary,s=f===void 0?Xn:f,g=n.elementContext,O=g===void 0?Ye:g,S=n.altBoundary,k=S===void 0?!1:S,T=n.padding,x=T===void 0?0:T,q=rr(typeof x!="number"?x:or(x,Ze)),B=O===Ye?ro:Ye,R=e.rects.popper,p=e.elements[k?B:O],y=Ao(Re(p)?p:p.contextElement||xe(e.elements.popper),c,s,l),_=Ke(e.elements.reference),L=tr({reference:_,element:R,strategy:"absolute",placement:r}),u=It(Object.assign({},R,L)),v=O===Ye?u:_,E={top:y.top-v.top+q.top,bottom:v.bottom-y.bottom+q.bottom,left:y.left-v.left+q.left,right:v.right-y.right+q.right},w=e.modifiersData.offset;if(O===Ye&&w){var I=w[r];Object.keys(E).forEach(function(D){var M=[pe,fe].indexOf(D)>=0?1:-1,K=[re,fe].indexOf(D)>=0?"y":"x";E[D]+=I[K]*M})}return E}var Kn={placement:"bottom",modifiers:[],strategy:"absolute"};function Un(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Bt(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,r=t.defaultOptions,i=r===void 0?Kn:r;return function(a,c,f){f===void 0&&(f=i);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kn,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},g=[],O=!1,S={state:s,setOptions:function(q){var B=typeof q=="function"?q(s.options):q;T(),s.options=Object.assign({},i,s.options,B),s.scrollParents={reference:Re(a)?Ge(a):a.contextElement?Ge(a.contextElement):[],popper:Ge(c)};var R=go(vo([].concat(o,s.options.modifiers)));return s.orderedModifiers=R.filter(function(p){return p.enabled}),k(),S.update()},forceUpdate:function(){if(!O){var q=s.elements,B=q.reference,R=q.popper;if(Un(B,R)){s.rects={reference:Zr(B,Xe(R),s.options.strategy==="fixed"),popper:$t(R)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(E){return s.modifiersData[E.name]=Object.assign({},E.data)});for(var p=0;p<s.orderedModifiers.length;p++){if(s.reset===!0){s.reset=!1,p=-1;continue}var y=s.orderedModifiers[p],_=y.fn,L=y.options,u=L===void 0?{}:L,v=y.name;typeof _=="function"&&(s=_({state:s,options:u,name:v,instance:S})||s)}}}},update:yo(function(){return new Promise(function(x){S.forceUpdate(),x(s)})}),destroy:function(){T(),O=!0}};if(!Un(a,c))return S;S.setOptions(f).then(function(x){!O&&f.onFirstUpdate&&f.onFirstUpdate(x)});function k(){s.orderedModifiers.forEach(function(x){var q=x.name,B=x.options,R=B===void 0?{}:B,p=x.effect;if(typeof p=="function"){var y=p({state:s,name:q,instance:S,options:R}),_=function(){};g.push(y||_)}})}function T(){g.forEach(function(x){return x()}),g=[]}return S}}var ct={passive:!0};function Co(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,i=r===void 0?!0:r,l=o.resize,a=l===void 0?!0:l,c=se(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&f.forEach(function(s){s.addEventListener("scroll",n.update,ct)}),a&&c.addEventListener("resize",n.update,ct),function(){i&&f.forEach(function(s){s.removeEventListener("scroll",n.update,ct)}),a&&c.removeEventListener("resize",n.update,ct)}}var jt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Co,data:{}};function So(e){var t=e.state,n=e.name;t.modifiersData[n]=tr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Vt={name:"popperOffsets",enabled:!0,phase:"read",fn:So,data:{}},To={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Oo(e,t){var n=e.x,o=e.y,r=t.devicePixelRatio||1;return{x:ze(n*r)/r||0,y:ze(o*r)/r||0}}function Wn(e){var t,n=e.popper,o=e.popperRect,r=e.placement,i=e.variation,l=e.offsets,a=e.position,c=e.gpuAcceleration,f=e.adaptive,s=e.roundOffsets,g=e.isFixed,O=l.x,S=O===void 0?0:O,k=l.y,T=k===void 0?0:k,x=typeof s=="function"?s({x:S,y:T}):{x:S,y:T};S=x.x,T=x.y;var q=l.hasOwnProperty("x"),B=l.hasOwnProperty("y"),R=oe,p=re,y=window;if(f){var _=Xe(n),L="clientHeight",u="clientWidth";if(_===se(n)&&(_=xe(n),Se(_).position!=="static"&&a==="absolute"&&(L="scrollHeight",u="scrollWidth")),_=_,r===re||(r===oe||r===pe)&&i===Je){p=fe;var v=g&&_===y&&y.visualViewport?y.visualViewport.height:_[L];T-=v-o.height,T*=c?1:-1}if(r===oe||(r===re||r===fe)&&i===Je){R=pe;var E=g&&_===y&&y.visualViewport?y.visualViewport.width:_[u];S-=E-o.width,S*=c?1:-1}}var w=Object.assign({position:a},f&&To),I=s===!0?Oo({x:S,y:T},se(n)):{x:S,y:T};if(S=I.x,T=I.y,c){var D;return Object.assign({},w,(D={},D[p]=B?"0":"",D[R]=q?"0":"",D.transform=(y.devicePixelRatio||1)<=1?"translate("+S+"px, "+T+"px)":"translate3d("+S+"px, "+T+"px, 0)",D))}return Object.assign({},w,(t={},t[p]=B?T+"px":"",t[R]=q?S+"px":"",t.transform="",t))}function Lo(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=o===void 0?!0:o,i=n.adaptive,l=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,f={placement:_e(t.placement),variation:We(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Wn(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Wn(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Ft={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Lo,data:{}};function Do(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},r=t.attributes[n]||{},i=t.elements[n];!de(i)||!we(i)||(Object.assign(i.style,o),Object.keys(r).forEach(function(l){var a=r[l];a===!1?i.removeAttribute(l):i.setAttribute(l,a===!0?"":a)}))})}function Po(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var r=t.elements[o],i=t.attributes[o]||{},l=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),a=l.reduce(function(c,f){return c[f]="",c},{});!de(r)||!we(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(c){r.removeAttribute(c)}))})}}var zt={name:"applyStyles",enabled:!0,phase:"write",fn:Do,effect:Po,requires:["computeStyles"]};function Io(e,t,n){var o=_e(e),r=[oe,re].indexOf(o)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=i[0],a=i[1];return l=l||0,a=(a||0)*r,[oe,pe].indexOf(o)>=0?{x:a,y:l}:{x:l,y:a}}function No(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=r===void 0?[0,0]:r,l=Zn.reduce(function(s,g){return s[g]=Io(g,t.rects,i),s},{}),a=l[t.placement],c=a.x,f=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=f),t.modifiersData[o]=l}var ir={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:No},xo={left:"right",right:"left",bottom:"top",top:"bottom"};function lt(e){return e.replace(/left|right|bottom|top/g,function(t){return xo[t]})}var ko={start:"end",end:"start"};function Hn(e){return e.replace(/start|end/g,function(t){return ko[t]})}function Mo(e,t){t===void 0&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,l=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,f=c===void 0?Zn:c,s=We(o),g=s?a?Fn:Fn.filter(function(k){return We(k)===s}):Ze,O=g.filter(function(k){return f.indexOf(k)>=0});O.length===0&&(O=g);var S=O.reduce(function(k,T){return k[T]=He(e,{placement:T,boundary:r,rootBoundary:i,padding:l})[_e(T)],k},{});return Object.keys(S).sort(function(k,T){return S[k]-S[T]})}function $o(e){if(_e(e)===qt)return[];var t=lt(e);return[Hn(e),t,Hn(t)]}function qo(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,l=n.altAxis,a=l===void 0?!0:l,c=n.fallbackPlacements,f=n.padding,s=n.boundary,g=n.rootBoundary,O=n.altBoundary,S=n.flipVariations,k=S===void 0?!0:S,T=n.allowedAutoPlacements,x=t.options.placement,q=_e(x),B=q===x,R=c||(B||!k?[lt(x)]:$o(x)),p=[x].concat(R).reduce(function(ye,le){return ye.concat(_e(le)===qt?Mo(t,{placement:le,boundary:s,rootBoundary:g,padding:f,flipVariations:k,allowedAutoPlacements:T}):le)},[]),y=t.rects.reference,_=t.rects.popper,L=new Map,u=!0,v=p[0],E=0;E<p.length;E++){var w=p[E],I=_e(w),D=We(w)===Ue,M=[re,fe].indexOf(I)>=0,K=M?"width":"height",P=He(t,{placement:w,boundary:s,rootBoundary:g,altBoundary:O,padding:f}),$=M?D?pe:oe:D?fe:re;y[K]>_[K]&&($=lt($));var ie=lt($),Q=[];if(i&&Q.push(P[I]<=0),a&&Q.push(P[$]<=0,P[ie]<=0),Q.every(function(ye){return ye})){v=w,u=!1;break}L.set(w,Q)}if(u)for(var Oe=k?3:1,ke=function(le){var ve=p.find(function(Ee){var ne=L.get(Ee);if(ne)return ne.slice(0,le).every(function(De){return De})});if(ve)return v=ve,"break"},Ae=Oe;Ae>0;Ae--){var Le=ke(Ae);if(Le==="break")break}t.placement!==v&&(t.modifiersData[o]._skip=!0,t.placement=v,t.reset=!0)}}var ar={name:"flip",enabled:!0,phase:"main",fn:qo,requiresIfExists:["offset"],data:{_skip:!1}};function Ro(e){return e==="x"?"y":"x"}function Qe(e,t,n){return qe(e,ut(t,n))}function Bo(e,t,n){var o=Qe(e,t,n);return o>n?n:o}function jo(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=r===void 0?!0:r,l=n.altAxis,a=l===void 0?!1:l,c=n.boundary,f=n.rootBoundary,s=n.altBoundary,g=n.padding,O=n.tether,S=O===void 0?!0:O,k=n.tetherOffset,T=k===void 0?0:k,x=He(t,{boundary:c,rootBoundary:f,padding:g,altBoundary:s}),q=_e(t.placement),B=We(t.placement),R=!B,p=Rt(q),y=Ro(p),_=t.modifiersData.popperOffsets,L=t.rects.reference,u=t.rects.popper,v=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,E=typeof v=="number"?{mainAxis:v,altAxis:v}:Object.assign({mainAxis:0,altAxis:0},v),w=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(_){if(i){var D,M=p==="y"?re:oe,K=p==="y"?fe:pe,P=p==="y"?"height":"width",$=_[p],ie=$+x[M],Q=$-x[K],Oe=S?-u[P]/2:0,ke=B===Ue?L[P]:u[P],Ae=B===Ue?-u[P]:-L[P],Le=t.elements.arrow,ye=S&&Le?$t(Le):{width:0,height:0},le=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:nr(),ve=le[M],Ee=le[K],ne=Qe(0,L[P],ye[P]),De=R?L[P]/2-Oe-ne-ve-E.mainAxis:ke-ne-ve-E.mainAxis,Z=R?-L[P]/2+Oe+ne+Ee+E.mainAxis:Ae+ne+Ee+E.mainAxis,J=t.elements.arrow&&Xe(t.elements.arrow),C=J?p==="y"?J.clientTop||0:J.clientLeft||0:0,U=(D=w?.[p])!=null?D:0,H=$+De-U-C,Y=$+Z-U,be=Qe(S?ut(ie,H):ie,$,S?qe(Q,Y):Q);_[p]=be,I[p]=be-$}if(a){var d,m=p==="x"?re:oe,A=p==="x"?fe:pe,b=_[y],h=y==="y"?"height":"width",N=b+x[m],j=b-x[A],z=[re,oe].indexOf(q)!==-1,X=(d=w?.[y])!=null?d:0,G=z?N:b-L[h]-u[h]-X+E.altAxis,W=z?b+L[h]+u[h]-X-E.altAxis:j,V=S&&z?Bo(G,b,W):Qe(S?G:N,b,S?W:j);_[y]=V,I[y]=V-b}t.modifiersData[o]=I}}var sr={name:"preventOverflow",enabled:!0,phase:"main",fn:jo,requiresIfExists:["offset"]},Vo=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,rr(typeof t!="number"?t:or(t,Ze))};function Fo(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,a=_e(n.placement),c=Rt(a),f=[oe,pe].indexOf(a)>=0,s=f?"height":"width";if(!(!i||!l)){var g=Vo(r.padding,n),O=$t(i),S=c==="y"?re:oe,k=c==="y"?fe:pe,T=n.rects.reference[s]+n.rects.reference[c]-l[c]-n.rects.popper[s],x=l[c]-n.rects.reference[c],q=Xe(i),B=q?c==="y"?q.clientHeight||0:q.clientWidth||0:0,R=T/2-x/2,p=g[S],y=B-O[s]-g[k],_=B/2-O[s]/2+R,L=Qe(p,_,y),u=c;n.modifiersData[o]=(t={},t[u]=L,t.centerOffset=L-_,t)}}function zo(e){var t=e.state,n=e.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||er(t.elements.popper,r)&&(t.elements.arrow=r))}var cr={name:"arrow",enabled:!0,phase:"main",fn:Fo,effect:zo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yn(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Gn(e){return[re,pe,fe,oe].some(function(t){return e[t]>=0})}function Ko(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,l=He(t,{elementContext:"reference"}),a=He(t,{altBoundary:!0}),c=Yn(l,o),f=Yn(a,r,i),s=Gn(c),g=Gn(f);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:s,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":s,"data-popper-escaped":g})}var lr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ko},Uo=[jt,Vt,Ft,zt],Wo=Bt({defaultModifiers:Uo}),ur=[jt,Vt,Ft,zt,ir,ar,sr,cr,lr],Ho=Bt({defaultModifiers:ur});te.applyStyles=zt;te.arrow=cr;te.computeStyles=Ft;te.createPopper=Ho;te.createPopperLite=Wo;te.defaultModifiers=ur;te.detectOverflow=He;te.eventListeners=jt;te.flip=ar;te.hide=lr;te.offset=ir;te.popperGenerator=Bt;te.popperOffsets=Vt;te.preventOverflow=sr});var fr=ee((Kt,Ut)=>{(function(e,t){typeof Kt=="object"&&typeof Ut<"u"?Ut.exports=t(dr(),st(),Ne(),it(),$e(),me()):typeof define=="function"&&define.amd?define(["@popperjs/core","./base-component","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Dropdown=t(e["@popperjs/core"],e.BaseComponent,e.EventHandler,e.Manipulator,e.SelectorEngine,e.Index))})(Kt,function(e,t,n,o,r,i){"use strict";function l(J){let C=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(J){for(let U in J)if(U!=="default"){let H=Object.getOwnPropertyDescriptor(J,U);Object.defineProperty(C,U,H.get?H:{enumerable:!0,get:()=>J[U]})}}return C.default=J,Object.freeze(C)}let a=l(e),c="dropdown",s=".bs.dropdown",g=".data-api",O="Escape",S="Tab",k="ArrowUp",T="ArrowDown",x=2,q=`hide${s}`,B=`hidden${s}`,R=`show${s}`,p=`shown${s}`,y=`click${s}${g}`,_=`keydown${s}${g}`,L=`keyup${s}${g}`,u="show",v="dropup",E="dropend",w="dropstart",I="dropup-center",D="dropdown-center",M='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',K=`${M}.${u}`,P=".dropdown-menu",$=".navbar",ie=".navbar-nav",Q=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Oe=i.isRTL()?"top-end":"top-start",ke=i.isRTL()?"top-start":"top-end",Ae=i.isRTL()?"bottom-end":"bottom-start",Le=i.isRTL()?"bottom-start":"bottom-end",ye=i.isRTL()?"left-start":"right-start",le=i.isRTL()?"right-start":"left-start",ve="top",Ee="bottom",ne={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},De={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Z extends t{constructor(C,U){super(C,U),this._popper=null,this._parent=this._element.parentNode,this._menu=r.next(this._element,P)[0]||r.prev(this._element,P)[0]||r.findOne(P,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ne}static get DefaultType(){return De}static get NAME(){return c}toggle(){return this._isShown()?this.hide():this.show()}show(){if(i.isDisabled(this._element)||this._isShown())return;let C={relatedTarget:this._element};if(!n.trigger(this._element,R,C).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ie))for(let H of[].concat(...document.body.children))n.on(H,"mouseover",i.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(u),this._element.classList.add(u),n.trigger(this._element,p,C)}}hide(){if(i.isDisabled(this._element)||!this._isShown())return;let C={relatedTarget:this._element};this._completeHide(C)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(C){if(!n.trigger(this._element,q,C).defaultPrevented){if("ontouchstart"in document.documentElement)for(let H of[].concat(...document.body.children))n.off(H,"mouseover",i.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(u),this._element.classList.remove(u),this._element.setAttribute("aria-expanded","false"),o.removeDataAttribute(this._menu,"popper"),n.trigger(this._element,B,C)}}_getConfig(C){if(C=super._getConfig(C),typeof C.reference=="object"&&!i.isElement(C.reference)&&typeof C.reference.getBoundingClientRect!="function")throw new TypeError(`${c.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return C}_createPopper(){if(typeof a>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let C=this._element;this._config.reference==="parent"?C=this._parent:i.isElement(this._config.reference)?C=i.getElement(this._config.reference):typeof this._config.reference=="object"&&(C=this._config.reference);let U=this._getPopperConfig();this._popper=a.createPopper(C,this._menu,U)}_isShown(){return this._menu.classList.contains(u)}_getPlacement(){let C=this._parent;if(C.classList.contains(E))return ye;if(C.classList.contains(w))return le;if(C.classList.contains(I))return ve;if(C.classList.contains(D))return Ee;let U=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return C.classList.contains(v)?U?ke:Oe:U?Le:Ae}_detectNavbar(){return this._element.closest($)!==null}_getOffset(){let{offset:C}=this._config;return typeof C=="string"?C.split(",").map(U=>Number.parseInt(U,10)):typeof C=="function"?U=>C(U,this._element):C}_getPopperConfig(){let C={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(o.setDataAttribute(this._menu,"popper","static"),C.modifiers=[{name:"applyStyles",enabled:!1}]),{...C,...i.execute(this._config.popperConfig,[void 0,C])}}_selectMenuItem({key:C,target:U}){let H=r.find(Q,this._menu).filter(Y=>i.isVisible(Y));H.length&&i.getNextActiveElement(H,U,C===T,!H.includes(U)).focus()}static jQueryInterface(C){return this.each(function(){let U=Z.getOrCreateInstance(this,C);if(typeof C=="string"){if(typeof U[C]>"u")throw new TypeError(`No method named "${C}"`);U[C]()}})}static clearMenus(C){if(C.button===x||C.type==="keyup"&&C.key!==S)return;let U=r.find(K);for(let H of U){let Y=Z.getInstance(H);if(!Y||Y._config.autoClose===!1)continue;let be=C.composedPath(),d=be.includes(Y._menu);if(be.includes(Y._element)||Y._config.autoClose==="inside"&&!d||Y._config.autoClose==="outside"&&d||Y._menu.contains(C.target)&&(C.type==="keyup"&&C.key===S||/input|select|option|textarea|form/i.test(C.target.tagName)))continue;let m={relatedTarget:Y._element};C.type==="click"&&(m.clickEvent=C),Y._completeHide(m)}}static dataApiKeydownHandler(C){let U=/input|textarea/i.test(C.target.tagName),H=C.key===O,Y=[k,T].includes(C.key);if(!Y&&!H||U&&!H)return;C.preventDefault();let be=this.matches(M)?this:r.prev(this,M)[0]||r.next(this,M)[0]||r.findOne(M,C.delegateTarget.parentNode),d=Z.getOrCreateInstance(be);if(Y){C.stopPropagation(),d.show(),d._selectMenuItem(C);return}d._isShown()&&(C.stopPropagation(),d.hide(),be.focus())}}return n.on(document,_,M,Z.dataApiKeydownHandler),n.on(document,_,P,Z.dataApiKeydownHandler),n.on(document,y,Z.clearMenus),n.on(document,L,Z.clearMenus),n.on(document,y,M,function(J){J.preventDefault(),Z.getOrCreateInstance(this).toggle()}),i.defineJQueryPlugin(Z),Z})});var pr=ee((Wt,Ht)=>{(function(e,t){typeof Wt=="object"&&typeof Ht<"u"?Ht.exports=t(Ne(),at(),me()):typeof define=="function"&&define.amd?define(["../dom/event-handler","./config","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Backdrop=t(e.EventHandler,e.Config,e.Index))})(Wt,function(e,t,n){"use strict";let o="backdrop",r="fade",i="show",l=`mousedown.bs.${o}`,a={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},c={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class f extends t{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return a}static get DefaultType(){return c}static get NAME(){return o}show(g){if(!this._config.isVisible){n.execute(g);return}this._append();let O=this._getElement();this._config.isAnimated&&n.reflow(O),O.classList.add(i),this._emulateAnimation(()=>{n.execute(g)})}hide(g){if(!this._config.isVisible){n.execute(g);return}this._getElement().classList.remove(i),this._emulateAnimation(()=>{this.dispose(),n.execute(g)})}dispose(){this._isAppended&&(e.off(this._element,l),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add(r),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=n.getElement(g.rootElement),g}_append(){if(this._isAppended)return;let g=this._getElement();this._config.rootElement.append(g),e.on(g,l,()=>{n.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){n.executeAfterTransition(g,this._getElement(),this._config.isAnimated)}}return f})});var mr=ee((ft,hr)=>{(function(e,t){typeof ft=="object"&&typeof hr<"u"?t(ft,Ne(),$e(),me()):typeof define=="function"&&define.amd?define(["exports","../dom/event-handler","../dom/selector-engine","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.ComponentFunctions={},e.EventHandler,e.SelectorEngine,e.Index))})(ft,function(e,t,n,o){"use strict";let r=(i,l="hide")=>{let a=`click.dismiss${i.EVENT_KEY}`,c=i.NAME;t.on(document,a,`[data-bs-dismiss="${c}"]`,function(f){if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),o.isDisabled(this))return;let s=n.getElementFromSelector(this)||this.closest(`.${c}`);i.getOrCreateInstance(s)[l]()})};e.enableDismissTrigger=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})});var gr=ee((Yt,Gt)=>{(function(e,t){typeof Yt=="object"&&typeof Gt<"u"?Gt.exports=t(Ne(),$e(),at()):typeof define=="function"&&define.amd?define(["../dom/event-handler","../dom/selector-engine","./config"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Focustrap=t(e.EventHandler,e.SelectorEngine,e.Config))})(Yt,function(e,t,n){"use strict";let o="focustrap",i=".bs.focustrap",l=`focusin${i}`,a=`keydown.tab${i}`,c="Tab",f="forward",s="backward",g={autofocus:!0,trapElement:null},O={autofocus:"boolean",trapElement:"element"};class S extends n{constructor(T){super(),this._config=this._getConfig(T),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return g}static get DefaultType(){return O}static get NAME(){return o}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),e.off(document,i),e.on(document,l,T=>this._handleFocusin(T)),e.on(document,a,T=>this._handleKeydown(T)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,e.off(document,i))}_handleFocusin(T){let{trapElement:x}=this._config;if(T.target===document||T.target===x||x.contains(T.target))return;let q=t.focusableChildren(x);q.length===0?x.focus():this._lastTabNavDirection===s?q[q.length-1].focus():q[0].focus()}_handleKeydown(T){T.key===c&&(this._lastTabNavDirection=T.shiftKey?s:f)}}return S})});var yr=ee((Qt,Jt)=>{(function(e,t){typeof Qt=="object"&&typeof Jt<"u"?Jt.exports=t(it(),$e(),me()):typeof define=="function"&&define.amd?define(["../dom/manipulator","../dom/selector-engine","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Scrollbar=t(e.Manipulator,e.SelectorEngine,e.Index))})(Qt,function(e,t,n){"use strict";let o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",r=".sticky-top",i="padding-right",l="margin-right";class a{constructor(){this._element=document.body}getWidth(){let f=document.documentElement.clientWidth;return Math.abs(window.innerWidth-f)}hide(){let f=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,i,s=>s+f),this._setElementAttributes(o,i,s=>s+f),this._setElementAttributes(r,l,s=>s-f)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,i),this._resetElementAttributes(o,i),this._resetElementAttributes(r,l)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(f,s,g){let O=this.getWidth(),S=k=>{if(k!==this._element&&window.innerWidth>k.clientWidth+O)return;this._saveInitialAttribute(k,s);let T=window.getComputedStyle(k).getPropertyValue(s);k.style.setProperty(s,`${g(Number.parseFloat(T))}px`)};this._applyManipulationCallback(f,S)}_saveInitialAttribute(f,s){let g=f.style.getPropertyValue(s);g&&e.setDataAttribute(f,s,g)}_resetElementAttributes(f,s){let g=O=>{let S=e.getDataAttribute(O,s);if(S===null){O.style.removeProperty(s);return}e.removeDataAttribute(O,s),O.style.setProperty(s,S)};this._applyManipulationCallback(f,g)}_applyManipulationCallback(f,s){if(n.isElement(f)){s(f);return}for(let g of t.find(f,this._element))s(g)}}return a})});var vr=ee((Xt,Zt)=>{(function(e,t){typeof Xt=="object"&&typeof Zt<"u"?Zt.exports=t(st(),Ne(),$e(),pr(),mr(),gr(),me(),yr()):typeof define=="function"&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/backdrop","./util/component-functions","./util/focustrap","./util/index","./util/scrollbar"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Offcanvas=t(e.BaseComponent,e.EventHandler,e.SelectorEngine,e.Backdrop,e.ComponentFunctions,e.Focustrap,e.Index,e.Scrollbar))})(Xt,function(e,t,n,o,r,i,l,a){"use strict";let c="offcanvas",s=".bs.offcanvas",g=".data-api",O=`load${s}${g}`,S="Escape",k="show",T="showing",x="hiding",q="offcanvas-backdrop",B=".offcanvas.show",R=`show${s}`,p=`shown${s}`,y=`hide${s}`,_=`hidePrevented${s}`,L=`hidden${s}`,u=`resize${s}`,v=`click${s}${g}`,E=`keydown.dismiss${s}`,w='[data-bs-toggle="offcanvas"]',I={backdrop:!0,keyboard:!0,scroll:!1},D={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class M extends e{constructor(P,$){super(P,$),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return I}static get DefaultType(){return D}static get NAME(){return c}toggle(P){return this._isShown?this.hide():this.show(P)}show(P){if(this._isShown||t.trigger(this._element,R,{relatedTarget:P}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new a().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(T);let ie=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(k),this._element.classList.remove(T),t.trigger(this._element,p,{relatedTarget:P})};this._queueCallback(ie,this._element,!0)}hide(){if(!this._isShown||t.trigger(this._element,y).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(x),this._backdrop.hide();let $=()=>{this._element.classList.remove(k,x),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new a().reset(),t.trigger(this._element,L)};this._queueCallback($,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let P=()=>{if(this._config.backdrop==="static"){t.trigger(this._element,_);return}this.hide()},$=!!this._config.backdrop;return new o({className:q,isVisible:$,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:$?P:null})}_initializeFocusTrap(){return new i({trapElement:this._element})}_addEventListeners(){t.on(this._element,E,P=>{if(P.key===S){if(this._config.keyboard){this.hide();return}t.trigger(this._element,_)}})}static jQueryInterface(P){return this.each(function(){let $=M.getOrCreateInstance(this,P);if(typeof P=="string"){if($[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);$[P](this)}})}}return t.on(document,v,w,function(K){let P=n.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&K.preventDefault(),l.isDisabled(this))return;t.one(P,L,()=>{l.isVisible(this)&&this.focus()});let $=n.findOne(B);$&&$!==P&&M.getInstance($).hide(),M.getOrCreateInstance(P).toggle(this)}),t.on(window,O,()=>{for(let K of n.find(B))M.getOrCreateInstance(K).show()}),t.on(window,u,()=>{for(let K of n.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(K).position!=="fixed"&&M.getOrCreateInstance(K).hide()}),r.enableDismissTrigger(M),l.defineJQueryPlugin(M),M})});function rn(e){if(e&&typeof e=="object"){if(e.default)return e.default;let t=Object.keys(e);if(t.length===1)return e[t[0]]}return e}function on(e,t){return!e||!t?null:typeof e.getOrCreateInstance=="function"?e.getOrCreateInstance(t):new e(t)}function Yo(e){return e?typeof e=="string"?document.querySelector(e):e:null}function an(e,t){return br.has(e)?br.get(e)():t()}async function Go(){en||(en=an("collapse",()=>Promise.resolve().then(()=>mt(jn(),1))));let e=await en;return rn(e)}async function Qo(){tn||(tn=an("dropdown",()=>Promise.resolve().then(()=>mt(fr(),1))));let e=await tn;return rn(e)}async function Jo(){nn||(nn=an("offcanvas",()=>Promise.resolve().then(()=>mt(vr(),1))));let e=await nn;return rn(e)}function Xo(){document.querySelectorAll('[data-bs-toggle="collapse"][data-bs-target]').forEach(t=>{t.addEventListener("click",()=>{Zo(t)})})}async function Zo(e){try{let t=e.getAttribute("data-bs-target");if(!t)return;let n=document.querySelector(t);if(!n)return;let o=await Go();on(o,n)?.toggle?.()}catch(t){console.error("No se pudo inicializar el Collapse de Bootstrap",t)}}function ei(){document.querySelectorAll('[data-bs-toggle="dropdown"]').forEach(t=>{t.addEventListener("click",n=>{n.preventDefault(),ti(t)})})}async function ti(e){try{let t=await Qo();on(t,e)?.toggle?.()}catch(t){console.error("No se pudo inicializar el Dropdown de Bootstrap",t)}}function _r(){Er||(Er=!0,!(typeof document>"u")&&(Xo(),ei()))}async function wr(e){if(typeof document>"u")throw new Error("Offcanvas no disponible en este entorno");let t=Yo(e);if(!t)throw new Error("No se encontr\xF3 el elemento de Offcanvas");let n=await Jo(),o=on(n,t);if(!o||typeof o.show!="function")throw new Error("Instancia de Offcanvas inv\xE1lida");return o.show(),o}var Er,br,en,tn,nn,sn=he(()=>{Er=!1,br=new Map,en=null,tn=null,nn=null});function ni(e){let n=Array.isArray(e.dataLayer)?e.dataLayer:[];if(e.dataLayer=n,typeof e.gtag!="function"){let o=function(){n.push(arguments)};e.gtag=o}return{gtag:e.gtag,dataLayer:n}}function ri(e,t){return Array.isArray(e)&&e.some(n=>Array.isArray(n)&&n[0]===t)}function oi(e){return Array.isArray(e)&&e.some(t=>Array.isArray(t)&&t[0]==="config"&&t[1]===un)}function ii(e){if(e.__gtagInitialised)return;let{dataLayer:t}=e,n=ri(t,"js"),o=oi(t);n||e.gtag("js",new Date),o||e.gtag("config",un,{send_page_view:!0,transport_type:"beacon"}),e.__gtagInitialised=!0}function ln(e){return cn&&et||(cn=!0,et=new Promise((t,n)=>{let{document:o}=e;if(!o||typeof o.createElement!="function"){t(null);return}let r=o.querySelector(`script[src^="${Ar}"]`);if(r){if(r.dataset.loaded==="true"){t(r);return}r.addEventListener("load",()=>{r.dataset.loaded="true",t(r)},{once:!0}),r.addEventListener("error",n,{once:!0});return}let i=o.createElement("script");i.src=Ar,i.async=!0,e.__CSP_NONCE__&&(i.nonce=e.__CSP_NONCE__),i.addEventListener("load",()=>{i.dataset.loaded="true",t(i)},{once:!0}),i.addEventListener("error",l=>{cn=!1,n(l)},{once:!0}),o.head.appendChild(i)}),et.catch(t=>{typeof console<"u"&&console.error&&console.error("Failed to load Google Analytics script",t)})),et}function ai(e){let t=()=>{ln(e)},n={once:!0,passive:!0};["pointerdown","touchstart","keydown","mousemove"].forEach(i=>{e.addEventListener(i,t,n)}),e.addEventListener("scroll",t,{once:!0,passive:!0}),e.addEventListener("visibilitychange",()=>{e.document.visibilityState==="hidden"&&t()},{once:!0});let r=()=>{t()};typeof e.requestIdleCallback=="function"?e.requestIdleCallback(r,{timeout:4e3}):e.setTimeout(r,4e3)}function Sr(){if(typeof window>"u")return;let e=window;if(ni(e),ii(e),Cr){ln(e);return}Cr=!0,ln(e),ai(e)}var un,Ar,Cr,cn,et,Tr=he(()=>{un="G-H0YG3RTJVM",Ar=`https://www.googletagmanager.com/gtag/js?id=${un}`,Cr=!1,cn=!1,et=null});function tt(e,t={}){let n=e.startsWith("/")?e:"/"+e,o=Object.entries(t).map(([i,l])=>`${i}=${l}`).join(","),r=n.split("/").map(encodeURIComponent).join("/");return`/cdn-cgi/image/${o}${r}`}var nt,Or=he(()=>{nt={fit:"cover",quality:82,format:"auto"}});function Lr(){return`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`}function Te(e,t,n={}){let o={level:e,message:t,...n},r=JSON.stringify(o);typeof console[e]=="function"?console[e](r):console.log(r)}var Dr=he(()=>{});function gn(){if(typeof window<"u"){let e=window[kr];if(e&&Array.isArray(e.products))return e}return pt&&Array.isArray(pt.products)?pt:null}function Mr(e,t={},{force:n=!1}={}){if(!Array.isArray(e))return null;let o={products:e,version:t.version||null,source:t.source||null,updatedAt:t.updatedAt||Date.now(),isPartial:!!t.isPartial,total:typeof t.total=="number"?t.total:null},r=gn();if(r&&!n){let i=r.version||null,l=o.version||null;if(!l&&i||!l&&!i||l&&i===l)return r}return pt=o,typeof window<"u"&&(window[kr]={...o}),o}function pn(e,t={}){return Mr(e,t,{force:!1})}function si(e,t={}){return Mr(e,t,{force:!0})}function $r(){if(!("serviceWorker"in navigator)){console.warn("Service workers are not supported in this browser");return}if(Pr)return;Pr=!0;let e=async()=>{if(document.readyState==="complete"){window.removeEventListener("load",e);try{await ci()}catch(t){console.error("Service Worker initialization failed:",t),hi("Failed to initialize service worker. Some features may not work offline.")}}};window.addEventListener("load",e),e()}async function ci(){try{let e=await navigator.serviceWorker.register(hn.path,{scope:hn.scope});console.log("ServiceWorker registered successfully:",e.scope),li(e),ui(e),di(),fi()}catch(e){throw console.error("ServiceWorker registration failed:",e),e}}function li(e){e.addEventListener("updatefound",()=>{let t=e.installing;t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&t.postMessage({type:"SKIP_WAITING"})})})}function ui(e){Ir(e),setInterval(()=>{Ir(e)},hn.updateCheckInterval)}async function Ir(e){try{await e.update();let t=await fetch("/data/product_data.json",{cache:"no-store",headers:{Accept:"application/json"}});if(t.ok){let o=(await t.json()).version,r=localStorage.getItem("productDataVersion");o!==r&&(e.active?.postMessage({type:"INVALIDATE_PRODUCT_CACHE"}),localStorage.setItem("productDataVersion",o),pi(null,"New product data available"))}}catch(t){console.warn("Update check failed:",t)}}function di(){let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(e=!0,window.location.reload())})}function fi(){let e=document.getElementById("offline-indicator");if(!e)return;let t=()=>{let n=navigator.onLine;e.classList.toggle(ce.hidden,n),e.classList.toggle(ce.block,!n),n||mi("You are currently offline. Some features may be limited.")};window.addEventListener("online",t),window.addEventListener("offline",t),navigator.onLine||t()}function pi(e,t="Una versi\xF3n est\xE1 disponible"){let n=yn(t,"Actualizar ahora","Despu\xE9s",()=>{e?e.postMessage({type:"SKIP_WAITING"}):window.location.reload()});vn(n)}function hi(e){let t=yn(e,"Reload","Dismiss",()=>window.location.reload());vn(t)}function mi(e){let t=yn(e,"Retry","Dismiss",()=>window.location.reload());vn(t)}function yn(e,t,n,o){let r=document.createElement("div");return r.className="notification-toast",r.setAttribute("role","alert"),r.setAttribute("aria-live","polite"),r.innerHTML=`
        <div class="notification-content">
            <p>${e}</p>
            <div class="notification-actions">
                <button class="primary-action">${t}</button>
                <button class="secondary-action">${n}</button>
            </div>
        </div>
    `,r.querySelector(".primary-action").addEventListener("click",()=>{try{o()}catch(i){console.error("Primary action failed:",i)}r.remove()}),r.querySelector(".secondary-action").addEventListener("click",()=>{r.remove()}),r}function vn(e){let t=document.querySelector(".notification-toast");t&&t.remove(),document.body.appendChild(e),setTimeout(()=>{document.body.contains(e)&&e.remove()},300*1e3)}function Ai(){let e=gn();if(e)return e;let t=qr();if(!t||!Array.isArray(t.initialProducts))return null;let n=mn(t.initialProducts);return pn(n,{version:t.version||null,source:"inline",isPartial:!0,total:typeof t.totalProducts=="number"?t.totalProducts:n.length})}var kr,pt,ce,hn,Pr,gi,dn,yi,vi,Be,Ei,fn,bi,_i,Nr,qr,wi,mn,rt,Ci,Si,F,ge,xr,Rr,Br=he(()=>{Or();Dr();sn();kr="__PRODUCT_DATA__",pt=null,ce=Object.freeze({hidden:"is-hidden",flex:"is-flex",block:"is-block",contentVisible:"has-content-visibility",containIntrinsic:"has-contain-intrinsic"});hn={path:"/service-worker.js",scope:"/",updateCheckInterval:300*1e3},Pr=!1;typeof navigator<"u"&&"serviceWorker"in navigator&&$r();gi=e=>typeof e=="object"&&e!==null||typeof e=="function",dn=()=>({map:new Map,weakMap:new WeakMap,hasValue:!1,value:void 0}),yi=(e,t=100)=>{if(typeof e!="function")throw new TypeError("Expected a function to memoize");(!Number.isFinite(t)||t<0)&&(t=0);let n=dn(),o=[],r=a=>{let c=o.indexOf(a);c!==-1&&o.splice(c,1),t>0&&o.push(a)},i=()=>{if(t!==0)for(;o.length>t;){let a=o.shift();a&&(a.hasValue=!1,a.value=void 0)}},l=(a,c)=>{if(gi(c)){let s=a.weakMap.get(c);return s||(s=dn(),a.weakMap.set(c,s)),s}return a.map.has(c)||a.map.set(c,dn()),a.map.get(c)};return(...a)=>{if(t===0)return e(...a);let c=n;for(let s=0;s<a.length;s+=1)c=l(c,a[s]);if(c.hasValue)return r(c),c.value;let f=e(...a);return c.value=f,c.hasValue=!0,r(c),i(),f}},vi=(e,t)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>e(...o),t)}},Be=e=>{if(!e)return"";try{return String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}catch{return String(e).toLowerCase()}},Ei=e=>{let t=`${e.name}-${e.category}`.toLowerCase(),n=0;for(let o=0;o<t.length;o++){let r=t.charCodeAt(o);n=(n<<5)-n+r,n=n&n}return`pid-${Math.abs(n)}`},fn=e=>{let t=document.createElement("div");return t.textContent=e,t.innerHTML},bi="product-data",_i=()=>{try{return typeof localStorage>"u"?null:localStorage.getItem("productDataVersion")}catch(e){return console.warn("Unable to read stored product data version:",e),null}},Nr=e=>{if(e)try{if(typeof localStorage>"u")return;localStorage.setItem("productDataVersion",e)}catch(t){console.warn("Unable to persist product data version:",t)}},qr=()=>{if(typeof document>"u")return null;try{let e=document.getElementById(bi);if(!e||!e.textContent)return null;let t=e.textContent.trim();if(!t)return null;let n=JSON.parse(t);return n?Array.isArray(n.initialProducts)?n:Array.isArray(n.products)?{...n,initialProducts:n.products}:null:null}catch(e){return Te("warn","inline_product_parse_failure",{error:e.message}),null}},wi=(e,t)=>{let n=e.id||Ei(e),o=typeof e.originalIndex=="number"?e.originalIndex:typeof e.order=="number"?e.order:t;return{...e,id:n,name:fn(e.name),description:fn(e.description),category:fn(e.category),categoryKey:e.categoryKey||Be(e.category),originalIndex:o}},mn=(e=[])=>e.map((t,n)=>wi(t,n));Ai();rt=class extends Error{constructor(t,{cause:n,correlationId:o}){super(t),this.name="ProductDataError",this.correlationId=o,n&&(this.cause=n)}},Ci=async(e,t,n,o,r)=>{let i=new URL(e,window.location.origin);if(i.origin!==window.location.origin||i.protocol!=="https:")throw new Error("Invalid request URL: only same-origin HTTPS requests are allowed");let l=i.toString(),a=0,c;for(;a<=n;)try{let f=Date.now(),s=await fetch(l,t),g=Date.now()-f;if(Te("info","fetch_products_attempt",{correlationId:r,attempt:a+1,durationMs:g}),!s.ok)throw new Error(`HTTP error. Status: ${s.status}`);return s}catch(f){if(c=f,a++,a>n)break;Te("warn","fetch_products_retry",{correlationId:r,attempt:a,error:f.message,runbook:"RUNBOOK.md#product-data"}),await new Promise(s=>setTimeout(s,o*a))}throw new rt(`Failed to fetch products: ${c.message}`,{cause:c,correlationId:r})},Si=async()=>{let e=Lr(),t=qr(),n=t?.initialProducts||null,o=t?.version||null,r=typeof t?.totalProducts=="number"?t.totalProducts:null,i=Array.isArray(n)?mn(n):null,l=Array.isArray(i),a=_i();l&&(o&&Nr(o),pn(i,{version:o||null,source:"inline",isPartial:!0,total:r??i.length}),Te("info","fetch_products_inline_bootstrap",{correlationId:e,count:i.length}));let c=a||o||null,f=c?`/data/product_data.json?v=${encodeURIComponent(c)}`:"/data/product_data.json";try{let g=await(await Ci(f,{cache:"no-store",headers:{Accept:"application/json"}},2,300,e)).json(),O=mn(g.products||[]);return si(O,{version:g.version||null,source:"network",isPartial:!1,total:O.length}),g.version&&Nr(g.version),Te("info","fetch_products_success",{correlationId:e,count:O.length,source:"network"}),O}catch(s){if(l)return pn(i,{version:o||null,source:"inline-fallback",isPartial:!0,total:r??i.length}),Te("warn","fetch_products_network_fallback_inline",{correlationId:e,error:s.message,runbook:"RUNBOOK.md#product-data"}),i;throw Te("error","fetch_products_failure",{correlationId:e,error:s.message,runbook:"RUNBOOK.md#product-data"}),ge(`Error al cargar los productos. Por favor, verifique su conexi\xF3n a internet e int\xE9ntelo de nuevo. (Error: ${s.message})`),s instanceof rt?s:new rt(s.message,{cause:s,correlationId:e})}},F=(e,t={},n=[])=>{let o=document.createElement(e);return Object.entries(t).forEach(([r,i])=>{r==="text"?o.textContent=i:o.setAttribute(r,i)}),n.forEach(r=>{typeof r=="string"?o.appendChild(document.createTextNode(r)):o.appendChild(r)}),o},ge=e=>{let t=F("div",{class:"error-message",role:"alert"},[F("p",{},[e]),F("button",{class:"retry-button"},["Intentar nuevamente"])]),n=document.getElementById("product-container");n?(n.innerHTML="",n.appendChild(t),t.querySelector(".retry-button").addEventListener("click",Rr)):console.error("Contenedor de productos no encontrado")},xr=[];try{xr=JSON.parse(globalThis.localStorage?.getItem("cart"))||[]}catch{xr=[]}typeof window<"u"&&(window.__APP_READY__=!1,window.addEventListener("error",e=>{let t=e.target||e.srcElement,n=!!(t&&(t.tagName==="IMG"||t.tagName==="SCRIPT"||t.tagName==="LINK")),o=!!e.error;if(n||!o){console.warn("Ignored non-fatal error:",{tag:t&&t.tagName,src:t&&(t.src||t.href||t.currentSrc)});return}if(!window.__APP_READY__){console.error("Runtime error before app ready:",e.error);return}console.error("Unhandled JS error:",e.error),ge("Ocurri\xF3 un error inesperado. Por favor, recarga la p\xE1gina.")}),window.addEventListener("securitypolicyviolation",e=>{console.warn("CSP violation (logged only):",{blockedURI:e.blockedURI,violatedDirective:e.violatedDirective,sourceFile:e.sourceFile})}));Rr=async()=>{console.log("Initializing app...");let e=document.getElementById("product-container"),t=document.getElementById("sort-options"),n=document.getElementById("filter-keyword"),o=document.getElementById("cart-count"),r=document.getElementById("cart-items"),i=document.getElementById("cart-total"),a=Object.entries({"#product-container":e,"#sort-options":t,"#filter-keyword":n,"#cart-count":o,"#cart-items":r,"#cart-total":i}).filter(([,d])=>!d).map(([d])=>d);if(a.length){Te("warn","init_app_missing_dom",{missingSelectors:a,location:typeof window<"u"?window.location?.pathname:"unknown"});return}let c=()=>{let d=document.getElementById("filter-discount");if(d)return d;let m=document.querySelector('section[aria-label*="filtrado"], section[aria-label*="Opciones de filtrado"]'),A=m?m.querySelector(".row"):null;if(!A)return null;let b=F("div",{class:"col-12 mt-2"}),h=F("div",{class:"form-check form-switch"}),N=F("input",{class:"form-check-input",type:"checkbox",id:"filter-discount","aria-label":"Mostrar solo productos con descuento"}),j=F("label",{class:"form-check-label",for:"filter-discount"},["Solo productos con descuento"]);return h.appendChild(N),h.appendChild(j),b.appendChild(h),A.appendChild(b),N},f=12,s=12,g=[],O=[],S=0,k=f,T=null,x=null,q=null,B=!1,R=JSON.parse(localStorage.getItem("cart"))||[],p=()=>{let d=document.getElementById("offline-indicator");if(d){let m=navigator.onLine;d.classList.toggle(ce.hidden,m),d.classList.toggle(ce.block,!m)}navigator.onLine||console.log("App is offline. Using cached data if available.")};function y(){let d=document.getElementById("current-year");d&&(d.textContent=new Date().getFullYear())}let _=(d,m,A="CLP")=>{let b=new Intl.NumberFormat("es-CL",{style:"currency",currency:A,minimumFractionDigits:0}),h=b.format(d);if(m){let N=d-m,j=b.format(N);return F("div",{class:"precio-container"},[F("span",{class:"precio-descuento","aria-label":"Precio con descuento"},[j]),F("span",{class:"precio-original","aria-label":"Precio original"},[F("span",{class:"tachado"},[h])])])}return F("div",{class:"precio-container"},[F("span",{class:"precio","aria-label":"Precio"},[h])])},L=d=>{let m=F("div",{class:`quantity-control ${ce.hidden}`}),A=F("button",{class:"quantity-btn","data-action":"decrease","aria-label":"Decrease quantity"},["-"]),b=F("button",{class:"quantity-btn","data-action":"increase","aria-label":"Increase quantity"},["+"]),h=F("input",{type:"number",class:"quantity-input",value:Math.max(v(d.id),1),min:"1",max:"50","aria-label":"Quantity","data-id":d.id});return m.appendChild(A),m.appendChild(h),m.appendChild(b),m};function u(d,m){if(!d)return;let A=d.querySelector(".add-to-cart-btn"),b=d.querySelector(".quantity-control"),h=b?.querySelector(".quantity-input"),N=b?.querySelector('.quantity-btn[data-action="decrease"]')||b?.querySelector(".quantity-btn"),j=b?.querySelector('.quantity-btn[data-action="increase"]')||b?.querySelectorAll(".quantity-btn")?.[1],z=(G,W,V)=>{G&&G.dataset.listenerAttached!=="true"&&(G.addEventListener(W,V),G.dataset.listenerAttached="true")};z(A,"click",()=>{De(m,1),U(A,b,!0)}),z(N,"click",()=>J(m,-1)),z(j,"click",()=>J(m,1)),z(h,"change",G=>{let W=parseInt(G.target.value,10);if(!Number.isFinite(W)){G.target.value=Math.max(v(m.id),1);return}let V=v(m.id);J(m,W-V)});let X=v(m.id);h&&(h.value=X>0?X:1),U(A,b,X>0)}let v=d=>{let m=R.find(A=>A.id===d);return m?m.quantity:0},E=(d,{reset:m=!1}={})=>{if(!e)return 0;m&&(e.innerHTML="");let A=document.createDocumentFragment();return d.forEach(b=>{let{id:h,name:N,description:j,image_path:z,price:X,discount:G,stock:W}=b,V=["producto","col-12","col-sm-6","col-md-4","col-lg-3","mb-4",W?"":"agotado",ce.contentVisible,ce.containIntrinsic].filter(Boolean).join(" "),ae=F("div",{class:V,"aria-label":`Product: ${N}`,"data-product-id":h}),je=F("div",{class:"card"});if(G&&Number(G)>0){let ue=Math.round(Number(G)/Number(X)*100),En=F("span",{class:"discount-badge badge bg-danger","aria-label":"Producto en oferta"},[`-${isFinite(ue)?ue:0}%`]);je.appendChild(En)}let Pe=`/${z.replace(/^\//,"")}`,Me=F("img",{src:tt(Pe,{...nt,width:400}),srcset:[`${tt(Pe,{...nt,width:200})} 200w`,`${tt(Pe,{...nt,width:400})} 400w`,`${tt(Pe,{...nt,width:800})} 800w`].join(", "),sizes:"200px",alt:N,class:"card-img-top product-thumb",loading:"lazy",fetchpriority:"auto",decoding:"async",width:"400",height:"400"});je.appendChild(Me);let Ve=F("div",{class:"card-body"});Ve.appendChild(F("h3",{class:"card-title"},[N])),Ve.appendChild(F("p",{class:"card-text"},[j])),Ve.appendChild(_(X,G));let Ie=F("div",{class:"action-area","data-pid":h}),ht=F("button",{class:"btn btn-primary add-to-cart-btn mt-2","data-id":h,"aria-label":`Add ${N} to cart`},["Agregar al carrito"]),Ce=L(b);Ie.appendChild(ht),Ie.appendChild(Ce),Ve.appendChild(Ie),u(Ie,b),je.appendChild(Ve),ae.appendChild(je),A.appendChild(ae)}),e.appendChild(A),Q(),d.length},w=d=>{if(!e)return 0;let m=e.querySelectorAll("[data-product-id]");if(!m.length)return 0;let A=new Map(d.map(h=>[h.id,h])),b=0;return m.forEach(h=>{let N=h.getAttribute("data-product-id");if(!N||!A.has(N))return;let j=A.get(N);h.classList.add(ce.contentVisible,ce.containIntrinsic);let z=h.querySelector(".action-area");u(z,j),b+=1}),b},I=()=>{e&&(e.innerHTML=""),S=0},D=()=>{let d=t?.value||"original",m=n?.value?.trim?.()||"",A=document.getElementById("filter-discount")?.checked||!1;O=le(g,m,d,A)},M=d=>{if(!Array.isArray(O)||O.length===0)return $(),!1;let m=S;if(m>=O.length)return $(),!1;let A=O.slice(m,m+d);return A.length?(E(A),S+=A.length,$(),!0):($(),!1)},K=()=>M(k||f),P=()=>M(s),$=()=>{let d=S<O.length;T&&(T.classList.toggle("d-none",!d),T.disabled=!d),q&&x&&(q.disconnect(),d&&q.observe(x))},ie=()=>{T=document.getElementById("catalog-load-more"),x=document.getElementById("catalog-sentinel"),T&&T.addEventListener("click",()=>{P()}),x&&(q=new IntersectionObserver(d=>{d.forEach(m=>{m.isIntersecting&&P()})},{rootMargin:"200px"})),$()},Q=()=>{let d=new IntersectionObserver((m,A)=>{m.forEach(b=>{if(b.isIntersecting){let h=b.target;h.src=h.dataset.src,h.dataset.srcset&&(h.srcset=h.dataset.srcset),h.dataset.sizes&&(h.sizes=h.dataset.sizes),h.classList.remove("lazyload"),A.unobserve(h)}})},{rootMargin:"100px"});document.querySelectorAll("img.lazyload").forEach(m=>d.observe(m))};function Oe(d,m){if(!d||!m||d.length<3)return!1;let A=N=>N.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),b=A(d),h=A(m);return h.includes(b)?!0:b.length>=4?ke(b,h):!1}function ke(d,m){return m.split(/\s+/).some(b=>{if(Math.abs(b.length-d.length)>1)return!1;let h=0,N=Math.max(b.length,d.length);if(Math.min(b.length,d.length)<4)return!1;if(b.length===d.length){for(let z=0;z<b.length;z++)if(b[z]!==d[z]&&h++,h>1)return!1;return h===1}else return Ae(d,b)})}function Ae(d,m){let A=d.length>m.length?d:m,b=d.length>m.length?m:d;if(A.length-b.length!==1)return!1;let h=0,N=0,j=0;for(;N<b.length&&j<A.length;)if(b[N]===A[j])N++,j++;else{if(h++,h>1)return!1;j++}return!0}let Le=(d,m,A,b=!1)=>{let h=m.trim();return d.filter(N=>!N.stock||b&&!(N.discount&&Number(N.discount)>0)?!1:!h||N.name.toLowerCase().includes(h.toLowerCase())||N.description.toLowerCase().includes(h.toLowerCase())?!0:h.length>=4?Oe(h,N.name):!1).sort((N,j)=>ye(N,j,A))},ye=(d,m,A)=>{if(!A||A==="original")return d.originalIndex-m.originalIndex;let[b,h]=A.split("-"),N=b==="price"?d.price-(d.discount||0):d.name.toLowerCase(),j=b==="price"?m.price-(m.discount||0):m.name.toLowerCase();return h==="asc"?N<j?-1:N>j?1:0:j<N?-1:j>N?1:0},le=yi(Le),ve=()=>{try{if(D(),I(),!O.length){$();return}K()}catch(d){console.error("Error al actualizar visualizaci\xF3n de productos:",d),ge("Error al actualizar la visualizaci\xF3n de productos. Por favor, intenta m\xE1s tarde.")}},Ee=vi(ve,300),ne=()=>{let d=document.getElementById("cart-count"),m=R.reduce((A,b)=>A+b.quantity,0);d.textContent=m,d.setAttribute("aria-label",`${m} items in cart`)},De=(d,m)=>{try{let A=R.find(h=>h.id===d.id);A?A.quantity=Math.min(A.quantity+m,50):R.push({id:d.id,name:d.name,description:d.description,price:d.price,discount:d.discount,image_path:d.image_path,quantity:Math.min(m,50),category:d.category,stock:d.stock}),H(),ne(),Y();let b=document.querySelector(`[data-id="${d.id}"].quantity-input`);b&&(b.value=Math.max(v(d.id),1))}catch(A){console.error("Error al agregar al carrito:",A),ge("Error al agregar el art\xEDculo al carrito. Por favor, intenta nuevamente.")}},Z=d=>{try{R=R.filter(A=>A.id!==d),H(),ne(),Y();let m=document.querySelector(`.action-area[data-pid="${d}"]`);if(m){let A=m.querySelector(".add-to-cart-btn"),b=m.querySelector(".quantity-control");U(A,b,!1)}}catch(m){console.error("Error al eliminar del carrito:",m),ge("Error al eliminar el art\xEDculo del carrito. Por favor, intenta nuevamente.")}},J=(d,m)=>{try{let A=R.find(z=>z.id===d.id),b=A?A.quantity+m:1,h=document.querySelector(`.action-area[data-pid="${d.id}"]`),N=h?.querySelector(".add-to-cart-btn"),j=h?.querySelector(".quantity-control");if(b<=0)Z(d.id),U(N,j,!1);else if(b<=50){A?A.quantity=b:(De(d,1),U(N,j,!0)),H(),ne(),Y();let z=document.querySelector(`[data-id="${d.id}"].quantity-input`);z&&(z.value=b,z.classList.add("quantity-changed"),setTimeout(()=>z.classList.remove("quantity-changed"),300))}}catch(A){console.error("Error al actualizar cantidad:",A),ge("Error al actualizar la cantidad. Por favor, intenta nuevamente.")}},C=()=>{try{R=[],H(),ne(),Y(),ve()}catch(d){console.error("Error al vaciar el carrito:",d),ge("Error al vaciar el carrito. Por favor, int\xE9ntelo de nuevo.")}},U=(d,m,A)=>{if(!d||!m)return;let b=!A;d.classList.toggle(ce.hidden,!b),d.classList.toggle(ce.flex,b),m.classList.toggle(ce.hidden,!A),m.classList.toggle(ce.flex,A)},H=()=>{try{localStorage.setItem("cart",JSON.stringify(R))}catch(d){console.error("Error al guardar el carrito:",d),ge("Error al guardar el carrito. Tus cambios podr\xEDan no persistir.")}},Y=()=>{let d=document.getElementById("cart-items"),m=document.getElementById("cart-total");d.innerHTML="";let A=0;R.forEach(h=>{let N=h.price-(h.discount||0),j=F("div",{class:"cart-item mb-3 d-flex align-items-start","aria-label":`Cart item: ${h.name}`}),z=F("div",{class:"cart-item-content flex-grow-1"});z.appendChild(F("div",{class:"fw-bold mb-1"},[h.name]));let X=F("div",{class:"mb-2"}),G=F("button",{class:"btn btn-sm btn-secondary decrease-quantity","data-id":h.id,"aria-label":`Disminuir cantidad de ${h.name}`},["-"]),W=F("button",{class:"btn btn-sm btn-secondary increase-quantity","data-id":h.id,"aria-label":`Aumentar cantidad de ${h.name}`},["+"]),V=F("span",{class:"mx-2 item-quantity","aria-label":`Cantidad de ${h.name}`},[h.quantity.toString()]);X.appendChild(G),X.appendChild(V),X.appendChild(W),z.appendChild(X),z.appendChild(F("div",{class:"text-muted small"},[`Precio: $${N.toLocaleString("es-CL")}`])),z.appendChild(F("div",{class:"fw-bold"},[`Subtotal: $${(N*h.quantity).toLocaleString("es-CL")}`]));let ae=F("button",{class:"btn btn-sm btn-danger remove-item mt-2","data-id":h.id,"aria-label":`Eliminar ${h.name} del carrito`},["Eliminar"]);z.appendChild(ae);let je=window.location.pathname.includes("/pages/"),Pe;je?Pe=`../${h.image_path.replace(/^\//,"")}`:Pe=h.image_path;let Me=F("div",{class:"cart-item-thumb ms-3 flex-shrink-0"}),Ie={src:h.thumbnail_path||Pe,alt:h.name,class:"cart-item-thumb-img",loading:"lazy",decoding:"async",width:"100",height:"100"};if(Array.isArray(h.thumbnail_variants)){let Ce=h.thumbnail_variants.filter(ue=>ue&&ue.url&&ue.width).map(ue=>`${ue.url} ${ue.width}w`);Ce.length&&(Ie.srcset=Ce.join(", "),Ie.sizes="100px")}let ht=F("img",Ie);if(Me.appendChild(ht),j.appendChild(z),j.appendChild(Me),d.appendChild(j),window.__DEBUG_CART__)try{let Ce=window.getComputedStyle(j),ue=window.getComputedStyle(Me),En=window.getComputedStyle(z),bn=Me.getBoundingClientRect(),_n=z.getBoundingClientRect();console.debug("[cart] item",{name:h.name,order:{firstIsContent:j.firstChild===z,lastIsThumb:j.lastChild===Me},container:{display:Ce.display,flexDirection:Ce.flexDirection,flexWrap:Ce.flexWrap},thumb:{width:ue.width,height:ue.height,rect:{w:bn.width,h:bn.height}},content:{rect:{w:_n.width,h:_n.height}}})}catch{}A+=N*h.quantity}),m.textContent=`Total: $${A.toLocaleString("es-CL")}`,m.setAttribute("aria-label",`Total: $${A.toLocaleString("es-CL")}`);let b=document.getElementById("payment-credit-container");if(b)if(A>=3e4)b.classList.remove("d-none");else{b.classList.add("d-none");let h=b.querySelector("input");h&&(h.checked=!1)}},be=()=>{let d=document.querySelector('input[name="paymentMethod"]:checked');if(!d){alert("Por favor seleccione un m\xE9todo de pago");return}let m=`Mi pedido:

`;R.forEach(h=>{let N=h.price-(h.discount||0);m+=`${h.name}
`,m+=`Cantidad: ${h.quantity}
`,m+=`Precio unitario: $${N.toLocaleString("es-CL")}
`,m+=`Subtotal: $${(N*h.quantity).toLocaleString("es-CL")}

`});let A=R.reduce((h,N)=>h+(N.price-(N.discount||0))*N.quantity,0);m+=`Total: $${A.toLocaleString("es-CL")}
`,m+=`M\xE9todo de pago: ${d.value}`;let b=encodeURIComponent(m);window.open(`https://wa.me/56951118901?text=${b}`,"_blank")};try{y();let d=gn();d?.products?.length&&(g=d.products.map((W,V)=>({...W,originalIndex:typeof W.originalIndex=="number"?W.originalIndex:V,categoryKey:W.categoryKey||Be(W.category)})));let A=document.querySelector("main")?.dataset?.category||"";if(A){let W=Be(A);g=g.filter(V=>(V.categoryKey||Be(V.category))===W).map((V,ae)=>({...V,originalIndex:typeof V.originalIndex=="number"?V.originalIndex:ae}))}let b=w(g);b>0?(S=b,k=b):S=0,ie(),D(),$(),S===0&&O.length&&K();let h=Si();t.addEventListener("change",()=>{B=!0,Ee()}),n.addEventListener("input",()=>{B=!0,Ee()});let N=c();N&&N.addEventListener("change",()=>{B=!0,Ee()});let j=await h;if(!Array.isArray(j)||j.length===0){if(!g.length){ge("No hay productos disponibles. Por favor, intenta m\xE1s tarde.");return}}else if(g=j.map((W,V)=>({...W,originalIndex:typeof W.originalIndex=="number"?W.originalIndex:V,categoryKey:W.categoryKey||Be(W.category)})),A){let W=Be(A);g=g.filter(V=>(V.categoryKey||Be(V.category))===W).map((V,ae)=>({...V,originalIndex:typeof V.originalIndex=="number"?V.originalIndex:ae}))}D(),B||S===0?(I(),O.length?K():$()):$(),typeof window<"u"&&(window.__APP_READY__=!0),window.addEventListener("online",p),window.addEventListener("offline",p),p();let z=document.getElementById("cart-icon"),X=document.getElementById("empty-cart"),G=document.getElementById("submit-cart");z&&z.addEventListener("click",async()=>{Y();try{await wr("#cartOffcanvas")}catch(W){console.error("Bootstrap Offcanvas no est\xE1 disponible",W);let V=document.getElementById("cartOffcanvas");V&&V.classList.add("show")}}),X&&X.addEventListener("click",C),G&&G.addEventListener("click",be),r&&r.addEventListener("click",W=>{let V=W.target,ae=V.closest("[data-id]")?.dataset.id;ae&&(V.classList.contains("decrease-quantity")?J({id:ae},-1):V.classList.contains("increase-quantity")?J({id:ae},1):V.classList.contains("remove-item")&&Z(ae))}),ne(),"performance"in window&&window.addEventListener("load",()=>{let W=performance.getEntriesByType("paint"),V=performance.getEntriesByType("navigation")[0];console.log("First Contentful Paint:",W[0].startTime),console.log("DOM Content Loaded:",V.domContentLoadedEventEnd),console.log("Load Time:",V.loadEventEnd)})}catch(d){console.error("Error al inicializar productos:",d),ge("Error al cargar productos. Por favor, int\xE9ntelo m\xE1s tarde.")}};typeof document<"u"&&document.addEventListener("DOMContentLoaded",function(){$r(),Rr().catch(e=>{console.error("Error al inicializar la aplicaci\xF3n:",e),ge("Error al inicializar la aplicaci\xF3n. Por favor, actualice la p\xE1gina.")})})});var Ti=ee(()=>{Cn();Tn();Ln();xn();Mn();qn();sn();Tr();Br();Sr();function jr(){let e=document.documentElement;try{document.querySelectorAll('link[rel="stylesheet"][media="print"][data-defer]').forEach(t=>{t.media="all",t.removeAttribute("data-defer")})}catch{}e.dataset.enhancementsInit!=="1"&&(e.dataset.enhancementsInit="1",An(),$n(),Sn(),On(),Nn(),In(),kn(),_r())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",jr):jr()});Ti();})();
/*! Bundled license information:

bootstrap/js/dist/dom/data.js:
  (*!
    * Bootstrap data.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/index.js:
  (*!
    * Bootstrap index.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/event-handler.js:
  (*!
    * Bootstrap event-handler.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/manipulator.js:
  (*!
    * Bootstrap manipulator.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/config.js:
  (*!
    * Bootstrap config.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/base-component.js:
  (*!
    * Bootstrap base-component.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/selector-engine.js:
  (*!
    * Bootstrap selector-engine.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/collapse.js:
  (*!
    * Bootstrap collapse.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dropdown.js:
  (*!
    * Bootstrap dropdown.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/backdrop.js:
  (*!
    * Bootstrap backdrop.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/component-functions.js:
  (*!
    * Bootstrap component-functions.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/focustrap.js:
  (*!
    * Bootstrap focustrap.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/scrollbar.js:
  (*!
    * Bootstrap scrollbar.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/offcanvas.js:
  (*!
    * Bootstrap offcanvas.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)
*/
