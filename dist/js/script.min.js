(()=>{var Lr=Object.create;var mn=Object.defineProperty;var Nr=Object.getOwnPropertyDescriptor;var Ir=Object.getOwnPropertyNames;var xr=Object.getPrototypeOf,kr=Object.prototype.hasOwnProperty;var we=(e,t)=>()=>(e&&(t=e(e=0)),t);var ee=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Mr=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Ir(t))!kr.call(e,r)&&r!==n&&mn(e,r,{get:()=>t[r],enumerable:!(o=Nr(t,r))||o.enumerable});return e};var pt=(e,t,n)=>(n=e!=null?Lr(xr(e)):{},Mr(t||!e||!e.__esModule?mn(n,"default",{value:e,enumerable:!0}):n,e));function gn(){try{let e=document.createElement("style");window&&window.__CSP_NONCE__&&e.setAttribute("nonce",window.__CSP_NONCE__),e.textContent=`
      /* Miniatura del carrito (mantener consistente con base/enhanced CSS) */
      .cart-item-thumb { width: 100px; height: 100px; flex-shrink: 0; }
      .cart-item-thumb img, .cart-item-thumb-img { width: 100%; height: 100%; object-fit: cover; border-radius: 0.25rem; }

      /* Contornos de enfoque claros para accesibilidad */
      .navbar .nav-link:focus,
      .navbar .dropdown-item:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
      }

      /* Espaciado entre botones en el offcanvas del carrito */
      #cartOffcanvas .offcanvas-body > .btn + .btn { margin-top: 0.5rem !important; }
    `,document.head.appendChild(e)}catch(e){console.warn("[modules/enhancements] injectEnhancementStyles error:",e)}}var yn=we(()=>{});function vn(){try{document.addEventListener("keydown",t=>{t.key==="Tab"&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")});let e=document.createElement("style");window&&window.__CSP_NONCE__&&e.setAttribute("nonce",window.__CSP_NONCE__),e.textContent=".keyboard-navigation *:focus { outline: 2px solid var(--primary-color); outline-offset: 2px; }",document.head.appendChild(e)}catch(e){console.warn("[modules/a11y] setupNavigationAccessibility error:",e)}}var bn=we(()=>{});function En(){try{"loading"in HTMLImageElement.prototype&&document.querySelectorAll("img:not([loading])").forEach(e=>{e.loading="lazy"})}catch(e){console.warn("[modules/perf] setupPerformanceOptimizations error:",e)}}var wn=we(()=>{});function $r(){try{if(typeof window>"u")return null;let e=window[Re];if(e&&Array.isArray(e.products))return e.products}catch(e){console.warn("[modules/seo] Unable to read shared product data:",e)}return null}function qr(e,t={}){if(typeof window>"u"||!Array.isArray(e))return;let n=window[Re]||{};window[Re]={...n,products:e,version:t.version??n.version??null,updatedAt:t.updatedAt||Date.now(),source:t.source||n.source||"seo"}}function _n(e=[]){let t={};return e.forEach(n=>{let o=n.id||String(n.name)+"-"+String(n.category);t[o]=n}),t}function An(){if(typeof window>"u")return;let e=window[Re]||{};e.structuredDataInjected||(window[Re]={...e,structuredDataInjected:!0})}async function Rr(){try{let e=$r();if(e)return _n(e);let t=localStorage.getItem("productDataVersion"),n=t?`/data/product_data.json?v=${encodeURIComponent(t)}`:"/data/product_data.json",o=await fetch(n,{cache:"no-store",headers:{Accept:"application/json"}});if(!o.ok)return null;let r=await o.json(),i=Array.isArray(r?.products)?r.products:Array.isArray(r)?r:[];return qr(i,{version:r?.version||t||null,source:"seo-fallback"}),_n(i)}catch(e){return console.error("[modules/seo] Error loading product data:",e),null}}async function Cn(){try{if(document.querySelector('script[type="application/ld+json"]')){An();return}if((typeof window<"u"?window[Re]:null)?.structuredDataInjected)return;let t=await Rr();if(!t)return;let o=Object.values(t).slice(0,20).map(l=>({"@type":"Product",name:l.name,image:l.image_path,description:l.description,brand:l.brand||"Gen\xE9rico",offers:{"@type":"Offer",price:l.price,priceCurrency:"CLP",availability:l.stock?"https://schema.org/InStock":"https://schema.org/OutOfStock"}})),r={"@context":"https://schema.org","@graph":[{"@type":"Store",name:"El Rinc\xF3n de \xC9bano",image:"https://elrincondeebano.com/assets/images/web/logo.webp",description:"Un minimarket en la puerta de tu departamento",address:{"@type":"PostalAddress",addressCountry:"CL"},telephone:"+56951118901",url:"http://www.elrincondeebano.com/",contactPoint:{"@type":"ContactPoint",telephone:"+56-951118901",contactType:"customer service"}},...o]},i=document.createElement("script");i.type="application/ld+json",window&&window.__CSP_NONCE__&&i.setAttribute("nonce",window.__CSP_NONCE__),i.textContent=JSON.stringify(r),document.head.appendChild(i),An()}catch(e){console.error("[modules/seo] Error generating structured data:",e)}}function Sn(){try{if(!document.querySelector('link[rel="canonical"]')){let e=document.createElement("link");e.rel="canonical",e.href=location.origin+location.pathname,document.head.appendChild(e)}if(!document.querySelector('meta[name="description"]')){let e=document.createElement("meta");e.name="description",e.content="El Rinc\xF3n de \xC9bano - Minimarket con delivery instant\xE1neo.",document.head.appendChild(e)}}catch(e){console.warn("[modules/seo] injectSeoMetadata error:",e)}}var Re,Tn=we(()=>{Re="__PRODUCT_DATA__"});function On(){try{if(!document.querySelector('link[rel="manifest"]')){let e=document.createElement("link");e.rel="manifest",e.href="/app.webmanifest",document.head.appendChild(e)}}catch(e){console.warn("[modules/pwa] injectPwaManifest error:",e)}}var Dn=we(()=>{});function Pn(){try{window?.console?.debug&&console.debug("[modules/checkout] setupCheckoutProgress: no-op")}catch{}}var Ln=we(()=>{});var Nn=ee((ht,mt)=>{(function(e,t){typeof ht=="object"&&typeof mt<"u"?mt.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Data=t())})(ht,function(){"use strict";let e=new Map;return{set(n,o,r){e.has(n)||e.set(n,new Map);let i=e.get(n);if(!i.has(o)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(o,r)},get(n,o){return e.has(n)&&e.get(n).get(o)||null},remove(n,o){if(!e.has(n))return;let r=e.get(n);r.delete(o),r.size===0&&e.delete(n)}}})});var he=ee((nt,In)=>{(function(e,t){typeof nt=="object"&&typeof In<"u"?t(nt):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.Index={}))})(nt,function(e){"use strict";let o="transitionend",r=c=>(c&&window.CSS&&window.CSS.escape&&(c=c.replace(/#([^\s"#']+)/g,(v,b)=>`#${CSS.escape(b)}`)),c),i=c=>c==null?`${c}`:Object.prototype.toString.call(c).match(/\s([a-z]+)/i)[1].toLowerCase(),l=c=>{do c+=Math.floor(Math.random()*1e6);while(document.getElementById(c));return c},a=c=>{if(!c)return 0;let{transitionDuration:v,transitionDelay:b}=window.getComputedStyle(c),w=Number.parseFloat(v),N=Number.parseFloat(b);return!w&&!N?0:(v=v.split(",")[0],b=b.split(",")[0],(Number.parseFloat(v)+Number.parseFloat(b))*1e3)},d=c=>{c.dispatchEvent(new Event(o))},f=c=>!c||typeof c!="object"?!1:(typeof c.jquery<"u"&&(c=c[0]),typeof c.nodeType<"u"),s=c=>f(c)?c.jquery?c[0]:c:typeof c=="string"&&c.length>0?document.querySelector(r(c)):null,g=c=>{if(!f(c)||c.getClientRects().length===0)return!1;let v=getComputedStyle(c).getPropertyValue("visibility")==="visible",b=c.closest("details:not([open])");if(!b)return v;if(b!==c){let w=c.closest("summary");if(w&&w.parentNode!==b||w===null)return!1}return v},O=c=>!c||c.nodeType!==Node.ELEMENT_NODE||c.classList.contains("disabled")?!0:typeof c.disabled<"u"?c.disabled:c.hasAttribute("disabled")&&c.getAttribute("disabled")!=="false",S=c=>{if(!document.documentElement.attachShadow)return null;if(typeof c.getRootNode=="function"){let v=c.getRootNode();return v instanceof ShadowRoot?v:null}return c instanceof ShadowRoot?c:c.parentNode?S(c.parentNode):null},k=()=>{},T=c=>{c.offsetHeight},x=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,q=[],j=c=>{document.readyState==="loading"?(q.length||document.addEventListener("DOMContentLoaded",()=>{for(let v of q)v()}),q.push(c)):c()},R=()=>document.documentElement.dir==="rtl",p=c=>{j(()=>{let v=x();if(v){let b=c.NAME,w=v.fn[b];v.fn[b]=c.jQueryInterface,v.fn[b].Constructor=c,v.fn[b].noConflict=()=>(v.fn[b]=w,c.jQueryInterface)}})},y=(c,v=[],b=c)=>typeof c=="function"?c.call(...v):b,E=(c,v,b=!0)=>{if(!b){y(c);return}let N=a(v)+5,P=!1,M=({target:F})=>{F===v&&(P=!0,v.removeEventListener(o,M),y(c))};v.addEventListener(o,M),setTimeout(()=>{P||d(v)},N)},D=(c,v,b,w)=>{let N=c.length,P=c.indexOf(v);return P===-1?!b&&w?c[N-1]:c[0]:(P+=b?1:-1,w&&(P=(P+N)%N),c[Math.max(0,Math.min(P,N-1))])};e.defineJQueryPlugin=p,e.execute=y,e.executeAfterTransition=E,e.findShadowRoot=S,e.getElement=s,e.getNextActiveElement=D,e.getTransitionDurationFromElement=a,e.getUID=l,e.getjQuery=x,e.isDisabled=O,e.isElement=f,e.isRTL=R,e.isVisible=g,e.noop=k,e.onDOMContentLoaded=j,e.parseSelector=r,e.reflow=T,e.toType=i,e.triggerTransitionEnd=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})});var Le=ee((gt,yt)=>{(function(e,t){typeof gt=="object"&&typeof yt<"u"?yt.exports=t(he()):typeof define=="function"&&define.amd?define(["../util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.EventHandler=t(e.Index))})(gt,function(e){"use strict";let t=/[^.]*(?=\..*)\.|.*/,n=/\..*/,o=/::\d+$/,r={},i=1,l={mouseenter:"mouseover",mouseleave:"mouseout"},a=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function d(p,y){return y&&`${y}::${i++}`||p.uidEvent||i++}function f(p){let y=d(p);return p.uidEvent=y,r[y]=r[y]||{},r[y]}function s(p,y){return function E(D){return R(D,{delegateTarget:p}),E.oneOff&&j.off(p,D.type,y),y.apply(p,[D])}}function g(p,y,E){return function D(c){let v=p.querySelectorAll(y);for(let{target:b}=c;b&&b!==this;b=b.parentNode)for(let w of v)if(w===b)return R(c,{delegateTarget:b}),D.oneOff&&j.off(p,c.type,y,E),E.apply(b,[c])}}function O(p,y,E=null){return Object.values(p).find(D=>D.callable===y&&D.delegationSelector===E)}function S(p,y,E){let D=typeof y=="string",c=D?E:y||E,v=q(p);return a.has(v)||(v=p),[D,c,v]}function k(p,y,E,D,c){if(typeof y!="string"||!p)return;let[v,b,w]=S(y,E,D);y in l&&(b=(ae=>function(G){if(!G.relatedTarget||G.relatedTarget!==G.delegateTarget&&!G.delegateTarget.contains(G.relatedTarget))return ae.call(this,G)})(b));let N=f(p),P=N[w]||(N[w]={}),M=O(P,b,v?E:null);if(M){M.oneOff=M.oneOff&&c;return}let F=d(b,y.replace(t,"")),L=v?g(p,E,b):s(p,b);L.delegationSelector=v?E:null,L.callable=b,L.oneOff=c,L.uidEvent=F,P[F]=L,p.addEventListener(w,L,v)}function T(p,y,E,D,c){let v=O(y[E],D,c);v&&(p.removeEventListener(E,v,!!c),delete y[E][v.uidEvent])}function x(p,y,E,D){let c=y[E]||{};for(let[v,b]of Object.entries(c))v.includes(D)&&T(p,y,E,b.callable,b.delegationSelector)}function q(p){return p=p.replace(n,""),l[p]||p}let j={on(p,y,E,D){k(p,y,E,D,!1)},one(p,y,E,D){k(p,y,E,D,!0)},off(p,y,E,D){if(typeof y!="string"||!p)return;let[c,v,b]=S(y,E,D),w=b!==y,N=f(p),P=N[b]||{},M=y.startsWith(".");if(typeof v<"u"){if(!Object.keys(P).length)return;T(p,N,b,v,c?E:null);return}if(M)for(let F of Object.keys(N))x(p,N,F,y.slice(1));for(let[F,L]of Object.entries(P)){let $=F.replace(o,"");(!w||y.includes($))&&T(p,N,b,L.callable,L.delegationSelector)}},trigger(p,y,E){if(typeof y!="string"||!p)return null;let D=e.getjQuery(),c=q(y),v=y!==c,b=null,w=!0,N=!0,P=!1;v&&D&&(b=D.Event(y,E),D(p).trigger(b),w=!b.isPropagationStopped(),N=!b.isImmediatePropagationStopped(),P=b.isDefaultPrevented());let M=R(new Event(y,{bubbles:w,cancelable:!0}),E);return P&&M.preventDefault(),N&&p.dispatchEvent(M),M.defaultPrevented&&b&&b.preventDefault(),M}};function R(p,y={}){for(let[E,D]of Object.entries(y))try{p[E]=D}catch{Object.defineProperty(p,E,{configurable:!0,get(){return D}})}return p}return j})});var rt=ee((vt,bt)=>{(function(e,t){typeof vt=="object"&&typeof bt<"u"?bt.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Manipulator=t())})(vt,function(){"use strict";function e(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function t(o){return o.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}return{setDataAttribute(o,r,i){o.setAttribute(`data-bs-${t(r)}`,i)},removeDataAttribute(o,r){o.removeAttribute(`data-bs-${t(r)}`)},getDataAttributes(o){if(!o)return{};let r={},i=Object.keys(o.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(let l of i){let a=l.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1),r[a]=e(o.dataset[l])}return r},getDataAttribute(o,r){return e(o.getAttribute(`data-bs-${t(r)}`))}}})});var ot=ee((Et,wt)=>{(function(e,t){typeof Et=="object"&&typeof wt<"u"?wt.exports=t(rt(),he()):typeof define=="function"&&define.amd?define(["../dom/manipulator","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Config=t(e.Manipulator,e.Index))})(Et,function(e,t){"use strict";class n{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,i){let l=t.isElement(i)?e.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof l=="object"?l:{},...t.isElement(i)?e.getDataAttributes(i):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,i=this.constructor.DefaultType){for(let[l,a]of Object.entries(i)){let d=r[l],f=t.isElement(d)?"element":t.toType(d);if(!new RegExp(a).test(f))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${l}" provided type "${f}" but expected type "${a}".`)}}}return n})});var it=ee((_t,At)=>{(function(e,t){typeof _t=="object"&&typeof At<"u"?At.exports=t(Nn(),Le(),ot(),he()):typeof define=="function"&&define.amd?define(["./dom/data","./dom/event-handler","./util/config","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.BaseComponent=t(e.Data,e.EventHandler,e.Config,e.Index))})(_t,function(e,t,n,o){"use strict";let r="5.3.8";class i extends n{constructor(a,d){super(),a=o.getElement(a),a&&(this._element=a,this._config=this._getConfig(d),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),t.off(this._element,this.constructor.EVENT_KEY);for(let a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,d,f=!0){o.executeAfterTransition(a,d,f)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return e.get(o.getElement(a),this.DATA_KEY)}static getOrCreateInstance(a,d={}){return this.getInstance(a)||new this(a,typeof d=="object"?d:null)}static get VERSION(){return r}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}return i})});var xe=ee((Ct,St)=>{(function(e,t){typeof Ct=="object"&&typeof St<"u"?St.exports=t(he()):typeof define=="function"&&define.amd?define(["../util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.SelectorEngine=t(e.Index))})(Ct,function(e){"use strict";let t=o=>{let r=o.getAttribute("data-bs-target");if(!r||r==="#"){let i=o.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),r=i&&i!=="#"?i.trim():null}return r?r.split(",").map(i=>e.parseSelector(i)).join(","):null},n={find(o,r=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(r,o))},findOne(o,r=document.documentElement){return Element.prototype.querySelector.call(r,o)},children(o,r){return[].concat(...o.children).filter(i=>i.matches(r))},parents(o,r){let i=[],l=o.parentNode.closest(r);for(;l;)i.push(l),l=l.parentNode.closest(r);return i},prev(o,r){let i=o.previousElementSibling;for(;i;){if(i.matches(r))return[i];i=i.previousElementSibling}return[]},next(o,r){let i=o.nextElementSibling;for(;i;){if(i.matches(r))return[i];i=i.nextElementSibling}return[]},focusableChildren(o){let r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(r,o).filter(i=>!e.isDisabled(i)&&e.isVisible(i))},getSelectorFromElement(o){let r=t(o);return r&&n.findOne(r)?r:null},getElementFromSelector(o){let r=t(o);return r?n.findOne(r):null},getMultipleElementsFromSelector(o){let r=t(o);return r?n.find(r):[]}};return n})});var xn=ee((Tt,Ot)=>{(function(e,t){typeof Tt=="object"&&typeof Ot<"u"?Ot.exports=t(it(),Le(),xe(),he()):typeof define=="function"&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Collapse=t(e.BaseComponent,e.EventHandler,e.SelectorEngine,e.Index))})(Tt,function(e,t,n,o){"use strict";let r="collapse",l=".bs.collapse",a=".data-api",d=`show${l}`,f=`shown${l}`,s=`hide${l}`,g=`hidden${l}`,O=`click${l}${a}`,S="show",k="collapse",T="collapsing",x="collapsed",q=`:scope .${k} .${k}`,j="collapse-horizontal",R="width",p="height",y=".collapse.show, .collapse.collapsing",E='[data-bs-toggle="collapse"]',D={parent:null,toggle:!0},c={parent:"(null|element)",toggle:"boolean"};class v extends e{constructor(w,N){super(w,N),this._isTransitioning=!1,this._triggerArray=[];let P=n.find(E);for(let M of P){let F=n.getSelectorFromElement(M),L=n.find(F).filter($=>$===this._element);F!==null&&L.length&&this._triggerArray.push(M)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return D}static get DefaultType(){return c}static get NAME(){return r}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let w=[];if(this._config.parent&&(w=this._getFirstLevelChildren(y).filter($=>$!==this._element).map($=>v.getOrCreateInstance($,{toggle:!1}))),w.length&&w[0]._isTransitioning||t.trigger(this._element,d).defaultPrevented)return;for(let $ of w)$.hide();let P=this._getDimension();this._element.classList.remove(k),this._element.classList.add(T),this._element.style[P]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let M=()=>{this._isTransitioning=!1,this._element.classList.remove(T),this._element.classList.add(k,S),this._element.style[P]="",t.trigger(this._element,f)},L=`scroll${P[0].toUpperCase()+P.slice(1)}`;this._queueCallback(M,this._element,!0),this._element.style[P]=`${this._element[L]}px`}hide(){if(this._isTransitioning||!this._isShown()||t.trigger(this._element,s).defaultPrevented)return;let N=this._getDimension();this._element.style[N]=`${this._element.getBoundingClientRect()[N]}px`,o.reflow(this._element),this._element.classList.add(T),this._element.classList.remove(k,S);for(let M of this._triggerArray){let F=n.getElementFromSelector(M);F&&!this._isShown(F)&&this._addAriaAndCollapsedClass([M],!1)}this._isTransitioning=!0;let P=()=>{this._isTransitioning=!1,this._element.classList.remove(T),this._element.classList.add(k),t.trigger(this._element,g)};this._element.style[N]="",this._queueCallback(P,this._element,!0)}_isShown(w=this._element){return w.classList.contains(S)}_configAfterMerge(w){return w.toggle=!!w.toggle,w.parent=o.getElement(w.parent),w}_getDimension(){return this._element.classList.contains(j)?R:p}_initializeChildren(){if(!this._config.parent)return;let w=this._getFirstLevelChildren(E);for(let N of w){let P=n.getElementFromSelector(N);P&&this._addAriaAndCollapsedClass([N],this._isShown(P))}}_getFirstLevelChildren(w){let N=n.find(q,this._config.parent);return n.find(w,this._config.parent).filter(P=>!N.includes(P))}_addAriaAndCollapsedClass(w,N){if(w.length)for(let P of w)P.classList.toggle(x,!N),P.setAttribute("aria-expanded",N)}static jQueryInterface(w){let N={};return typeof w=="string"&&/show|hide/.test(w)&&(N.toggle=!1),this.each(function(){let P=v.getOrCreateInstance(this,N);if(typeof w=="string"){if(typeof P[w]>"u")throw new TypeError(`No method named "${w}"`);P[w]()}})}}return t.on(document,O,E,function(b){(b.target.tagName==="A"||b.delegateTarget&&b.delegateTarget.tagName==="A")&&b.preventDefault();for(let w of n.getMultipleElementsFromSelector(this))v.getOrCreateInstance(w,{toggle:!1}).toggle()}),o.defineJQueryPlugin(v),v})});var or=ee(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});function se(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Me(e){var t=se(e).Element;return e instanceof t||e instanceof Element}function le(e){var t=se(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Lt(e){if(typeof ShadowRoot>"u")return!1;var t=se(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var ke=Math.max,ct=Math.min,Be=Math.round;function Dt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function zn(){return!/^((?!chrome|android).)*safari/i.test(Dt())}function je(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=e.getBoundingClientRect(),r=1,i=1;t&&le(e)&&(r=e.offsetWidth>0&&Be(o.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Be(o.height)/e.offsetHeight||1);var l=Me(e)?se(e):window,a=l.visualViewport,d=!zn()&&n,f=(o.left+(d&&a?a.offsetLeft:0))/r,s=(o.top+(d&&a?a.offsetTop:0))/i,g=o.width/r,O=o.height/i;return{width:g,height:O,top:s,right:f+g,bottom:s+O,left:f,x:f,y:s}}function Nt(e){var t=se(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Br(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function jr(e){return e===se(e)||!le(e)?Nt(e):Br(e)}function Ae(e){return e?(e.nodeName||"").toLowerCase():null}function Ne(e){return((Me(e)?e.ownerDocument:e.document)||window.document).documentElement}function It(e){return je(Ne(e)).left+Nt(e).scrollLeft}function Se(e){return se(e).getComputedStyle(e)}function xt(e){var t=Se(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function Vr(e){var t=e.getBoundingClientRect(),n=Be(t.width)/e.offsetWidth||1,o=Be(t.height)/e.offsetHeight||1;return n!==1||o!==1}function Wr(e,t,n){n===void 0&&(n=!1);var o=le(t),r=le(t)&&Vr(t),i=Ne(t),l=je(e,r,n),a={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!n)&&((Ae(t)!=="body"||xt(i))&&(a=jr(t)),le(t)?(d=je(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=It(i))),{x:l.left+a.scrollLeft-d.x,y:l.top+a.scrollTop-d.y,width:l.width,height:l.height}}function kt(e){var t=je(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function lt(e){return Ae(e)==="html"?e:e.assignedSlot||e.parentNode||(Lt(e)?e.host:null)||Ne(e)}function Fn(e){return["html","body","#document"].indexOf(Ae(e))>=0?e.ownerDocument.body:le(e)&&xt(e)?e:Fn(lt(e))}function Ye(e,t){var n;t===void 0&&(t=[]);var o=Fn(e),r=o===((n=e.ownerDocument)==null?void 0:n.body),i=se(o),l=r?[i].concat(i.visualViewport||[],xt(o)?o:[]):o,a=t.concat(l);return r?a:a.concat(Ye(lt(l)))}function zr(e){return["table","td","th"].indexOf(Ae(e))>=0}function kn(e){return!le(e)||Se(e).position==="fixed"?null:e.offsetParent}function Fr(e){var t=/firefox/i.test(Dt()),n=/Trident/i.test(Dt());if(n&&le(e)){var o=Se(e);if(o.position==="fixed")return null}var r=lt(e);for(Lt(r)&&(r=r.host);le(r)&&["html","body"].indexOf(Ae(r))<0;){var i=Se(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Je(e){for(var t=se(e),n=kn(e);n&&zr(n)&&Se(n).position==="static";)n=kn(n);return n&&(Ae(n)==="html"||Ae(n)==="body"&&Se(n).position==="static")?t:n||Fr(e)||t}var oe="top",ue="bottom",de="right",ie="left",Mt="auto",Xe=[oe,ue,de,ie],Ve="start",Ge="end",Kr="clippingParents",Kn="viewport",He="popper",Ur="reference",Mn=Xe.reduce(function(e,t){return e.concat([t+"-"+Ve,t+"-"+Ge])},[]),Un=[].concat(Xe,[Mt]).reduce(function(e,t){return e.concat([t,t+"-"+Ve,t+"-"+Ge])},[]),Hr="beforeRead",Yr="read",Qr="afterRead",Gr="beforeMain",Jr="main",Xr="afterMain",Zr="beforeWrite",eo="write",to="afterWrite",no=[Hr,Yr,Qr,Gr,Jr,Xr,Zr,eo,to];function ro(e){var t=new Map,n=new Set,o=[];e.forEach(function(i){t.set(i.name,i)});function r(i){n.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(a){if(!n.has(a)){var d=t.get(a);d&&r(d)}}),o.push(i)}return e.forEach(function(i){n.has(i.name)||r(i)}),o}function oo(e){var t=ro(e);return no.reduce(function(n,o){return n.concat(t.filter(function(r){return r.phase===o}))},[])}function io(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ao(e){var t=e.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}function so(e,t){var n=se(e),o=Ne(e),r=n.visualViewport,i=o.clientWidth,l=o.clientHeight,a=0,d=0;if(r){i=r.width,l=r.height;var f=zn();(f||!f&&t==="fixed")&&(a=r.offsetLeft,d=r.offsetTop)}return{width:i,height:l,x:a+It(e),y:d}}function co(e){var t,n=Ne(e),o=Nt(e),r=(t=e.ownerDocument)==null?void 0:t.body,i=ke(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=ke(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-o.scrollLeft+It(e),d=-o.scrollTop;return Se(r||n).direction==="rtl"&&(a+=ke(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:l,x:a,y:d}}function Hn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Lt(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Pt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function lo(e,t){var n=je(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function $n(e,t,n){return t===Kn?Pt(so(e,n)):Me(t)?lo(t,n):Pt(co(Ne(e)))}function uo(e){var t=Ye(lt(e)),n=["absolute","fixed"].indexOf(Se(e).position)>=0,o=n&&le(e)?Je(e):e;return Me(o)?t.filter(function(r){return Me(r)&&Hn(r,o)&&Ae(r)!=="body"}):[]}function fo(e,t,n,o){var r=t==="clippingParents"?uo(e):[].concat(t),i=[].concat(r,[n]),l=i[0],a=i.reduce(function(d,f){var s=$n(e,f,o);return d.top=ke(s.top,d.top),d.right=ct(s.right,d.right),d.bottom=ct(s.bottom,d.bottom),d.left=ke(s.left,d.left),d},$n(e,l,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function _e(e){return e.split("-")[0]}function We(e){return e.split("-")[1]}function $t(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Yn(e){var t=e.reference,n=e.element,o=e.placement,r=o?_e(o):null,i=o?We(o):null,l=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,d;switch(r){case oe:d={x:l,y:t.y-n.height};break;case ue:d={x:l,y:t.y+t.height};break;case de:d={x:t.x+t.width,y:a};break;case ie:d={x:t.x-n.width,y:a};break;default:d={x:t.x,y:t.y}}var f=r?$t(r):null;if(f!=null){var s=f==="y"?"height":"width";switch(i){case Ve:d[f]=d[f]-(t[s]/2-n[s]/2);break;case Ge:d[f]=d[f]+(t[s]/2-n[s]/2);break}}return d}function Qn(){return{top:0,right:0,bottom:0,left:0}}function Gn(e){return Object.assign({},Qn(),e)}function Jn(e,t){return t.reduce(function(n,o){return n[o]=e,n},{})}function ze(e,t){t===void 0&&(t={});var n=t,o=n.placement,r=o===void 0?e.placement:o,i=n.strategy,l=i===void 0?e.strategy:i,a=n.boundary,d=a===void 0?Kr:a,f=n.rootBoundary,s=f===void 0?Kn:f,g=n.elementContext,O=g===void 0?He:g,S=n.altBoundary,k=S===void 0?!1:S,T=n.padding,x=T===void 0?0:T,q=Gn(typeof x!="number"?x:Jn(x,Xe)),j=O===He?Ur:He,R=e.rects.popper,p=e.elements[k?j:O],y=fo(Me(p)?p:p.contextElement||Ne(e.elements.popper),d,s,l),E=je(e.elements.reference),D=Yn({reference:E,element:R,strategy:"absolute",placement:r}),c=Pt(Object.assign({},R,D)),v=O===He?c:E,b={top:y.top-v.top+q.top,bottom:v.bottom-y.bottom+q.bottom,left:y.left-v.left+q.left,right:v.right-y.right+q.right},w=e.modifiersData.offset;if(O===He&&w){var N=w[r];Object.keys(b).forEach(function(P){var M=[de,ue].indexOf(P)>=0?1:-1,F=[oe,ue].indexOf(P)>=0?"y":"x";b[P]+=N[F]*M})}return b}var qn={placement:"bottom",modifiers:[],strategy:"absolute"};function Rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function qt(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,r=t.defaultOptions,i=r===void 0?qn:r;return function(a,d,f){f===void 0&&(f=i);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},qn,i),modifiersData:{},elements:{reference:a,popper:d},attributes:{},styles:{}},g=[],O=!1,S={state:s,setOptions:function(q){var j=typeof q=="function"?q(s.options):q;T(),s.options=Object.assign({},i,s.options,j),s.scrollParents={reference:Me(a)?Ye(a):a.contextElement?Ye(a.contextElement):[],popper:Ye(d)};var R=oo(ao([].concat(o,s.options.modifiers)));return s.orderedModifiers=R.filter(function(p){return p.enabled}),k(),S.update()},forceUpdate:function(){if(!O){var q=s.elements,j=q.reference,R=q.popper;if(Rn(j,R)){s.rects={reference:Wr(j,Je(R),s.options.strategy==="fixed"),popper:kt(R)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(b){return s.modifiersData[b.name]=Object.assign({},b.data)});for(var p=0;p<s.orderedModifiers.length;p++){if(s.reset===!0){s.reset=!1,p=-1;continue}var y=s.orderedModifiers[p],E=y.fn,D=y.options,c=D===void 0?{}:D,v=y.name;typeof E=="function"&&(s=E({state:s,options:c,name:v,instance:S})||s)}}}},update:io(function(){return new Promise(function(x){S.forceUpdate(),x(s)})}),destroy:function(){T(),O=!0}};if(!Rn(a,d))return S;S.setOptions(f).then(function(x){!O&&f.onFirstUpdate&&f.onFirstUpdate(x)});function k(){s.orderedModifiers.forEach(function(x){var q=x.name,j=x.options,R=j===void 0?{}:j,p=x.effect;if(typeof p=="function"){var y=p({state:s,name:q,instance:S,options:R}),E=function(){};g.push(y||E)}})}function T(){g.forEach(function(x){return x()}),g=[]}return S}}var at={passive:!0};function po(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,i=r===void 0?!0:r,l=o.resize,a=l===void 0?!0:l,d=se(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&f.forEach(function(s){s.addEventListener("scroll",n.update,at)}),a&&d.addEventListener("resize",n.update,at),function(){i&&f.forEach(function(s){s.removeEventListener("scroll",n.update,at)}),a&&d.removeEventListener("resize",n.update,at)}}var Rt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:po,data:{}};function ho(e){var t=e.state,n=e.name;t.modifiersData[n]=Yn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Bt={name:"popperOffsets",enabled:!0,phase:"read",fn:ho,data:{}},mo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function go(e,t){var n=e.x,o=e.y,r=t.devicePixelRatio||1;return{x:Be(n*r)/r||0,y:Be(o*r)/r||0}}function Bn(e){var t,n=e.popper,o=e.popperRect,r=e.placement,i=e.variation,l=e.offsets,a=e.position,d=e.gpuAcceleration,f=e.adaptive,s=e.roundOffsets,g=e.isFixed,O=l.x,S=O===void 0?0:O,k=l.y,T=k===void 0?0:k,x=typeof s=="function"?s({x:S,y:T}):{x:S,y:T};S=x.x,T=x.y;var q=l.hasOwnProperty("x"),j=l.hasOwnProperty("y"),R=ie,p=oe,y=window;if(f){var E=Je(n),D="clientHeight",c="clientWidth";if(E===se(n)&&(E=Ne(n),Se(E).position!=="static"&&a==="absolute"&&(D="scrollHeight",c="scrollWidth")),E=E,r===oe||(r===ie||r===de)&&i===Ge){p=ue;var v=g&&E===y&&y.visualViewport?y.visualViewport.height:E[D];T-=v-o.height,T*=d?1:-1}if(r===ie||(r===oe||r===ue)&&i===Ge){R=de;var b=g&&E===y&&y.visualViewport?y.visualViewport.width:E[c];S-=b-o.width,S*=d?1:-1}}var w=Object.assign({position:a},f&&mo),N=s===!0?go({x:S,y:T},se(n)):{x:S,y:T};if(S=N.x,T=N.y,d){var P;return Object.assign({},w,(P={},P[p]=j?"0":"",P[R]=q?"0":"",P.transform=(y.devicePixelRatio||1)<=1?"translate("+S+"px, "+T+"px)":"translate3d("+S+"px, "+T+"px, 0)",P))}return Object.assign({},w,(t={},t[p]=j?T+"px":"",t[R]=q?S+"px":"",t.transform="",t))}function yo(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=o===void 0?!0:o,i=n.adaptive,l=i===void 0?!0:i,a=n.roundOffsets,d=a===void 0?!0:a,f={placement:_e(t.placement),variation:We(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Bn(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Bn(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var jt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yo,data:{}};function vo(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},r=t.attributes[n]||{},i=t.elements[n];!le(i)||!Ae(i)||(Object.assign(i.style,o),Object.keys(r).forEach(function(l){var a=r[l];a===!1?i.removeAttribute(l):i.setAttribute(l,a===!0?"":a)}))})}function bo(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var r=t.elements[o],i=t.attributes[o]||{},l=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),a=l.reduce(function(d,f){return d[f]="",d},{});!le(r)||!Ae(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(d){r.removeAttribute(d)}))})}}var Vt={name:"applyStyles",enabled:!0,phase:"write",fn:vo,effect:bo,requires:["computeStyles"]};function Eo(e,t,n){var o=_e(e),r=[ie,oe].indexOf(o)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=i[0],a=i[1];return l=l||0,a=(a||0)*r,[ie,de].indexOf(o)>=0?{x:a,y:l}:{x:l,y:a}}function wo(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=r===void 0?[0,0]:r,l=Un.reduce(function(s,g){return s[g]=Eo(g,t.rects,i),s},{}),a=l[t.placement],d=a.x,f=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=f),t.modifiersData[o]=l}var Xn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wo},_o={left:"right",right:"left",bottom:"top",top:"bottom"};function st(e){return e.replace(/left|right|bottom|top/g,function(t){return _o[t]})}var Ao={start:"end",end:"start"};function jn(e){return e.replace(/start|end/g,function(t){return Ao[t]})}function Co(e,t){t===void 0&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,l=n.padding,a=n.flipVariations,d=n.allowedAutoPlacements,f=d===void 0?Un:d,s=We(o),g=s?a?Mn:Mn.filter(function(k){return We(k)===s}):Xe,O=g.filter(function(k){return f.indexOf(k)>=0});O.length===0&&(O=g);var S=O.reduce(function(k,T){return k[T]=ze(e,{placement:T,boundary:r,rootBoundary:i,padding:l})[_e(T)],k},{});return Object.keys(S).sort(function(k,T){return S[k]-S[T]})}function So(e){if(_e(e)===Mt)return[];var t=st(e);return[jn(e),t,jn(t)]}function To(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,l=n.altAxis,a=l===void 0?!0:l,d=n.fallbackPlacements,f=n.padding,s=n.boundary,g=n.rootBoundary,O=n.altBoundary,S=n.flipVariations,k=S===void 0?!0:S,T=n.allowedAutoPlacements,x=t.options.placement,q=_e(x),j=q===x,R=d||(j||!k?[st(x)]:So(x)),p=[x].concat(R).reduce(function(ge,ce){return ge.concat(_e(ce)===Mt?Co(t,{placement:ce,boundary:s,rootBoundary:g,padding:f,flipVariations:k,allowedAutoPlacements:T}):ce)},[]),y=t.rects.reference,E=t.rects.popper,D=new Map,c=!0,v=p[0],b=0;b<p.length;b++){var w=p[b],N=_e(w),P=We(w)===Ve,M=[oe,ue].indexOf(N)>=0,F=M?"width":"height",L=ze(t,{placement:w,boundary:s,rootBoundary:g,altBoundary:O,padding:f}),$=M?P?de:ie:P?ue:oe;y[F]>E[F]&&($=st($));var ae=st($),G=[];if(i&&G.push(L[N]<=0),a&&G.push(L[$]<=0,L[ae]<=0),G.every(function(ge){return ge})){v=w,c=!1;break}D.set(w,G)}if(c)for(var Oe=k?3:1,Ie=function(ce){var ye=p.find(function(ve){var ne=D.get(ve);if(ne)return ne.slice(0,ce).every(function(Pe){return Pe})});if(ye)return v=ye,"break"},Ce=Oe;Ce>0;Ce--){var De=Ie(Ce);if(De==="break")break}t.placement!==v&&(t.modifiersData[o]._skip=!0,t.placement=v,t.reset=!0)}}var Zn={name:"flip",enabled:!0,phase:"main",fn:To,requiresIfExists:["offset"],data:{_skip:!1}};function Oo(e){return e==="x"?"y":"x"}function Qe(e,t,n){return ke(e,ct(t,n))}function Do(e,t,n){var o=Qe(e,t,n);return o>n?n:o}function Po(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=r===void 0?!0:r,l=n.altAxis,a=l===void 0?!1:l,d=n.boundary,f=n.rootBoundary,s=n.altBoundary,g=n.padding,O=n.tether,S=O===void 0?!0:O,k=n.tetherOffset,T=k===void 0?0:k,x=ze(t,{boundary:d,rootBoundary:f,padding:g,altBoundary:s}),q=_e(t.placement),j=We(t.placement),R=!j,p=$t(q),y=Oo(p),E=t.modifiersData.popperOffsets,D=t.rects.reference,c=t.rects.popper,v=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,b=typeof v=="number"?{mainAxis:v,altAxis:v}:Object.assign({mainAxis:0,altAxis:0},v),w=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(E){if(i){var P,M=p==="y"?oe:ie,F=p==="y"?ue:de,L=p==="y"?"height":"width",$=E[p],ae=$+x[M],G=$-x[F],Oe=S?-c[L]/2:0,Ie=j===Ve?D[L]:c[L],Ce=j===Ve?-c[L]:-D[L],De=t.elements.arrow,ge=S&&De?kt(De):{width:0,height:0},ce=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Qn(),ye=ce[M],ve=ce[F],ne=Qe(0,D[L],ge[L]),Pe=R?D[L]/2-Oe-ne-ye-b.mainAxis:Ie-ne-ye-b.mainAxis,Z=R?-D[L]/2+Oe+ne+ve+b.mainAxis:Ce+ne+ve+b.mainAxis,J=t.elements.arrow&&Je(t.elements.arrow),C=J?p==="y"?J.clientTop||0:J.clientLeft||0:0,K=(P=w?.[p])!=null?P:0,H=$+Pe-K-C,Y=$+Z-K,be=Qe(S?ct(ae,H):ae,$,S?ke(G,Y):G);E[p]=be,N[p]=be-$}if(a){var u,m=p==="x"?oe:ie,A=p==="x"?ue:de,_=E[y],h=y==="y"?"height":"width",I=_+x[m],V=_-x[A],z=[oe,ie].indexOf(q)!==-1,X=(u=w?.[y])!=null?u:0,Q=z?I:_-D[h]-c[h]-X+b.altAxis,U=z?_+D[h]+c[h]-X-b.altAxis:V,B=S&&z?Do(Q,_,U):Qe(S?Q:I,_,S?U:V);E[y]=B,N[y]=B-_}t.modifiersData[o]=N}}var er={name:"preventOverflow",enabled:!0,phase:"main",fn:Po,requiresIfExists:["offset"]},Lo=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Gn(typeof t!="number"?t:Jn(t,Xe))};function No(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,a=_e(n.placement),d=$t(a),f=[ie,de].indexOf(a)>=0,s=f?"height":"width";if(!(!i||!l)){var g=Lo(r.padding,n),O=kt(i),S=d==="y"?oe:ie,k=d==="y"?ue:de,T=n.rects.reference[s]+n.rects.reference[d]-l[d]-n.rects.popper[s],x=l[d]-n.rects.reference[d],q=Je(i),j=q?d==="y"?q.clientHeight||0:q.clientWidth||0:0,R=T/2-x/2,p=g[S],y=j-O[s]-g[k],E=j/2-O[s]/2+R,D=Qe(p,E,y),c=d;n.modifiersData[o]=(t={},t[c]=D,t.centerOffset=D-E,t)}}function Io(e){var t=e.state,n=e.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Hn(t.elements.popper,r)&&(t.elements.arrow=r))}var tr={name:"arrow",enabled:!0,phase:"main",fn:No,effect:Io,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vn(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Wn(e){return[oe,de,ue,ie].some(function(t){return e[t]>=0})}function xo(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,l=ze(t,{elementContext:"reference"}),a=ze(t,{altBoundary:!0}),d=Vn(l,o),f=Vn(a,r,i),s=Wn(d),g=Wn(f);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:s,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":s,"data-popper-escaped":g})}var nr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xo},ko=[Rt,Bt,jt,Vt],Mo=qt({defaultModifiers:ko}),rr=[Rt,Bt,jt,Vt,Xn,Zn,er,tr,nr],$o=qt({defaultModifiers:rr});te.applyStyles=Vt;te.arrow=tr;te.computeStyles=jt;te.createPopper=$o;te.createPopperLite=Mo;te.defaultModifiers=rr;te.detectOverflow=ze;te.eventListeners=Rt;te.flip=Zn;te.hide=nr;te.offset=Xn;te.popperGenerator=qt;te.popperOffsets=Bt;te.preventOverflow=er});var ir=ee((Wt,zt)=>{(function(e,t){typeof Wt=="object"&&typeof zt<"u"?zt.exports=t(or(),it(),Le(),rt(),xe(),he()):typeof define=="function"&&define.amd?define(["@popperjs/core","./base-component","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./util/index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Dropdown=t(e["@popperjs/core"],e.BaseComponent,e.EventHandler,e.Manipulator,e.SelectorEngine,e.Index))})(Wt,function(e,t,n,o,r,i){"use strict";function l(J){let C=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(J){for(let K in J)if(K!=="default"){let H=Object.getOwnPropertyDescriptor(J,K);Object.defineProperty(C,K,H.get?H:{enumerable:!0,get:()=>J[K]})}}return C.default=J,Object.freeze(C)}let a=l(e),d="dropdown",s=".bs.dropdown",g=".data-api",O="Escape",S="Tab",k="ArrowUp",T="ArrowDown",x=2,q=`hide${s}`,j=`hidden${s}`,R=`show${s}`,p=`shown${s}`,y=`click${s}${g}`,E=`keydown${s}${g}`,D=`keyup${s}${g}`,c="show",v="dropup",b="dropend",w="dropstart",N="dropup-center",P="dropdown-center",M='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',F=`${M}.${c}`,L=".dropdown-menu",$=".navbar",ae=".navbar-nav",G=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Oe=i.isRTL()?"top-end":"top-start",Ie=i.isRTL()?"top-start":"top-end",Ce=i.isRTL()?"bottom-end":"bottom-start",De=i.isRTL()?"bottom-start":"bottom-end",ge=i.isRTL()?"left-start":"right-start",ce=i.isRTL()?"right-start":"left-start",ye="top",ve="bottom",ne={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Pe={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Z extends t{constructor(C,K){super(C,K),this._popper=null,this._parent=this._element.parentNode,this._menu=r.next(this._element,L)[0]||r.prev(this._element,L)[0]||r.findOne(L,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ne}static get DefaultType(){return Pe}static get NAME(){return d}toggle(){return this._isShown()?this.hide():this.show()}show(){if(i.isDisabled(this._element)||this._isShown())return;let C={relatedTarget:this._element};if(!n.trigger(this._element,R,C).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ae))for(let H of[].concat(...document.body.children))n.on(H,"mouseover",i.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(c),this._element.classList.add(c),n.trigger(this._element,p,C)}}hide(){if(i.isDisabled(this._element)||!this._isShown())return;let C={relatedTarget:this._element};this._completeHide(C)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(C){if(!n.trigger(this._element,q,C).defaultPrevented){if("ontouchstart"in document.documentElement)for(let H of[].concat(...document.body.children))n.off(H,"mouseover",i.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(c),this._element.classList.remove(c),this._element.setAttribute("aria-expanded","false"),o.removeDataAttribute(this._menu,"popper"),n.trigger(this._element,j,C)}}_getConfig(C){if(C=super._getConfig(C),typeof C.reference=="object"&&!i.isElement(C.reference)&&typeof C.reference.getBoundingClientRect!="function")throw new TypeError(`${d.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return C}_createPopper(){if(typeof a>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let C=this._element;this._config.reference==="parent"?C=this._parent:i.isElement(this._config.reference)?C=i.getElement(this._config.reference):typeof this._config.reference=="object"&&(C=this._config.reference);let K=this._getPopperConfig();this._popper=a.createPopper(C,this._menu,K)}_isShown(){return this._menu.classList.contains(c)}_getPlacement(){let C=this._parent;if(C.classList.contains(b))return ge;if(C.classList.contains(w))return ce;if(C.classList.contains(N))return ye;if(C.classList.contains(P))return ve;let K=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return C.classList.contains(v)?K?Ie:Oe:K?De:Ce}_detectNavbar(){return this._element.closest($)!==null}_getOffset(){let{offset:C}=this._config;return typeof C=="string"?C.split(",").map(K=>Number.parseInt(K,10)):typeof C=="function"?K=>C(K,this._element):C}_getPopperConfig(){let C={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(o.setDataAttribute(this._menu,"popper","static"),C.modifiers=[{name:"applyStyles",enabled:!1}]),{...C,...i.execute(this._config.popperConfig,[void 0,C])}}_selectMenuItem({key:C,target:K}){let H=r.find(G,this._menu).filter(Y=>i.isVisible(Y));H.length&&i.getNextActiveElement(H,K,C===T,!H.includes(K)).focus()}static jQueryInterface(C){return this.each(function(){let K=Z.getOrCreateInstance(this,C);if(typeof C=="string"){if(typeof K[C]>"u")throw new TypeError(`No method named "${C}"`);K[C]()}})}static clearMenus(C){if(C.button===x||C.type==="keyup"&&C.key!==S)return;let K=r.find(F);for(let H of K){let Y=Z.getInstance(H);if(!Y||Y._config.autoClose===!1)continue;let be=C.composedPath(),u=be.includes(Y._menu);if(be.includes(Y._element)||Y._config.autoClose==="inside"&&!u||Y._config.autoClose==="outside"&&u||Y._menu.contains(C.target)&&(C.type==="keyup"&&C.key===S||/input|select|option|textarea|form/i.test(C.target.tagName)))continue;let m={relatedTarget:Y._element};C.type==="click"&&(m.clickEvent=C),Y._completeHide(m)}}static dataApiKeydownHandler(C){let K=/input|textarea/i.test(C.target.tagName),H=C.key===O,Y=[k,T].includes(C.key);if(!Y&&!H||K&&!H)return;C.preventDefault();let be=this.matches(M)?this:r.prev(this,M)[0]||r.next(this,M)[0]||r.findOne(M,C.delegateTarget.parentNode),u=Z.getOrCreateInstance(be);if(Y){C.stopPropagation(),u.show(),u._selectMenuItem(C);return}u._isShown()&&(C.stopPropagation(),u.hide(),be.focus())}}return n.on(document,E,M,Z.dataApiKeydownHandler),n.on(document,E,L,Z.dataApiKeydownHandler),n.on(document,y,Z.clearMenus),n.on(document,D,Z.clearMenus),n.on(document,y,M,function(J){J.preventDefault(),Z.getOrCreateInstance(this).toggle()}),i.defineJQueryPlugin(Z),Z})});var ar=ee((Ft,Kt)=>{(function(e,t){typeof Ft=="object"&&typeof Kt<"u"?Kt.exports=t(Le(),ot(),he()):typeof define=="function"&&define.amd?define(["../dom/event-handler","./config","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Backdrop=t(e.EventHandler,e.Config,e.Index))})(Ft,function(e,t,n){"use strict";let o="backdrop",r="fade",i="show",l=`mousedown.bs.${o}`,a={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},d={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class f extends t{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return a}static get DefaultType(){return d}static get NAME(){return o}show(g){if(!this._config.isVisible){n.execute(g);return}this._append();let O=this._getElement();this._config.isAnimated&&n.reflow(O),O.classList.add(i),this._emulateAnimation(()=>{n.execute(g)})}hide(g){if(!this._config.isVisible){n.execute(g);return}this._getElement().classList.remove(i),this._emulateAnimation(()=>{this.dispose(),n.execute(g)})}dispose(){this._isAppended&&(e.off(this._element,l),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add(r),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=n.getElement(g.rootElement),g}_append(){if(this._isAppended)return;let g=this._getElement();this._config.rootElement.append(g),e.on(g,l,()=>{n.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){n.executeAfterTransition(g,this._getElement(),this._config.isAnimated)}}return f})});var cr=ee((ut,sr)=>{(function(e,t){typeof ut=="object"&&typeof sr<"u"?t(ut,Le(),xe(),he()):typeof define=="function"&&define.amd?define(["exports","../dom/event-handler","../dom/selector-engine","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.ComponentFunctions={},e.EventHandler,e.SelectorEngine,e.Index))})(ut,function(e,t,n,o){"use strict";let r=(i,l="hide")=>{let a=`click.dismiss${i.EVENT_KEY}`,d=i.NAME;t.on(document,a,`[data-bs-dismiss="${d}"]`,function(f){if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),o.isDisabled(this))return;let s=n.getElementFromSelector(this)||this.closest(`.${d}`);i.getOrCreateInstance(s)[l]()})};e.enableDismissTrigger=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})});var lr=ee((Ut,Ht)=>{(function(e,t){typeof Ut=="object"&&typeof Ht<"u"?Ht.exports=t(Le(),xe(),ot()):typeof define=="function"&&define.amd?define(["../dom/event-handler","../dom/selector-engine","./config"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Focustrap=t(e.EventHandler,e.SelectorEngine,e.Config))})(Ut,function(e,t,n){"use strict";let o="focustrap",i=".bs.focustrap",l=`focusin${i}`,a=`keydown.tab${i}`,d="Tab",f="forward",s="backward",g={autofocus:!0,trapElement:null},O={autofocus:"boolean",trapElement:"element"};class S extends n{constructor(T){super(),this._config=this._getConfig(T),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return g}static get DefaultType(){return O}static get NAME(){return o}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),e.off(document,i),e.on(document,l,T=>this._handleFocusin(T)),e.on(document,a,T=>this._handleKeydown(T)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,e.off(document,i))}_handleFocusin(T){let{trapElement:x}=this._config;if(T.target===document||T.target===x||x.contains(T.target))return;let q=t.focusableChildren(x);q.length===0?x.focus():this._lastTabNavDirection===s?q[q.length-1].focus():q[0].focus()}_handleKeydown(T){T.key===d&&(this._lastTabNavDirection=T.shiftKey?s:f)}}return S})});var ur=ee((Yt,Qt)=>{(function(e,t){typeof Yt=="object"&&typeof Qt<"u"?Qt.exports=t(rt(),xe(),he()):typeof define=="function"&&define.amd?define(["../dom/manipulator","../dom/selector-engine","./index"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Scrollbar=t(e.Manipulator,e.SelectorEngine,e.Index))})(Yt,function(e,t,n){"use strict";let o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",r=".sticky-top",i="padding-right",l="margin-right";class a{constructor(){this._element=document.body}getWidth(){let f=document.documentElement.clientWidth;return Math.abs(window.innerWidth-f)}hide(){let f=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,i,s=>s+f),this._setElementAttributes(o,i,s=>s+f),this._setElementAttributes(r,l,s=>s-f)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,i),this._resetElementAttributes(o,i),this._resetElementAttributes(r,l)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(f,s,g){let O=this.getWidth(),S=k=>{if(k!==this._element&&window.innerWidth>k.clientWidth+O)return;this._saveInitialAttribute(k,s);let T=window.getComputedStyle(k).getPropertyValue(s);k.style.setProperty(s,`${g(Number.parseFloat(T))}px`)};this._applyManipulationCallback(f,S)}_saveInitialAttribute(f,s){let g=f.style.getPropertyValue(s);g&&e.setDataAttribute(f,s,g)}_resetElementAttributes(f,s){let g=O=>{let S=e.getDataAttribute(O,s);if(S===null){O.style.removeProperty(s);return}e.removeDataAttribute(O,s),O.style.setProperty(s,S)};this._applyManipulationCallback(f,g)}_applyManipulationCallback(f,s){if(n.isElement(f)){s(f);return}for(let g of t.find(f,this._element))s(g)}}return a})});var dr=ee((Gt,Jt)=>{(function(e,t){typeof Gt=="object"&&typeof Jt<"u"?Jt.exports=t(it(),Le(),xe(),ar(),cr(),lr(),he(),ur()):typeof define=="function"&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/backdrop","./util/component-functions","./util/focustrap","./util/index","./util/scrollbar"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.Offcanvas=t(e.BaseComponent,e.EventHandler,e.SelectorEngine,e.Backdrop,e.ComponentFunctions,e.Focustrap,e.Index,e.Scrollbar))})(Gt,function(e,t,n,o,r,i,l,a){"use strict";let d="offcanvas",s=".bs.offcanvas",g=".data-api",O=`load${s}${g}`,S="Escape",k="show",T="showing",x="hiding",q="offcanvas-backdrop",j=".offcanvas.show",R=`show${s}`,p=`shown${s}`,y=`hide${s}`,E=`hidePrevented${s}`,D=`hidden${s}`,c=`resize${s}`,v=`click${s}${g}`,b=`keydown.dismiss${s}`,w='[data-bs-toggle="offcanvas"]',N={backdrop:!0,keyboard:!0,scroll:!1},P={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class M extends e{constructor(L,$){super(L,$),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return N}static get DefaultType(){return P}static get NAME(){return d}toggle(L){return this._isShown?this.hide():this.show(L)}show(L){if(this._isShown||t.trigger(this._element,R,{relatedTarget:L}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new a().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(T);let ae=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(k),this._element.classList.remove(T),t.trigger(this._element,p,{relatedTarget:L})};this._queueCallback(ae,this._element,!0)}hide(){if(!this._isShown||t.trigger(this._element,y).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(x),this._backdrop.hide();let $=()=>{this._element.classList.remove(k,x),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new a().reset(),t.trigger(this._element,D)};this._queueCallback($,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let L=()=>{if(this._config.backdrop==="static"){t.trigger(this._element,E);return}this.hide()},$=!!this._config.backdrop;return new o({className:q,isVisible:$,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:$?L:null})}_initializeFocusTrap(){return new i({trapElement:this._element})}_addEventListeners(){t.on(this._element,b,L=>{if(L.key===S){if(this._config.keyboard){this.hide();return}t.trigger(this._element,E)}})}static jQueryInterface(L){return this.each(function(){let $=M.getOrCreateInstance(this,L);if(typeof L=="string"){if($[L]===void 0||L.startsWith("_")||L==="constructor")throw new TypeError(`No method named "${L}"`);$[L](this)}})}}return t.on(document,v,w,function(F){let L=n.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&F.preventDefault(),l.isDisabled(this))return;t.one(L,D,()=>{l.isVisible(this)&&this.focus()});let $=n.findOne(j);$&&$!==L&&M.getInstance($).hide(),M.getOrCreateInstance(L).toggle(this)}),t.on(window,O,()=>{for(let F of n.find(j))M.getOrCreateInstance(F).show()}),t.on(window,c,()=>{for(let F of n.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(F).position!=="fixed"&&M.getOrCreateInstance(F).hide()}),r.enableDismissTrigger(M),l.defineJQueryPlugin(M),M})});function tn(e){if(e&&typeof e=="object"){if(e.default)return e.default;let t=Object.keys(e);if(t.length===1)return e[t[0]]}return e}function nn(e,t){return!e||!t?null:typeof e.getOrCreateInstance=="function"?e.getOrCreateInstance(t):new e(t)}function qo(e){return e?typeof e=="string"?document.querySelector(e):e:null}function rn(e,t){return pr.has(e)?pr.get(e)():t()}async function Ro(){Xt||(Xt=rn("collapse",()=>Promise.resolve().then(()=>pt(xn(),1))));let e=await Xt;return tn(e)}async function Bo(){Zt||(Zt=rn("dropdown",()=>Promise.resolve().then(()=>pt(ir(),1))));let e=await Zt;return tn(e)}async function jo(){en||(en=rn("offcanvas",()=>Promise.resolve().then(()=>pt(dr(),1))));let e=await en;return tn(e)}function Vo(){document.querySelectorAll('[data-bs-toggle="collapse"][data-bs-target]').forEach(t=>{t.addEventListener("click",()=>{Wo(t)})})}async function Wo(e){try{let t=e.getAttribute("data-bs-target");if(!t)return;let n=document.querySelector(t);if(!n)return;let o=await Ro();nn(o,n)?.toggle?.()}catch(t){console.error("No se pudo inicializar el Collapse de Bootstrap",t)}}function zo(){document.querySelectorAll('[data-bs-toggle="dropdown"]').forEach(t=>{t.addEventListener("click",n=>{n.preventDefault(),Fo(t)})})}async function Fo(e){try{let t=await Bo();nn(t,e)?.toggle?.()}catch(t){console.error("No se pudo inicializar el Dropdown de Bootstrap",t)}}function hr(){fr||(fr=!0,!(typeof document>"u")&&(Vo(),zo()))}async function mr(e){if(typeof document>"u")throw new Error("Offcanvas no disponible en este entorno");let t=qo(e);if(!t)throw new Error("No se encontr\xF3 el elemento de Offcanvas");let n=await jo(),o=nn(n,t);if(!o||typeof o.show!="function")throw new Error("Instancia de Offcanvas inv\xE1lida");return o.show(),o}var fr,pr,Xt,Zt,en,on=we(()=>{fr=!1,pr=new Map,Xt=null,Zt=null,en=null});function Ze(e,t={}){let n=e.startsWith("/")?e:"/"+e,o=Object.entries(t).map(([i,l])=>`${i}=${l}`).join(","),r=n.split("/").map(encodeURIComponent).join("/");return`/cdn-cgi/image/${o}${r}`}var et,gr=we(()=>{et={fit:"cover",quality:82,format:"auto"}});function yr(){return`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`}function Te(e,t,n={}){let o={level:e,message:t,...n},r=JSON.stringify(o);typeof console[e]=="function"?console[e](r):console.log(r)}var vr=we(()=>{});function un(){if(typeof window<"u"){let e=window[Ar];if(e&&Array.isArray(e.products))return e}return dt&&Array.isArray(dt.products)?dt:null}function Cr(e,t={},{force:n=!1}={}){if(!Array.isArray(e))return null;let o={products:e,version:t.version||null,source:t.source||null,updatedAt:t.updatedAt||Date.now(),isPartial:!!t.isPartial,total:typeof t.total=="number"?t.total:null},r=un();if(r&&!n){let i=r.version||null,l=o.version||null;if(!l&&i||!l&&!i||l&&i===l)return r}return dt=o,typeof window<"u"&&(window[Ar]={...o}),o}function sn(e,t={}){return Cr(e,t,{force:!1})}function Ko(e,t={}){return Cr(e,t,{force:!0})}function Sr(){if(!("serviceWorker"in navigator)){console.warn("Service workers are not supported in this browser");return}if(br)return;br=!0;let e=async()=>{if(document.readyState==="complete"){window.removeEventListener("load",e);try{await Uo()}catch(t){console.error("Service Worker initialization failed:",t),Xo("Failed to initialize service worker. Some features may not work offline.")}}};window.addEventListener("load",e),e()}async function Uo(){try{let e=await navigator.serviceWorker.register(cn.path,{scope:cn.scope});console.log("ServiceWorker registered successfully:",e.scope),Ho(e),Yo(e),Qo(),Go()}catch(e){throw console.error("ServiceWorker registration failed:",e),e}}function Ho(e){e.addEventListener("updatefound",()=>{let t=e.installing;t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&t.postMessage({type:"SKIP_WAITING"})})})}function Yo(e){Er(e),setInterval(()=>{Er(e)},cn.updateCheckInterval)}async function Er(e){try{await e.update();let t=await fetch("/data/product_data.json",{cache:"no-store",headers:{Accept:"application/json"}});if(t.ok){let o=(await t.json()).version,r=localStorage.getItem("productDataVersion");o!==r&&(e.active?.postMessage({type:"INVALIDATE_PRODUCT_CACHE"}),localStorage.setItem("productDataVersion",o),Jo(null,"New product data available"))}}catch(t){console.warn("Update check failed:",t)}}function Qo(){let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(e=!0,window.location.reload())})}function Go(){let e=document.getElementById("offline-indicator");if(!e)return;let t=()=>{let n=navigator.onLine;e.classList.toggle("is-hidden",n),e.style.display=n?"none":"block",n||Zo("You are currently offline. Some features may be limited.")};window.addEventListener("online",t),window.addEventListener("offline",t),navigator.onLine||t()}function Jo(e,t="Una versi\xF3n est\xE1 disponible"){let n=dn(t,"Actualizar ahora","Despu\xE9s",()=>{e?e.postMessage({type:"SKIP_WAITING"}):window.location.reload()});fn(n)}function Xo(e){let t=dn(e,"Reload","Dismiss",()=>window.location.reload());fn(t)}function Zo(e){let t=dn(e,"Retry","Dismiss",()=>window.location.reload());fn(t)}function dn(e,t,n,o){let r=document.createElement("div");return r.className="notification-toast",r.setAttribute("role","alert"),r.setAttribute("aria-live","polite"),r.innerHTML=`
        <div class="notification-content">
            <p>${e}</p>
            <div class="notification-actions">
                <button class="primary-action">${t}</button>
                <button class="secondary-action">${n}</button>
            </div>
        </div>
    `,r.querySelector(".primary-action").addEventListener("click",()=>{try{o()}catch(i){console.error("Primary action failed:",i)}r.remove()}),r.querySelector(".secondary-action").addEventListener("click",()=>{r.remove()}),r}function fn(e){let t=document.querySelector(".notification-toast");t&&t.remove(),document.body.appendChild(e),setTimeout(()=>{document.body.contains(e)&&e.remove()},300*1e3)}function ai(){let e=un();if(e)return e;let t=Tr();if(!t||!Array.isArray(t.initialProducts))return null;let n=ln(t.initialProducts);return sn(n,{version:t.version||null,source:"inline",isPartial:!0,total:typeof t.totalProducts=="number"?t.totalProducts:n.length})}var Ar,dt,cn,br,ei,ti,$e,ni,an,ri,oi,wr,Tr,ii,ln,tt,si,ci,W,me,_r,Or,Dr=we(()=>{gr();vr();on();Ar="__PRODUCT_DATA__",dt=null;cn={path:"/service-worker.js",scope:"/",updateCheckInterval:300*1e3},br=!1;typeof navigator<"u"&&"serviceWorker"in navigator&&Sr();ei=(e,t=100)=>{let n=new Map;return(...o)=>{let r=JSON.stringify(o);if(n.has(r))return n.get(r);let i=e(...o);if(n.size>=t){let l=n.keys().next().value;n.delete(l)}return n.set(r,i),i}},ti=(e,t)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>e(...o),t)}},$e=e=>{if(!e)return"";try{return String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}catch{return String(e).toLowerCase()}},ni=e=>{let t=`${e.name}-${e.category}`.toLowerCase(),n=0;for(let o=0;o<t.length;o++){let r=t.charCodeAt(o);n=(n<<5)-n+r,n=n&n}return`pid-${Math.abs(n)}`},an=e=>{let t=document.createElement("div");return t.textContent=e,t.innerHTML},ri="product-data",oi=()=>{try{return typeof localStorage>"u"?null:localStorage.getItem("productDataVersion")}catch(e){return console.warn("Unable to read stored product data version:",e),null}},wr=e=>{if(e)try{if(typeof localStorage>"u")return;localStorage.setItem("productDataVersion",e)}catch(t){console.warn("Unable to persist product data version:",t)}},Tr=()=>{if(typeof document>"u")return null;try{let e=document.getElementById(ri);if(!e||!e.textContent)return null;let t=e.textContent.trim();if(!t)return null;let n=JSON.parse(t);return n?Array.isArray(n.initialProducts)?n:Array.isArray(n.products)?{...n,initialProducts:n.products}:null:null}catch(e){return Te("warn","inline_product_parse_failure",{error:e.message}),null}},ii=(e,t)=>{let n=e.id||ni(e),o=typeof e.originalIndex=="number"?e.originalIndex:typeof e.order=="number"?e.order:t;return{...e,id:n,name:an(e.name),description:an(e.description),category:an(e.category),categoryKey:e.categoryKey||$e(e.category),originalIndex:o}},ln=(e=[])=>e.map((t,n)=>ii(t,n));ai();tt=class extends Error{constructor(t,{cause:n,correlationId:o}){super(t),this.name="ProductDataError",this.correlationId=o,n&&(this.cause=n)}},si=async(e,t,n,o,r)=>{let i=new URL(e,window.location.origin);if(i.origin!==window.location.origin||i.protocol!=="https:")throw new Error("Invalid request URL: only same-origin HTTPS requests are allowed");let l=i.toString(),a=0,d;for(;a<=n;)try{let f=Date.now(),s=await fetch(l,t),g=Date.now()-f;if(Te("info","fetch_products_attempt",{correlationId:r,attempt:a+1,durationMs:g}),!s.ok)throw new Error(`HTTP error. Status: ${s.status}`);return s}catch(f){if(d=f,a++,a>n)break;Te("warn","fetch_products_retry",{correlationId:r,attempt:a,error:f.message,runbook:"RUNBOOK.md#product-data"}),await new Promise(s=>setTimeout(s,o*a))}throw new tt(`Failed to fetch products: ${d.message}`,{cause:d,correlationId:r})},ci=async()=>{let e=yr(),t=Tr(),n=t?.initialProducts||null,o=t?.version||null,r=typeof t?.totalProducts=="number"?t.totalProducts:null,i=Array.isArray(n)?ln(n):null,l=Array.isArray(i),a=oi();l&&(o&&wr(o),sn(i,{version:o||null,source:"inline",isPartial:!0,total:r??i.length}),Te("info","fetch_products_inline_bootstrap",{correlationId:e,count:i.length}));let d=a||o||null,f=d?`/data/product_data.json?v=${encodeURIComponent(d)}`:"/data/product_data.json";try{let g=await(await si(f,{cache:"no-store",headers:{Accept:"application/json"}},2,300,e)).json(),O=ln(g.products||[]);return Ko(O,{version:g.version||null,source:"network",isPartial:!1,total:O.length}),g.version&&wr(g.version),Te("info","fetch_products_success",{correlationId:e,count:O.length,source:"network"}),O}catch(s){if(l)return sn(i,{version:o||null,source:"inline-fallback",isPartial:!0,total:r??i.length}),Te("warn","fetch_products_network_fallback_inline",{correlationId:e,error:s.message,runbook:"RUNBOOK.md#product-data"}),i;throw Te("error","fetch_products_failure",{correlationId:e,error:s.message,runbook:"RUNBOOK.md#product-data"}),me(`Error al cargar los productos. Por favor, verifique su conexi\xF3n a internet e int\xE9ntelo de nuevo. (Error: ${s.message})`),s instanceof tt?s:new tt(s.message,{cause:s,correlationId:e})}},W=(e,t={},n=[])=>{let o=document.createElement(e);return Object.entries(t).forEach(([r,i])=>{r==="text"?o.textContent=i:o.setAttribute(r,i)}),n.forEach(r=>{typeof r=="string"?o.appendChild(document.createTextNode(r)):o.appendChild(r)}),o},me=e=>{let t=W("div",{class:"error-message",role:"alert"},[W("p",{},[e]),W("button",{class:"retry-button"},["Intentar nuevamente"])]),n=document.getElementById("product-container");n?(n.innerHTML="",n.appendChild(t),t.querySelector(".retry-button").addEventListener("click",Or)):console.error("Contenedor de productos no encontrado")},_r=[];try{_r=JSON.parse(globalThis.localStorage?.getItem("cart"))||[]}catch{_r=[]}typeof window<"u"&&(window.__APP_READY__=!1,window.addEventListener("error",e=>{let t=e.target||e.srcElement,n=!!(t&&(t.tagName==="IMG"||t.tagName==="SCRIPT"||t.tagName==="LINK")),o=!!e.error;if(n||!o){console.warn("Ignored non-fatal error:",{tag:t&&t.tagName,src:t&&(t.src||t.href||t.currentSrc)});return}if(!window.__APP_READY__){console.error("Runtime error before app ready:",e.error);return}console.error("Unhandled JS error:",e.error),me("Ocurri\xF3 un error inesperado. Por favor, recarga la p\xE1gina.")}),window.addEventListener("securitypolicyviolation",e=>{console.warn("CSP violation (logged only):",{blockedURI:e.blockedURI,violatedDirective:e.violatedDirective,sourceFile:e.sourceFile})}));Or=async()=>{console.log("Initializing app...");let e=document.getElementById("product-container"),t=document.getElementById("sort-options"),n=document.getElementById("filter-keyword"),o=document.getElementById("cart-count"),r=document.getElementById("cart-items"),i=document.getElementById("cart-total"),a=Object.entries({"#product-container":e,"#sort-options":t,"#filter-keyword":n,"#cart-count":o,"#cart-items":r,"#cart-total":i}).filter(([,u])=>!u).map(([u])=>u);if(a.length){Te("warn","init_app_missing_dom",{missingSelectors:a,location:typeof window<"u"?window.location?.pathname:"unknown"});return}let d=()=>{let u=document.getElementById("filter-discount");if(u)return u;let m=document.querySelector('section[aria-label*="filtrado"], section[aria-label*="Opciones de filtrado"]'),A=m?m.querySelector(".row"):null;if(!A)return null;let _=W("div",{class:"col-12 mt-2"}),h=W("div",{class:"form-check form-switch"}),I=W("input",{class:"form-check-input",type:"checkbox",id:"filter-discount","aria-label":"Mostrar solo productos con descuento"}),V=W("label",{class:"form-check-label",for:"filter-discount"},["Solo productos con descuento"]);return h.appendChild(I),h.appendChild(V),_.appendChild(h),A.appendChild(_),I},f=12,s=12,g=[],O=[],S=0,k=f,T=null,x=null,q=null,j=!1,R=JSON.parse(localStorage.getItem("cart"))||[],p=()=>{let u=document.getElementById("offline-indicator");if(u){let m=navigator.onLine;u.classList.toggle("is-hidden",m),u.style.display=m?"none":"block"}navigator.onLine||console.log("App is offline. Using cached data if available.")};function y(){let u=document.getElementById("current-year");u&&(u.textContent=new Date().getFullYear())}let E=(u,m,A="CLP")=>{let _=new Intl.NumberFormat("es-CL",{style:"currency",currency:A,minimumFractionDigits:0}),h=_.format(u);if(m){let I=u-m,V=_.format(I);return W("div",{class:"precio-container"},[W("span",{class:"precio-descuento","aria-label":"Precio con descuento"},[V]),W("span",{class:"precio-original","aria-label":"Precio original"},[W("span",{class:"tachado"},[h])])])}return W("div",{class:"precio-container"},[W("span",{class:"precio","aria-label":"Precio"},[h])])},D=u=>{let m=W("div",{class:"quantity-control",style:"display:none;"}),A=W("button",{class:"quantity-btn","data-action":"decrease","aria-label":"Decrease quantity"},["-"]),_=W("button",{class:"quantity-btn","data-action":"increase","aria-label":"Increase quantity"},["+"]),h=W("input",{type:"number",class:"quantity-input",value:Math.max(v(u.id),1),min:"1",max:"50","aria-label":"Quantity","data-id":u.id});return m.appendChild(A),m.appendChild(h),m.appendChild(_),m};function c(u,m){if(!u)return;let A=u.querySelector(".add-to-cart-btn"),_=u.querySelector(".quantity-control"),h=_?.querySelector(".quantity-input"),I=_?.querySelector('.quantity-btn[data-action="decrease"]')||_?.querySelector(".quantity-btn"),V=_?.querySelector('.quantity-btn[data-action="increase"]')||_?.querySelectorAll(".quantity-btn")?.[1],z=(Q,U,B)=>{Q&&Q.dataset.listenerAttached!=="true"&&(Q.addEventListener(U,B),Q.dataset.listenerAttached="true")};z(A,"click",()=>{Pe(m,1),K(A,_,!0)}),z(I,"click",()=>J(m,-1)),z(V,"click",()=>J(m,1)),z(h,"change",Q=>{let U=parseInt(Q.target.value,10);if(!Number.isFinite(U)){Q.target.value=Math.max(v(m.id),1);return}let B=v(m.id);J(m,U-B)});let X=v(m.id);h&&(h.value=X>0?X:1),K(A,_,X>0)}let v=u=>{let m=R.find(A=>A.id===u);return m?m.quantity:0},b=(u,{reset:m=!1}={})=>{if(!e)return 0;m&&(e.innerHTML="");let A=document.createDocumentFragment();return u.forEach(_=>{let{id:h,name:I,description:V,image_path:z,price:X,discount:Q,stock:U}=_,B=W("div",{class:`producto col-12 col-sm-6 col-md-4 col-lg-3 mb-4 ${U?"":"agotado"}`,"aria-label":`Product: ${I}`,"data-product-id":h});B.style.setProperty("content-visibility","auto"),B.style.setProperty("contain-intrinsic-size","400px 560px");let re=W("div",{class:"card"});if(Q&&Number(Q)>0){let Ee=Math.round(Number(Q)/Number(X)*100),pe=W("span",{class:"discount-badge badge bg-danger","aria-label":"Producto en oferta"},[`-${isFinite(Ee)?Ee:0}%`]);re.appendChild(pe)}let qe=`/${z.replace(/^\//,"")}`,Fe=W("img",{src:Ze(qe,{...et,width:400}),srcset:[`${Ze(qe,{...et,width:200})} 200w`,`${Ze(qe,{...et,width:400})} 400w`,`${Ze(qe,{...et,width:800})} 800w`].join(", "),sizes:"200px",alt:I,class:"card-img-top product-thumb",loading:"lazy",decoding:"async",width:"400",height:"400"});re.appendChild(Fe);let fe=W("div",{class:"card-body"});fe.appendChild(W("h3",{class:"card-title"},[I])),fe.appendChild(W("p",{class:"card-text"},[V])),fe.appendChild(E(X,Q));let Ke=W("div",{class:"action-area","data-pid":h}),Ue=W("button",{class:"btn btn-primary add-to-cart-btn mt-2","data-id":h,"aria-label":`Add ${I} to cart`},["Agregar al carrito"]),ft=D(_);Ke.appendChild(Ue),Ke.appendChild(ft),fe.appendChild(Ke),c(Ke,_),re.appendChild(fe),B.appendChild(re),A.appendChild(B)}),e.appendChild(A),G(),u.length},w=u=>{if(!e)return 0;let m=e.querySelectorAll("[data-product-id]");if(!m.length)return 0;let A=new Map(u.map(h=>[h.id,h])),_=0;return m.forEach(h=>{let I=h.getAttribute("data-product-id");if(!I||!A.has(I))return;let V=A.get(I);h.style.setProperty("content-visibility","auto"),h.style.setProperty("contain-intrinsic-size","400px 560px");let z=h.querySelector(".action-area");c(z,V),_+=1}),_},N=()=>{e&&(e.innerHTML=""),S=0},P=()=>{let u=t?.value||"original",m=n?.value?.trim?.()||"",A=document.getElementById("filter-discount")?.checked||!1;O=ce(g,m,u,A)},M=u=>{if(!Array.isArray(O)||O.length===0)return $(),!1;let m=S;if(m>=O.length)return $(),!1;let A=O.slice(m,m+u);return A.length?(b(A),S+=A.length,$(),!0):($(),!1)},F=()=>M(k||f),L=()=>M(s),$=()=>{let u=S<O.length;T&&(T.classList.toggle("d-none",!u),T.disabled=!u),q&&x&&(q.disconnect(),u&&q.observe(x))},ae=()=>{T=document.getElementById("catalog-load-more"),x=document.getElementById("catalog-sentinel"),T&&T.addEventListener("click",()=>{L()}),x&&(q=new IntersectionObserver(u=>{u.forEach(m=>{m.isIntersecting&&L()})},{rootMargin:"200px"})),$()},G=()=>{let u=new IntersectionObserver((m,A)=>{m.forEach(_=>{if(_.isIntersecting){let h=_.target;h.src=h.dataset.src,h.dataset.srcset&&(h.srcset=h.dataset.srcset),h.dataset.sizes&&(h.sizes=h.dataset.sizes),h.classList.remove("lazyload"),A.unobserve(h)}})},{rootMargin:"100px"});document.querySelectorAll("img.lazyload").forEach(m=>u.observe(m))};function Oe(u,m){if(!u||!m||u.length<3)return!1;let A=I=>I.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),_=A(u),h=A(m);return h.includes(_)?!0:_.length>=4?Ie(_,h):!1}function Ie(u,m){return m.split(/\s+/).some(_=>{if(Math.abs(_.length-u.length)>1)return!1;let h=0,I=Math.max(_.length,u.length);if(Math.min(_.length,u.length)<4)return!1;if(_.length===u.length){for(let z=0;z<_.length;z++)if(_[z]!==u[z]&&h++,h>1)return!1;return h===1}else return Ce(u,_)})}function Ce(u,m){let A=u.length>m.length?u:m,_=u.length>m.length?m:u;if(A.length-_.length!==1)return!1;let h=0,I=0,V=0;for(;I<_.length&&V<A.length;)if(_[I]===A[V])I++,V++;else{if(h++,h>1)return!1;V++}return!0}let De=(u,m,A,_=!1)=>{let h=m.trim();return u.filter(I=>!I.stock||_&&!(I.discount&&Number(I.discount)>0)?!1:!h||I.name.toLowerCase().includes(h.toLowerCase())||I.description.toLowerCase().includes(h.toLowerCase())?!0:h.length>=4?Oe(h,I.name):!1).sort((I,V)=>ge(I,V,A))},ge=(u,m,A)=>{if(!A||A==="original")return u.originalIndex-m.originalIndex;let[_,h]=A.split("-"),I=_==="price"?u.price-(u.discount||0):u.name.toLowerCase(),V=_==="price"?m.price-(m.discount||0):m.name.toLowerCase();return h==="asc"?I<V?-1:I>V?1:0:V<I?-1:V>I?1:0},ce=ei(De),ye=()=>{try{if(P(),N(),!O.length){$();return}F()}catch(u){console.error("Error al actualizar visualizaci\xF3n de productos:",u),me("Error al actualizar la visualizaci\xF3n de productos. Por favor, intenta m\xE1s tarde.")}},ve=ti(ye,300),ne=()=>{let u=document.getElementById("cart-count"),m=R.reduce((A,_)=>A+_.quantity,0);u.textContent=m,u.setAttribute("aria-label",`${m} items in cart`)},Pe=(u,m)=>{try{let A=R.find(h=>h.id===u.id);A?A.quantity=Math.min(A.quantity+m,50):R.push({id:u.id,name:u.name,description:u.description,price:u.price,discount:u.discount,image_path:u.image_path,quantity:Math.min(m,50),category:u.category,stock:u.stock}),H(),ne(),Y();let _=document.querySelector(`[data-id="${u.id}"].quantity-input`);_&&(_.value=Math.max(v(u.id),1))}catch(A){console.error("Error al agregar al carrito:",A),me("Error al agregar el art\xEDculo al carrito. Por favor, intenta nuevamente.")}},Z=u=>{try{R=R.filter(A=>A.id!==u),H(),ne(),Y();let m=document.querySelector(`.action-area[data-pid="${u}"]`);if(m){let A=m.querySelector(".add-to-cart-btn"),_=m.querySelector(".quantity-control");K(A,_,!1)}}catch(m){console.error("Error al eliminar del carrito:",m),me("Error al eliminar el art\xEDculo del carrito. Por favor, intenta nuevamente.")}},J=(u,m)=>{try{let A=R.find(z=>z.id===u.id),_=A?A.quantity+m:1,h=document.querySelector(`.action-area[data-pid="${u.id}"]`),I=h?.querySelector(".add-to-cart-btn"),V=h?.querySelector(".quantity-control");if(_<=0)Z(u.id),K(I,V,!1);else if(_<=50){A?A.quantity=_:(Pe(u,1),K(I,V,!0)),H(),ne(),Y();let z=document.querySelector(`[data-id="${u.id}"].quantity-input`);z&&(z.value=_,z.classList.add("quantity-changed"),setTimeout(()=>z.classList.remove("quantity-changed"),300))}}catch(A){console.error("Error al actualizar cantidad:",A),me("Error al actualizar la cantidad. Por favor, intenta nuevamente.")}},C=()=>{try{R=[],H(),ne(),Y(),ye()}catch(u){console.error("Error al vaciar el carrito:",u),me("Error al vaciar el carrito. Por favor, int\xE9ntelo de nuevo.")}},K=(u,m,A)=>{!u||!m||(A?(u.style.display="none",m.style.display="flex"):(m.style.display="none",u.style.display="flex"))},H=()=>{try{localStorage.setItem("cart",JSON.stringify(R))}catch(u){console.error("Error al guardar el carrito:",u),me("Error al guardar el carrito. Tus cambios podr\xEDan no persistir.")}},Y=()=>{let u=document.getElementById("cart-items"),m=document.getElementById("cart-total");u.innerHTML="";let A=0;R.forEach(h=>{let I=h.price-(h.discount||0),V=W("div",{class:"cart-item mb-3 d-flex align-items-start","aria-label":`Cart item: ${h.name}`}),z=W("div",{class:"cart-item-content flex-grow-1"});z.appendChild(W("div",{class:"fw-bold mb-1"},[h.name]));let X=W("div",{class:"mb-2"}),Q=W("button",{class:"btn btn-sm btn-secondary decrease-quantity","data-id":h.id,"aria-label":`Disminuir cantidad de ${h.name}`},["-"]),U=W("button",{class:"btn btn-sm btn-secondary increase-quantity","data-id":h.id,"aria-label":`Aumentar cantidad de ${h.name}`},["+"]),B=W("span",{class:"mx-2 item-quantity","aria-label":`Cantidad de ${h.name}`},[h.quantity.toString()]);X.appendChild(Q),X.appendChild(B),X.appendChild(U),z.appendChild(X),z.appendChild(W("div",{class:"text-muted small"},[`Precio: $${I.toLocaleString("es-CL")}`])),z.appendChild(W("div",{class:"fw-bold"},[`Subtotal: $${(I*h.quantity).toLocaleString("es-CL")}`]));let re=W("button",{class:"btn btn-sm btn-danger remove-item mt-2","data-id":h.id,"aria-label":`Eliminar ${h.name} del carrito`},["Eliminar"]);z.appendChild(re);let qe=window.location.pathname.includes("/pages/"),Fe;qe?Fe=`../${h.image_path.replace(/^\//,"")}`:Fe=h.image_path;let fe=W("div",{class:"cart-item-thumb ms-3 flex-shrink-0"}),Ue={src:h.thumbnail_path||Fe,alt:h.name,class:"cart-item-thumb-img",loading:"lazy",decoding:"async",width:"100",height:"100"};if(Array.isArray(h.thumbnail_variants)){let Ee=h.thumbnail_variants.filter(pe=>pe&&pe.url&&pe.width).map(pe=>`${pe.url} ${pe.width}w`);Ee.length&&(Ue.srcset=Ee.join(", "),Ue.sizes="100px")}let ft=W("img",Ue);if(fe.appendChild(ft),V.appendChild(z),V.appendChild(fe),u.appendChild(V),window.__DEBUG_CART__)try{let Ee=window.getComputedStyle(V),pe=window.getComputedStyle(fe),ui=window.getComputedStyle(z),pn=fe.getBoundingClientRect(),hn=z.getBoundingClientRect();console.debug("[cart] item",{name:h.name,order:{firstIsContent:V.firstChild===z,lastIsThumb:V.lastChild===fe},container:{display:Ee.display,flexDirection:Ee.flexDirection,flexWrap:Ee.flexWrap},thumb:{width:pe.width,height:pe.height,rect:{w:pn.width,h:pn.height}},content:{rect:{w:hn.width,h:hn.height}}})}catch{}A+=I*h.quantity}),m.textContent=`Total: $${A.toLocaleString("es-CL")}`,m.setAttribute("aria-label",`Total: $${A.toLocaleString("es-CL")}`);let _=document.getElementById("payment-credit-container");if(_)if(A>=3e4)_.classList.remove("d-none");else{_.classList.add("d-none");let h=_.querySelector("input");h&&(h.checked=!1)}},be=()=>{let u=document.querySelector('input[name="paymentMethod"]:checked');if(!u){alert("Por favor seleccione un m\xE9todo de pago");return}let m=`Mi pedido:

`;R.forEach(h=>{let I=h.price-(h.discount||0);m+=`${h.name}
`,m+=`Cantidad: ${h.quantity}
`,m+=`Precio unitario: $${I.toLocaleString("es-CL")}
`,m+=`Subtotal: $${(I*h.quantity).toLocaleString("es-CL")}

`});let A=R.reduce((h,I)=>h+(I.price-(I.discount||0))*I.quantity,0);m+=`Total: $${A.toLocaleString("es-CL")}
`,m+=`M\xE9todo de pago: ${u.value}`;let _=encodeURIComponent(m);window.open(`https://wa.me/56951118901?text=${_}`,"_blank")};try{y();let u=un();u?.products?.length&&(g=u.products.map((U,B)=>({...U,originalIndex:typeof U.originalIndex=="number"?U.originalIndex:B,categoryKey:U.categoryKey||$e(U.category)})));let A=document.querySelector("main")?.dataset?.category||"";if(A){let U=$e(A);g=g.filter(B=>(B.categoryKey||$e(B.category))===U).map((B,re)=>({...B,originalIndex:typeof B.originalIndex=="number"?B.originalIndex:re}))}let _=w(g);_>0?(S=_,k=_):S=0,ae(),P(),$(),S===0&&O.length&&F();let h=ci();t.addEventListener("change",()=>{j=!0,ve()}),n.addEventListener("input",()=>{j=!0,ve()});let I=d();I&&I.addEventListener("change",()=>{j=!0,ve()});let V=await h;if(!Array.isArray(V)||V.length===0){if(!g.length){me("No hay productos disponibles. Por favor, intenta m\xE1s tarde.");return}}else if(g=V.map((U,B)=>({...U,originalIndex:typeof U.originalIndex=="number"?U.originalIndex:B,categoryKey:U.categoryKey||$e(U.category)})),A){let U=$e(A);g=g.filter(B=>(B.categoryKey||$e(B.category))===U).map((B,re)=>({...B,originalIndex:typeof B.originalIndex=="number"?B.originalIndex:re}))}P(),j||S===0?(N(),O.length?F():$()):$(),typeof window<"u"&&(window.__APP_READY__=!0),window.addEventListener("online",p),window.addEventListener("offline",p),p();let z=document.getElementById("cart-icon"),X=document.getElementById("empty-cart"),Q=document.getElementById("submit-cart");z&&z.addEventListener("click",async()=>{Y();try{await mr("#cartOffcanvas")}catch(U){console.error("Bootstrap Offcanvas no est\xE1 disponible",U);let B=document.getElementById("cartOffcanvas");B&&B.classList.add("show")}}),X&&X.addEventListener("click",C),Q&&Q.addEventListener("click",be),r&&r.addEventListener("click",U=>{let B=U.target,re=B.closest("[data-id]")?.dataset.id;re&&(B.classList.contains("decrease-quantity")?J({id:re},-1):B.classList.contains("increase-quantity")?J({id:re},1):B.classList.contains("remove-item")&&Z(re))}),ne(),"performance"in window&&window.addEventListener("load",()=>{let U=performance.getEntriesByType("paint"),B=performance.getEntriesByType("navigation")[0];console.log("First Contentful Paint:",U[0].startTime),console.log("DOM Content Loaded:",B.domContentLoadedEventEnd),console.log("Load Time:",B.loadEventEnd)})}catch(u){console.error("Error al inicializar productos:",u),me("Error al cargar productos. Por favor, int\xE9ntelo m\xE1s tarde.")}};typeof document<"u"&&document.addEventListener("DOMContentLoaded",function(){Sr(),Or().catch(e=>{console.error("Error al inicializar la aplicaci\xF3n:",e),me("Error al inicializar la aplicaci\xF3n. Por favor, actualice la p\xE1gina.")})})});var li=ee(()=>{yn();bn();wn();Tn();Dn();Ln();on();Dr();function Pr(){let e=document.documentElement;try{document.querySelectorAll('link[rel="stylesheet"][media="print"][data-defer]').forEach(t=>{t.media="all",t.removeAttribute("data-defer")})}catch{}e.dataset.enhancementsInit!=="1"&&(e.dataset.enhancementsInit="1",gn(),Pn(),vn(),En(),Sn(),Cn(),On(),hr())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Pr):Pr()});li();})();
/*! Bundled license information:

bootstrap/js/dist/dom/data.js:
  (*!
    * Bootstrap data.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/index.js:
  (*!
    * Bootstrap index.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/event-handler.js:
  (*!
    * Bootstrap event-handler.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/manipulator.js:
  (*!
    * Bootstrap manipulator.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/config.js:
  (*!
    * Bootstrap config.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/base-component.js:
  (*!
    * Bootstrap base-component.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dom/selector-engine.js:
  (*!
    * Bootstrap selector-engine.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/collapse.js:
  (*!
    * Bootstrap collapse.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/dropdown.js:
  (*!
    * Bootstrap dropdown.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/backdrop.js:
  (*!
    * Bootstrap backdrop.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/component-functions.js:
  (*!
    * Bootstrap component-functions.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/focustrap.js:
  (*!
    * Bootstrap focustrap.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/util/scrollbar.js:
  (*!
    * Bootstrap scrollbar.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

bootstrap/js/dist/offcanvas.js:
  (*!
    * Bootstrap offcanvas.js v5.3.8 (https://getbootstrap.com/)
    * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)
*/
